<!DOCTYPE html>
<html lang="ko">

<head>
    <title>대시보드 | Amway Korea NEW</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords">
    <meta name="description" content="NY Fee Bundle">
    <meta name="robots" content="index,follow">

	<!-- ABO Dashboard 용 css -->
	<link rel="stylesheet" type="text/css" href="./css/abo.css">

	<script src="./js/jquery.min.js"></script>
	<script src="./js/common.js"></script>
	<script src="./js/confetti.js"></script>
</head>
<body>
	<div id="skipToContent">
		<a href="#contents">콘텐츠 바로가기 </a>
	</div>
	<!-- main -->
	<main class="dashBoard_promotion">
		<div id="dashBoardHeader" class="dashboard-header">
			<div class="dashboard-header__inner">
				<!-- S : 20230315 대시보드 업데이트 -->
				<div class="dashboard-header__user">
					<span class="user-name">한국암웨이</span>
					<span class="user-num">(7480003)</span>
				</div>
				<h1 class="dashboard-header__title">2023년 3월 <br class="mo"/>신규 ABO 프로모션 후원 현황</h1>
				<!-- E : 20230315 대시보드 업데이트 -->
				<a href="#" class="dashboard-header__link">
					<span class="logo">
						<span class="hidden">Amway</span>
					</span>
					홈으로 >
				</a>
			</div>
		</div>

		<!-- contents -->
		<div class="abo-dashboard">
			<div class="main-dash_section">
				<div class="chart-section">
					<div class="chart-section__inner">
						<svg viewBox="0 0 448 448" class="chart">
							<linearGradient
								id="strokeGradient"
								x1="1"
								y1="0"
								x2="0.2"
								y2="0"
							>
								<stop offset="0" style="stop-color:#f7be01"/>
								<stop offset="1.0" style="stop-color:#178100;"/>
							</linearGradient>
							<circle
								class="chart-ring"
								cx="224"
								cy="224"
								r="210"
								fill="transparent"
								stroke="#eaeaea"
								stroke-width="28"
							></circle>

							<!-- 달성 정도에 따라 data-per="50" 로 입력 -->
							<circle
								class="chart-segment chart-ring center"
								data-per="50"
								cx="224"
								cy="224"
								r="210"
								fill="transparent"
								stroke-width="28"
								stroke-dasharray="0 0"
								stroke="url(#strokeGradient)"
								stroke-linecap="round"
							></circle>
							<!-- // 달성 정도에 따라 data-per="50" 로 입력 -->
						</svg>

						<div class="box-chart-data">
							<div class="chart-txt">달성 조</div>
							<div class="chart-data">15</div> <!-- 20230315 대시보드 업데이트 -->
							<button type="button" class="chart-button" data-layer="aboPromotion">달성조건 보기</button>
						</div>

					</div>
				</div>
				<div class="dashboard-info">
					<div class="dashboard-info__title">
						<h3 class="title">프로모션 혜택을 받은 신규 ABO의 데이터는 익일에 반영됩니다.</h3>
					</div>
					<!-- S : 20230315 대시보드 업데이트 -->
					<!-- S : 후원 현황이 없는 경우 -->
					<div class="dashboard-info__nodata">
						<i class="no-data-icon"></i>
						<p class="no-data-text">해당 ABO정보가 없습니다.</p>
					</div>
					<!-- E : 후원 현황이 없는 경우 -->

                    <!-- S : 후원 현황이 있는 경우 -->
					<!-- 20230315 개발요청 : 이름 가나다 순으로 정렬 및 ABO 마스킹 처리 요청 -->
					<div class="dashboard-info__card">
						<div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">1</span>
								<span class="name">김명숙</span>
								<span class="account">7006826769</span>
							</div>
						</div>

						<div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">2</span>
								<span class="name">김**</span>
								<span class="account">70069****3</span>
							</div>
						</div>

						<div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">3</span>
								<span class="name">김**</span>
								<span class="account">70069****3</span>
							</div>
						</div>

						<div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">4</span>
								<span class="name">남***</span>
								<span class="account">70069****3</span>
							</div>
						</div>

						<div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">5</span>
								<span class="name">신**</span>
								<span class="account">70069****3</span>
							</div>
						</div>

						<div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">6</span>
								<span class="name">이**</span>
								<span class="account">70069****3</span>
							</div>
						</div>

                        <div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">7</span>
								<span class="name">정지안</span>
								<span class="account">7006826769</span>
							</div>
						</div>

                        <div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">8</span>
								<span class="name">최**</span>
								<span class="account">70069****3</span>
							</div>
						</div>

                        <div class="dashboard-info__card-item">
							<div class="card-inner">
								<span class="num">9</span>
								<span class="name">하**</span>
								<span class="account">70069****3</span>
							</div>
						</div>
					</div>
                    <!-- E : 후원 현황이 있는 경우 -->

					<div class="dashboard-info__notice">
						<p class="notice-title">알아두세요!</p>
						<div class="notice-list">
							<ul>
								<li>후원 현황은 주문 기준이며, 데이터는 익일에 반영됩니다.</li>
								<li>무통장 입금의 경우, 입금이 완료되지 않은 주문 건은 제외됩니다.</li>
								<li>보다 자세한 사항은 프로모션 안내 페이지를 참조하시기 바랍니다.</li>
							</ul>
						</div>
					</div>

					<div class="dashboard-info__banner">
						<a href="https://www.amway.co.kr/notifications/notice/detail?notificationCode=00793602&noticeType=BUSINESS"><img src="/_ui/responsive/theme-blue/images/dashboard_banner_icon.png"/>신규 ABO 프로모션 <br class="mo"/>공지문 바로가기</a>
					</div>
					<!-- E : 20230315 대시보드 업데이트 -->
				</div>
			</div>
			<!-- 목표 달성시 style="display: block;" 추가 -->
			<div class="abo-dimmed" style="display: block;">
				<div class="dimmed-text">
					3월 목표 달성에 <br>성공하셨습니다!
				</div>
			</div>
			<!-- // 목표 달성시 style="display: block;" 추가 -->
		</div>
		<!-- //contents -->
	</main>
	<!-- //main -->

	<div id="loadLayer1"></div>
	<div id="loadLayer2"></div>
	<div id="loadLayer3"></div>

	<!-- Dashboard 의 % 계산  -->
	<script>
		var segments = $(".chart-segment");
        var firstSegmentOffset = parseInt($(segments[0]).attr("stroke-dashoffset"));
        var preSegmentsTotalLength = $(segments[0]).data("per");

        for (var i = 0; i < segments.length; i++) {
			var progress = $(segments[i]).data("per");
			var radian = 2 * Math.PI * $(segments[i]).attr('r');

			progress = progress / 100;
			progress = radian * (1 - progress);
			var strokeDasharray = progress;

			// console.log(
			// 	'radian ', radian,
			// 	'offset ', progress,
			// 	progress / radian * 100 - 100,
			// 	'percent ', $(segments[i]).data("per")
			// )

			$(segments[i]).css({
				'strokeDasharray': radian,
				'strokeDashoffset': progress,
				// radian
			});
			if (i != 0) {
				var strokeDashoffset = 100 - preSegmentsTotalLength + firstSegmentOffset;
				$(segments[i]).css("stroke-dashoffset", strokeDashoffset);
				preSegmentsTotalLength += percent;
			}
		}
	</script>
	<!-- // Dashboard 의 % 계산  -->

	<!-- layer -->
	<script>
		$(function(){
			AMWAY.callLayer();
		});
		$( '#loadLayer1').load('./order-history.html');// 주문내역
		$( '#loadLayer2').load('./abo-popup.html');// 달성조건안내
        $( '#loadLayer3').load('./abo-promotion.html');// 후원조건안내
	</script>
	<!-- // layer -->

	<!-- 누적 구매금액 애니메이션 -->
	<script>
		function detectScroll() {
			var graphTarget = document.querySelectorAll( '.card-inner' );
			function showValue() {
				var posY;
				for (var i = 0; i < graphTarget.length; i++) {
					posY = graphTarget[i].getBoundingClientRect().top;
					if (posY < (window.innerHeight * 0.98)) {
						graphTarget[i].classList.add( 'moving' );
					}
				}
			}
			showValue();
			window.addEventListener( 'scroll', function () {
				showValue();
			} );
		}
		detectScroll();
	</script>
	<!-- // 누적 구매금액 애니메이션 -->

	<!-- confetti -->
	<script>
		confetti.start()

		setTimeout(function() {
			confetti.stop()
			confetti.remove()
			$('.abo-dimmed').fadeOut()
		}, 2000);
	</script>
	<!-- // confetti -->

</body>
</html>