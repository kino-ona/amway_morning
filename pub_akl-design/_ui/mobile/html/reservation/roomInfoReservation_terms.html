<html lang="ko">

<head>
	<!-- page common -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta http-equiv="Cache-Control" content="no-cache">
	<meta http-equiv="Pragma" content="no-cache">
	<meta name="referrer" content="unsafe-url">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- //page common -->
	<!-- page unique -->
	<meta name="Description" content="설명들어감">
	<meta http-equiv="Last-Modified" content="">
	<meta id="metaTitle" property="og:title">
	<meta id="metaUrl" property="og:url">
	<meta id="metaContent" property="og:description">
	<meta id="metaImage" property="og:image">

	<meta content="website" property="og:type">
	<meta content="Amway Site" property="og:site_name">
	<!-- //page unique -->
	<title>Amway Korea | 비즈룸예약</title>
	<!--[if lt IE 9]>
<script src="/_ui/mobile/common/js/html5.js"></script>
<script src="/_ui/mobile/common/js/ie.print.js"></script>
<![endif]-->
	<script type="text/javascript"
		src="//zn3rssdvubtreszoh-alticorinc.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_3rSsdvUbtRESZoh&amp;Q_LOC=https%3A%2F%2Facademy.amway.co.kr%2Freservation%2FroomForm.do%3FmenuCode%3D3">
	</script>
	<script type="text/javascript" async="" charset="utf-8" id="utag_69"
		src="//cdn.heapanalytics.com/js/heap-4243325240.js"></script>
	<script src="//tags.tiqcdn.com/utag/amway/kr-hybris/prod/utag.js" type="text/javascript" async=""></script>
	<script src="//tags.tiqcdn.com/utag/amway/kr-hybris/prod/utag.js" type="text/javascript" async=""></script>
	<script type="text/javascript" src="/ruxitagentjs_ICA27NVdefgijmoqrtuvx_10215210506134511.js"
		data-dtconfig="app=c91546c95c87690f|cuc=9rj8dgfh|mel=100000|featureHash=ICA27NVdefgijmoqrtuvx|dpvc=1|ssv=4|lastModification=1690610308217|vcv=2|tp=500,50,0,1|rdnt=1|uxrgce=1|bp=3|agentUri=/ruxitagentjs_ICA27NVdefgijmoqrtuvx_10215210506134511.js|reportUrl=/rb_bf49927etb|rid=RID_1792876411|rpid=-1706181800|domain=amway.co.kr">
	</script>
	<link rel="stylesheet" href="/_ui/mobile/common/css/academy_default.css">
	<link rel="stylesheet" href="/_ui/mobile/common/css/default.css">
	<link rel="stylesheet" href="/_ui/mobile/common/css/main.css">
	<link rel="stylesheet" href="/_ui/mobile/common/css/swiper.min.css"> <!-- 20220830 css 추가 -->
	<link rel="stylesheet" href="/_ui/mobile/common/css/swiper-bundle.min.css"> <!-- 20220830 css 추가 -->

	<script src="/_ui/mobile/common/js/jquery-1.8.3.min.js"></script>
	<script src="/_ui/mobile/common/js/pbLayerPopup.js"></script>
	<script src="/_ui/mobile/common/js/pbCommon.js"></script>

	<script type="text/javascript" charset="UTF-8" src="/js/front.js"></script>
	<script type="text/javascript" charset="UTF-8" src="/js/json2.js"></script>
	<script type="text/javascript" charset="UTF-8" src="/js/json3.js"></script>
	<script type="text/javascript" charset="UTF-8" src="/js/jquery.form.js"></script>
	<script type="text/javascript" charset="UTF-8" src="/js/jquery.number.min.js"></script>
	<script type="text/javascript" charset="UTF-8" src="/js/jquery.popupWindow.js"></script>
	<script type="text/javascript" charset="UTF-8" src="/js/date.format.js"></script>
	<script type="text/javascript" charset="UTF-8" src="/js/jquery.history.js"></script>

	<script src="/_ui/mobile/common/js/owl.carousel.js"></script>
	<script src="/_ui/mobile/common/js/apps/kakao.link.js"></script>
	<script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
	<script src="/_ui/mobile/common/js/jquery.event.drag-1.5.min.js"></script>
	<script src="/_ui/mobile/common/js/jquery.touchSlider.js"></script>
	<script src="/_ui/mobile/common/js/jquery.touchSlider2.js"></script>
	<script src="/_ui/mobile/common/js/swiper.min.js"></script> <!-- 20220830 js 추가 -->

	<script src="/_ui/mobile/common/js/pbCommonAcademyReservationSecond.js"></script>
	<script src="/_ui/mobile/common/js/pbCommon.js"></script>
	<script src="/_ui/mobile/common/js/reservationSns.js"></script>
	<script src="/_ui/mobile/common/js/reservation_tab.js"></script>
	<script src="https://js.tosspayments.com/v1/connectpay"></script>


	<script type="text/javascript" charset="UTF-8" src="/js/front_reservation.js"></script>

	<script src="/js/mustache.min.js"></script>
	<script src="/js/stringUtility.js"></script>

	<script type="text/javascript">
		//window.utag_cfg_ovrd = {noview : true};
	</script>
	<style>
		input {
			height: 31px;
		}
	</style>
	<script type="text/javascript">
		var browser;

		// 모바일 가로/세로 resize
		$(window).on("orientationchange", function (event) {
			//		setTimeout(function(){ abnkorea_resize(); }, 500);
		});

		// ap안내 아이프레임 높이 조정
		function abnkoreaApInfoPop_resize() {

			var tempHeight = 0;

			if ($("#uiLayerPop_apInfo").height() > 900) {
				tempHeight = 0;
			} else {
				tempHeight = 900 - $("#uiLayerPop_apInfo").height();
			}


			var iHeight = $("#uiLayerPop_apInfo").height() + tempHeight; //"1320"//

			var isResize = false;
			if (iHeight == null) {
				iHeight = $(document).height();
			}
			try {

				window.parent.postMessage(iHeight, "*");
				isResize = true;

				$("#layerMask").css("display", "none");
			} catch (e) {
				isResize = false;
			}
			if (!isResize) {
				try {} catch (e) {}
			}

		}

		// ap안내 아이프레임 높이 조정
		function abnkoreaConfirmPop_resize() {
			var iHeight = $("#pbContent").height() + 200;
			var isResize = false;
			if (iHeight == null) {
				iHeight = $(document).height();
			}
			try {
				window.parent.postMessage(iHeight, "*");
				isResize = true;
			} catch (e) {
				isResize = false;
			}
			if (!isResize) {
				try {} catch (e) {}
			}
		}


		// 아이프레임 높이 조정
		function abnkoreaCard_resize() {
			var iHeight = $("#pbContent").height() + 200;
			var isResize = false;
			if (iHeight == null) {
				iHeight = $(document).height();
			}
			try {
				window.parent.postMessage(iHeight, "*");
				isResize = true;
			} catch (e) {
				isResize = false;
			}
			if (!isResize) {
				try {} catch (e) {}
			}
		}

		// 아이프레임 높이 조정
		function rsvConfirmPop_resize() {
			$("body").scrollTop(0);
			//alert($('#uiLayerPop_confirm').length);
			//$('#uiLayerPop_confirm').eq(0).scrollIntoView(true);
			$('#uiLayerPop_confirm').each(function () {
				this.scrollIntoView(true);
			});
		}
	</script>
	<script id="tmp_ppAppend" type="x-tmpl-mustache">
		{{#tmp_items}}
<a href="javascript:void(0);" {{#tmp_class}}class="active"{{/tmp_class}} id="detailPpSeq{{tmp_ppseq}}" name="detailPpSeq" onclick="javascript:setRoomInfoList('{{tmp_ppseq}}','{{tmp_ppname}}');">{{tmp_ppname}}</a>
{{/tmp_items}}
{{^tmp_items}}{{/tmp_items}}													
</script>
	<script id="tmp_roomAppend" type="x-tmpl-mustache">
		{{#tmp_items}}
<a href="javascript:void(0);" {{#tmp_class}}class="active"{{/tmp_class}} id="detailRoomSeq{{tmp_roomseq}}" name="detailRoomSeq" onclick="javascript:detailRoom('{{tmp_roomseq}}', '{{tmp_roomname}}','{{tmp_seatcount}}');">{{tmp_roomname}} ({{tmp_seatcount}})</a>
{{/tmp_items}}
{{^tmp_items}}{{/tmp_items}}													
</script>
	<script id="tmp_touchSlider" type="x-tmpl-mustache">
		{{#tmp_items}}
<li><img src='/reservation/imageViews.do?file={{tmp_storefilename}}&mode=RESERVATION' alt='{{tmp_roomname}}' title='{{tmp_altdesc}}' /></li>
{{/tmp_items}}	
{{^tmp_items}}
<li></li>
{{/tmp_items}}							
</script>
	<script id="tmp_roomTbl" type="x-tmpl-mustache">
		{{#tmp_items}}
<dt class="noneBdT"><span class="bizIcon icon1"></span>{{tmp_seatcount_text}}</dt>
<dd class="noneBdT">{{tmp_seatcount}}</dd>
<dt><span class="bizIcon icon2"></span>이용시간</dt>
<dd>{{tmp_usetime}}</dd>
<dt><span class="bizIcon icon3"></span>예약자격</dt>
<dd>{{tmp_role}}<br/><span class="fsS">({{tmp_rolenote}})</span></dd>
<dt><span class="bizIcon icon4"></span>{{tmp_facility_text}}</dt>
<dd>{{tmp_facility}}</dd>	
{{/tmp_items}}	
</script>
	<script id="tmp_calenderHeader" type="x-tmpl-mustache">
		<div class="monthlyWrap">
{{#tmp_items}}
<span>
{{#tmp_topYearTf}}
<span class="year">{{tmp_topYear}}</span>	
{{/tmp_topYearTf}}	
<a href="javascript:calendar('{{tmp_year}}', '{{tmp_month}}');" {{#tmp_boolean}} class="on" {{/tmp_boolean}}>{{tmp_month}}<span>月</span></a>
</span>	
{{#tmp_em}}
<em>|</em>
{{/tmp_em}}
{{/tmp_items}}
</div>
<div class="hText availabilityCount">
</div>
</script>
	<script id="tmp_tblBookCalendar" type="x-tmpl-mustache">
		<caption>캘린더형 - 날짜별 시설예약가능 시간</caption>
<colgroup>
<col style="width:13.5%">
<col style="width:14.5%" span="5">
<col style="width:auto">
</colgroup>
<thead>
<tr>
<th scope="col" class="weekSun">일</th>
<th scope="col" class="weekMon">월</th>
<th scope="col" class="weekTue">화</th>
<th scope="col" class="weekWed">수</th>
<th scope="col" class="weekThur">목</th>
<th scope="col" class="weekFri">금</th>
<th scope="col" class="weekSat">토</th>
</tr>
</thead>
<tbody>
{{#tmp_items}}		
<tr>
{{#detailArrays}}		
{{#tmp_td}}
<td></td>
{{/tmp_td}}
{{^tmp_td}}
{{#tmp_ymdBoolen}}			
<td class="{{tmp_engweekday}}">												
{{#tmp_resvBoolen}}
<a href="javascript:deleteSelcOnCal('{{tmp_day}}', '{{tmp_year}}', '{{tmp_month}}');" id="cal{{tmp_ymd}}">
{{/tmp_resvBoolen}}
{{^tmp_resvBoolen}}
<a href="javascript:void(0);" id="{{tmp_ymd}}">
{{/tmp_resvBoolen}}
{{tmp_day}}
{{#tmp_emBoolen}}
<span>{{tmp_command}}</span>
{{/tmp_emBoolen}}
{{#tmp_resvBoolen}}
<span>({{tmp_resv}})</span>		
{{/tmp_resvBoolen}}
</a>
</td>													
{{/tmp_ymdBoolen}}			
{{^tmp_ymdBoolen}}			
<td class="{{tmp_engweekday}}">
<a href="javascript:void(0);">{{tmp_day}}</a>
</td>		
{{/tmp_ymdBoolen}}			
{{/tmp_td}}		
{{/detailArrays}}
{{^detailArrays}}
<td></td>
{{/detailArrays}}
</tr>	
{{/tmp_items}}		
</tbody>
</script>
	<script id="tmp_calenderHeader1" type="x-tmpl-mustache">
		<div class="hText availabilityCount">
{{#tmp_items}}    
{{#tmp_resvCnt}}	
{{#tmp_Cnt}}
<span>
{{#tmp_dayTag}}일<strong>{{tmp_dayCount}}</strong>회   {{/tmp_dayTag}}
{{#tmp_weekTag}}주<strong>{{tmp_weekCount}}</strong>회 {{/tmp_weekTag}}
{{#tmp_monthTag}}월<strong>{{tmp_monthCount}}</strong>회{{/tmp_monthTag}}
예약 가능</span>
{{/tmp_Cnt}}
{{^tmp_Cnt}}
-
{{/tmp_Cnt}}
{{/tmp_resvCnt}}
{{/tmp_items}}
</div>
</script>
	<script id="tmp_TimeList" type="x-tmpl-mustache">
		{{#tmp_head}}
<table id="{{tmp_year}}{{tmp_tempMonth}}{{tmp_tempDay}}" class="tblSession">
<caption>세션 선택</caption>
<colgroup>				
<col style="width:5%"/>
<col style="width:auto"/>
<col style="width:140px"/>		
</colgroup>
<thead>
<tr>
<th scope="col" colspan="3">
{{tmp_year}}-{{tmp_tempMonth}}-{{tmp_tempDay}} ({{tmp_krweekday}})
<a href="javascript:deleteSelcOnCal('{{tmp_day}}', '{{tmp_year}}', '{{tmp_month}}')" class="btnDel">삭제</a>
</th>
</tr>
</thead>
<tbody>
{{#tmp_Detail}}
{{#tmp_resv}}		
<tr {{#tmp_dcBoon}} id="{{tmp_trId}}" {{/tmp_dcBoon}}>
<td>
<input type="checkbox" id="{{tmp_inputId}}" name="sessionCheck" 
{{#tmp_queenBoolen}}onclick="javascript:cookMasterCheck(this);"{{/tmp_queenBoolen}}					
{{^tmp_queenBoolen}}
{{#tmp_freeMemberBoolen}}
onclick="javascript:freeMemberCheck(this);"
{{/tmp_freeMemberBoolen}}
{{^tmp_freeMemberBoolen}}
onclick="javascript:sessionCheckLoop(this);"
{{/tmp_freeMemberBoolen}}						
{{/tmp_queenBoolen}}/>
<input type="hidden" class="sessionYmd" value="{{tmp_sessionYmd}}"/>
<input type="hidden" class="sessionName" value="{{tmp_sessionName}}"/>
<input type="hidden" class="sessionPrice" value="{{tmp_sessionPrice}}"/>
<input type="hidden" class="price" value="{{tmp_price}}"/>					
<input type="hidden" class="tempPrice" value="{{tmp_tempPrice}}"/>
<input type="hidden" class="discountPrice" value="{{tmp_discountPrice}}"/>
<input type="hidden" class="freeMemberBoolen" value="{{tmp_freeMemberBoolen}}"/>
{{#tmp_queenBoolen}}
<input type="hidden" class="flag" value="true"/>		
{{/tmp_queenBoolen}}
{{^tmp_queenBoolen}}
{{#tmp_freeMemberBoolen}}
<input type="hidden" class="flag" value="true"/>
{{/tmp_freeMemberBoolen}}										
{{/tmp_queenBoolen}}
<input type="hidden" class="rsvSessionSeq" value="{{tmp_rsvSessionSeq}}"/>
<input type="hidden" class="reservationDate" value="{{tmp_reservationDate}}"/>
<input type="hidden" class="startDateTime" value="{{tmp_startDateTime}}"/>
<input type="hidden" class="endDateTime" value="{{tmp_endDateTime}}"/>
</td>
<td>{{tmp_sessionname}}<br/>{{tmp_sessiontime}}</td>
<td class="price">
{{#tmp_dcBoon}}
<span class="throught">
{{tmp_tdPrice}}
</span>
<span>
<em>할인</em>
{{tmp_tdDcPrice}}
</span>
{{/tmp_dcBoon}}
{{^tmp_dcBoon}}
{{tmp_tdPrice}}
{{/tmp_dcBoon}}
</td>                	
</tr>						
{{/tmp_resv}}
{{^tmp_resv}}
<tr class="fullBook">
<td><input type="checkbox" id="" name="" disabled/></td><td>{{tmp_sessionname}}<br/>{{tmp_sessiontime}}</td>					
<td class="price">
<span>{{tmp_able}}</span>						
</td>					
</tr>	
{{/tmp_resv}}
{{/tmp_Detail}}
</tbody>
</table>
{{/tmp_head}}
</script>
	<script id="tmp_TimeListBiz" type="x-tmpl-mustache">
		{{#tmp_head}}
<table id="{{tmp_year}}{{tmp_tempMonth}}{{tmp_tempDay}}" class="tblSession">
<caption>세션 선택</caption>
<colgroup>				
<col style="width:5%"/>
<col style="width:40%"/>
<col style="width:auto"/>		
</colgroup>
<thead>
<tr>
<th scope="col" colspan="3">
{{tmp_year}}-{{tmp_tempMonth}}-{{tmp_tempDay}} ({{tmp_krweekday}})
<a href="javascript:deleteSelcOnCal('{{tmp_day}}', '{{tmp_year}}', '{{tmp_month}}')" class="btnDel">삭제</a>
</th>
</tr>
</thead>
<tbody>
{{#tmp_Detail}}
{{#tmp_resv}}		
<tr {{#tmp_dcBoon}} id="{{tmp_trId}}" {{/tmp_dcBoon}}>
<td><input type="checkbox" id="{{tmp_inputId}}" name="sessionCheck" {{#tmp_dcBoon}}onclick="javascript:cookMasterCheck(this);"{{/tmp_dcBoon}}{{^tmp_dcBoon}}onclick="javascript:sessionCheckLoop(this);"{{/tmp_dcBoon}}/>
<input type="hidden" class="sessionYmd" value="{{tmp_sessionYmd}}"/>
<input type="hidden" class="sessionName" value="{{tmp_sessionName}}"/>
<input type="hidden" class="sessionPrice" value="{{tmp_sessionPrice}}"/>
<input type="hidden" class="price" value="{{tmp_price}}"/>					
<input type="hidden" class="rsvSessionSeq" value="{{tmp_rsvSessionSeq}}"/>
<input type="hidden" class="reservationDate" value="{{tmp_reservationDate}}"/>
<input type="hidden" class="startDateTime" value="{{tmp_startDateTime}}"/>
<input type="hidden" class="endDateTime" value="{{tmp_endDateTime}}"/></td>
<td>{{tmp_sessionname}}<br/>{{tmp_sessiontime}}</td>
<td class="price"><span class="able">{{tmp_able}}</span></td>                	
</tr>						
{{/tmp_resv}}
{{^tmp_resv}}
<tr class="fullBook">
<td><input type="checkbox" id="" name="" disabled/></td>
<td>{{tmp_sessionname}}<br/>{{tmp_sessiontime}}</td>
<td class="price"><span class="able">{{tmp_able}}</span></td>
</tr>	
{{/tmp_resv}}
{{/tmp_Detail}}
</tbody>
</table>
{{/tmp_head}}
</script>
	<script id="tmp_sessionCheckResult" type="x-tmpl-mustache">
		{{#tmp_items}}
<span>{{tmp_sessionYmd}}
<em class="bar">|</em>{{tmp_sessionName}}
{{#tmp_sessionPrice}}
<em class="bar">|</em>{{tmp_sessionPrice}}
{{/tmp_sessionPrice}}
</span>		
{{/tmp_items}}
</script>
	<script id="tmp_roomForm" type="x-tmpl-mustache">
		{{#tmp_items}}
<input type="hidden" name="typeSeq" class="{{tmp_tdclass}}" value="{{tmp_typeSeq}}">
<input type="hidden" name="ppSeq" class="{{tmp_tdclass}}" value="{{tmp_ppSeq}}">
<input type="hidden" name="ppName" class="{{tmp_tdclass}}" value="{{tmp_ppName}}">		
<input type="hidden" name="roomSeq" class="{{tmp_tdclass}}" value="{{tmp_roomSeq}}">
<input type="hidden" name="roomName" class="{{tmp_tdclass}}" value="{{tmp_roomName}}">
<input type="hidden" name="sessionYmd" class="{{tmp_tdclass}}" value="{{tmp_sessionYmd}}">
<input type="hidden" name="sessionName" class="{{tmp_tdclass}}" value="{{tmp_sessionName}}">
<input type="hidden" name="sessionPrice" class="{{tmp_tdclass}}" value="{{tmp_sessionPrice}}">
<input type="hidden" name="reservationDate" class="{{tmp_tdclass}}" value="{{tmp_reservationDate}}">
<input type="hidden" name="rsvSessionSeq" class="{{tmp_tdclass}}" value="{{tmp_rsvSessionSeq}}">
<input type="hidden" name="startDateTime" class="{{tmp_tdclass}}" value="{{tmp_startDateTime}}">
<input type="hidden" name="endDateTime" class="{{tmp_tdclass}}" value="{{tmp_endDateTime}}">
<input type="hidden" name="price" class="{{tmp_tdclass}}" value="{{tmp_price}}">
<input type="hidden" name="cookMasterCode" class="{{tmp_tdclass}}" value="{{tmp_cookMasterCode}}">
<input type="hidden" name="standByNumber" class="{{tmp_tdclass}}" value="{{tmp_standByNumber}}">		
<input type="hidden" name="paymentStatusCode" class="{{tmp_tdclass}}" value="{{tmp_paymentStatusCode}}">	
<input type="hidden" name="freeMemberBoolen" class="{{tmp_tdclass}}" value="{{tmp_freeMember}}">	
{{/tmp_items}}
</script>
	<script id="tmp_cardInfo" type="x-tmpl-mustache">
		{{#tmp_title}}
<strong>{{tmp_title}} : </strong>
{{/tmp_title}}
{{#tmp_items}}
<span class="point1">
{{tmp_ppName}} <em>|</em> {{tmp_roomName}} <em>|</em> {{tmp_reservationDate}} <em>|</em> {{tmp_sessionName}} <br/>
</span>
<input type="hidden" name="cancelKey" value="{{tmp_reservationDate}}_{{tmp_rsvSessionSeq}}"> 
{{/tmp_items}}
</script>
	<script id="tmp_roomAppendCardForm" type="x-tmpl-mustache">
		{{#tmp_items}}
<input type="hidden" name="bankid" value="{{tmp_bankid}}">
<input type="hidden" name="bankname" value="{{tmp_bankname}}">
<input type="hidden" name="paymentmode" value="{{tmp_paymentmode}}">
<input type="hidden" name="cardowner" value="{{tmp_cardowner}}">
<input type="hidden" name="cardnumber1" value="{{tmp_cardnumber1}}">
<input type="hidden" name="cardnumber2" value="{{tmp_cardnumber2}}">
<input type="hidden" name="cardnumber3" value="{{tmp_cardnumber3}}">
<input type="hidden" name="cardnumber4" value="{{tmp_cardnumber4}}">
<input type="hidden" name="cardmonth" value="{{tmp_cardmonth}}">
<input type="hidden" name="cardyear" value="{{tmp_cardyear}}">
<input type="hidden" name="cardpassword" value="{{tmp_cardpassword}}">
<input type="hidden" name="einstallment" value="{{tmp_einstallment}}">
<input type="hidden" name="ninstallment" value="{{tmp_ninstallment}}">
<input type="hidden" name="birthday" value="{{tmp_birthday}}">
<input type="hidden" name="biznumber" value="{{tmp_biznumber}}">		
<input type="hidden" name="orderAmount" value="{{tmp_orderAmount}}">
<input type="hidden" name="interfaceChannel" value="MOBILE">
{{/tmp_items}}
</script>
	<script id="tmp_easypay" type="x-tmpl-mustache">
		<input type="hidden" name="interfaceChannel" value="{{tmp_interfaceChannel}}">
<input type="hidden" name="paymentmode" value="{{tmp_paymentmode}}">
<input type="hidden" name="totalPrice" value="{{tmp_totalPrice}}">
<input type="hidden" name="orderAmount" value="{{tmp_orderAmount}}">
<input type="hidden" name="bankid" value="{{tmp_bankid}}">
<input type="hidden" name="bankname" value="{{tmp_bankname}}">
{{#tmp_items}}		
<input type="hidden" name="ppseq" value="{{tmp_ppseq}}">
<input type="hidden" name="typeseq" value="{{tmp_typeseq}}">
<input type="hidden" name="ppname" value="{{tmp_ppname}}">						
<input type="hidden" name="cookMasterCode" value="{{tmp_cookMasterCode}}">
<input type="hidden" name="sessionname" value="{{tmp_sessionname}}">
<input type="hidden" name="reservationDate" value="{{tmp_reservationDate}}">
<input type="hidden" name="endDateTime" value="{{tmp_endDateTime}}">						
<input type="hidden" name="roomname" value="{{tmp_roomname}}">
<input type="hidden" name="rsvSessionSeq" value="{{tmp_rsvSessionSeq}}">
<input type="hidden" name="paymentStatusCode" value="{{tmp_paymentStatusCode}}">
<input type="hidden" name="startDateTime" value="{{tmp_startDateTime}}">						
<input type="hidden" name="price" value="{{tmp_price}}">
<input type="hidden" name="sessionymd" value="{{tmp_sessionymd}}">
<input type="hidden" name="sessionprice" value="{{tmp_sessionprice}}">
<input type="hidden" name="roomseq" value="{{tmp_roomseq}}">
<input type="hidden" name="standByNumber" value="{{tmp_standByNumber}}">
<input type="hidden" name="freeMemberBoolen" value="{{tmp_freeMember}}">
{{/tmp_items}}
</script>
	<script id="tmp_calender" type="x-tmpl-mustache">
		{{#tmp_items}}		
<tr>
{{#tmp_head}}			
{{#tmp_td}}
<td class="{{tmp_engweekday}}" onclick="javascript:dayCheckReset(this, '{{tmp_ymd}}');">
<a href="#none" {{#tmp_class}}class="selcOn"{{/tmp_class}}>{{tmp_day}}
<span>							
{{#tmp_colorArray}}
<em class="calIcon2 {{tmp_color}}">예약</em>	
{{/tmp_colorArray}}
</span>
</a>
</td>
{{/tmp_td}}	
{{^tmp_td}}
<td></td>
{{/tmp_td}}			
{{/tmp_head}}	
</tr>	
{{/tmp_items}}	
</script>
	<script id="tmp_apayAccount" type="x-tmpl-mustache">
		{{#tmp_items}}

<div class="swiper-slide"  style="width: 302px !important; padding: 0 8px;">
<div class="payment-unit">
<a href="javascript:;" class="payment-link">	
<div	class="payment-card {{tmp_style}}">
<span class="icon"></span>
<span class="txt">{{tmp_bank}}</span>			
<span class="name">{{tmp_customerName}}</span>
<span class="account_number">{{tmp_accountNumber}}</span>
<input type="hidden"  name="apaycustomerId" value="{{tmp_customerId}}">
<input type="hidden"  name="apayid" value="{{tmp_id}}">
<input type="hidden"  name="apaytype" value="{{tmp_type}}">
<input type="hidden"  name="apaycardname" value="{{tmp_bank}}">
<input type="hidden"  name="apaymethodKey" value="{{tmp_methodKey}}">
<input type="hidden"  name="apaystoreId" value="{{tmp_storeId}}">
<input type="hidden"  name="apaybankCode" value="{{tmp_bankCode}}">
</div>
</a>
</div>
</div>																												                                                

{{/tmp_items}}
</script>
	<script id="tmp_apayCard" type="x-tmpl-mustache">
		{{#tmp_items}}

<div class="swiper-slide"  style="width: 302px !important; padding: 0 8px;">
<div class="payment-unit">
<a href="javascript:;" class="payment-link">	
<div	class="payment-card {{tmp_style}}">
<span class="icon"></span>
<span class="txt">{{tmp_cardName}}</span>			
<span class="name">{{tmp_customerName}}</span>
<span class="account_number">{{tmp_cardNumber}}</span>
<input type="hidden"  name="apaycustomerId" value="{{tmp_customerId}}">
<input type="hidden"  name="apayid" value="{{tmp_id}}">
<input type="hidden"  name="apaytype" value="{{tmp_type}}">
<input type="hidden"  name="apaycardname" value="{{tmp_cardName}}">
<input type="hidden"  name="apaymethodKey" value="{{tmp_methodKey}}">
<input type="hidden"  name="apaystoreId" value="{{tmp_storeId}}">
<input type="hidden"  name="apaybankCode" value="{{tmp_bankCode}}">
</div>
</a>
</div>
</div>																												                                                

{{/tmp_items}}
</script>
	<script id="tmp_aboParty" type="x-tmpl-mustache">
		{{#tmp_aboItems}}
<div class="tab-head" role="tab">
<input class="amwa-radio" type="radio" name="apay_partner" id="apay_partner1" value="1" {{#tmp_misDefault}}  checked="checked" {{/tmp_misDefault}} >

<label for="apay_partner1" class="focus">
<span class="pc"><span class="ellipsis">{{tmp_mcustomerName}}</span>님</span>
<input type="hidden" name="mcustomerId" value="{{tmp_mcustomerId}}">													
</label>
</div>
{{#tmp_sub}} 
<div class="tab-head" role="tab">
<input class="amwa-radio" type="radio" name="apay_partner" id="apay_partner2" value="2" {{#tmp_sisDefault}}  checked="checked" {{/tmp_sisDefault}}>	
<label for="apay_partner2" class="focus">
<span class="pc"><span class="ellipsis">{{tmp_scustomerName}}</span>님</span>
<input type="hidden" name="scustomerId" value="{{tmp_scustomerId}}">													
</label>
</div>
{{/tmp_sub}}
{{/tmp_aboItems}}
</script>
	<script id="tmp_aboPartyNull" type="x-tmpl-mustache">
		<div class="swiper-slide">
<div class="payment-unit">
<a href="javascript:;" class="payment-link">	
<div class="payment-card card-area">																						
<p>
등록된 A Pay 계좌/카드가 없습니다.<br>
암웨이 홈페이지에서 등록 후 사용해주세요.
</p>
</div>
</a>
</div>
</div>		
</script>
	<script src="/js/netfunnel.js"></script>
	<script type="text/javascript">
		var typeSeq = "";
		var ppSeq = "";
		var ppName = "";
		var roomSeq = "";
		var roomName = "";
		var year = "";
		var month = "";
		var toYear = "";
		var toMonth = "";
		var sessionId = "";
		var ppCnt = 0;
		var roomCnt = 0;
		var typeSeqSecond = "";
		var seatCount = "";
		var net_year = "";
		var net_month = "";
		var net_day = "";
		var apayClientKeyCard = "";
		var apayClientKeyAccount = "";
		var rtnUrlCard = "";
		var rtnUrlAccount = "";
		var apayInfoJson = "";


		$(document.body).ready(function () {
			refreshOrderPage();

			$("#stepDone").hide();

			setPpInfoList();

			/*선택 카드 변경시*/
			$("#hdCard").hide();
			$("#otherCard").show();
			$("#bankid").change(function () {
				refreshOrderPage();

				if ($("#bankid").val() == "C04") {
					$("#hdCard").show();
					$("#otherCard").hide();
				} else {
					$("#hdCard").hide();
					$("#otherCard").show();
				}
			})

			$("#step1Btn").click(function () {

				/* step1 결과 정리해! */
				step1ResultRender();

				/* 달력을 그려! */
				calendar2(year, month);

				/* step2 다음 버튼 hide */
				$("#step2Btn").hide();

			});

			$("#step2Btn").click(function () {
				/* 선택된 데이터 정리해! */
				sessionCheck();
			});

			$("#step3Btn").click(function () {
				/* 중복예약 확인 ajax */
				paymentCheck();

			});

			$("#cardnumber1").keyup(function () {
				if ($("#cardnumber1").val().length == 4) {
					$("#cardnumber2").focus();
				}
			});
			$("#cardnumber2").keyup(function () {
				if ($("#cardnumber2").val().length == 4) {
					$("#cardnumber3").focus();
				}
			});
			$("#cardnumber3").keyup(function () {
				if ($("#cardnumber3").val().length == 4) {
					$("#cardnumber4").focus();
				}
			});


			/* 예약현황 레이어 팝업 년도 변경*/
			$("#year").change(function () {
				popCalenderInfoAjax($("#year").val(), $("#month").val());
			});

			/* 예약현황 레이어 팝업 월 변경*/
			$("#month").change(function () {
				popCalenderInfoAjax($("#year").val(), $("#month").val());
			});

			/* 예약가능만 보기 */
			$("#check1").change(function () {
				if ($(this).prop("checked")) {
					$(".fullBook").each(function () {
						$(this).hide();
					});
				} else {
					$(".fullBook").each(function () {
						$(this).show();
					});
				}
			});

			$("#eduApply").click(function () {
				/* 퀸룸 typeseq 초기화 */
				if ("3" != "2") {
					typeSeqSecond = "";
				}
				visionCenterClosePop();
			});

			$("#queenApply").click(function () {
				if ("3" == "2") {
					typeSeqSecond = "";
				}
				visionCenterClosePop();
			});

			$("#cookMasterConfirm").click(function () {
				cookMasterConfirm();
			});

			$("#freeMemberConfirm").click(function () {
				freeMemberConfirm();
			});




			var system_type = "PROD";
			if (system_type == "PROD") {
				//send tagging information
				(function (a, b, c, d) {
					a = '//tags.tiqcdn.com/utag/amway/kr-hybris/prod/utag.js'; // ê°ë°/QA íê²½ì¸ ê²½ì°
					b = document;
					c = 'script';
					d = b.createElement(c);
					d.src = a;
					d.type = 'text/java' + c;
					d.async = true;
					a = b.getElementsByTagName(c)[0];
					a.parentNode.insertBefore(d, a);
				})();
			} else {
				//send tagging information
				(function (a, b, c, d) {
					a = '//tags.tiqcdn.com/utag/amway/kr-hybris/dev/utag.js'; // ê°ë°/QA íê²½ì¸ ê²½ì°
					b = document;
					c = 'script';
					d = b.createElement(c);
					d.src = a;
					d.type = 'text/java' + c;
					d.async = true;
					a = b.getElementsByTagName(c)[0];
					a.parentNode.insertBefore(d, a);
				})();
			}


			// set cookie
			function setCookie(name, value, expires) {
				var today = new Date();

				today.setDate(today.getDate() + expires);
				document.cookie = name + "=" + value + "; path=/; expires=" + today.toUTCString() + ";"
			}

			apaySet("ALL", "ALL");

			$("input[name=apay_partner]").click(function () {
				//$('.pay_cont_tail,.apayCashTaxBtn').hide();	
				var partners = $("input[name=apay_partner]:checked").val();

				if (partners == "1") {
					aboPayAccountSet("m", apayInfoJson)
					aboPayCardSet("m", apayInfoJson)
				} else {
					aboPayAccountSet("s", apayInfoJson)
					aboPayCardSet("s", apayInfoJson)
				}
			})

			// S : 20221012 A Pay 확산 현금영수증 추가
			$('#loadLayer1').load('/reservation/apayCashTaxRequest.do');
			$('#loadLayer12').load('/reservation/roomTossInfoPop.do?page=1'); //TOSS 개인정보 수집 이용 동의
			$('#loadLayer13').load('/reservation/roomTossInfoPop.do?page=2'); //TOSS 전자금융거래 기본 약관
			$('#loadLayer14').load('/reservation/roomTossInfoPop.do?page=3'); //TOSS 개인정보 제3자 제공 동의


			$(function () {
				$('.pay_cont_tail').find('a').on('click', function () {
					$('#loadLayer1').children().addClass('showing');
				});
				$(document).on('click', '.btn-cashTax_close', function () {
					if (confirm("취소시 현금영수증 신청을 하지 않게 됩니다. 진행하시겠습니까?")) {

						$("#cash_01").prop("checked", true).attr('checked', 'checked');
						$("#cash_02_01").prop("checked", true).attr('checked', 'checked');
						$("#receiptIssuanceNumber").val("");
						$('#cash_02_cont').hide();
						$("#creditCardKind").empty();
						$("#creditCardKind").append("<option value=\"CPN\">휴대폰번호</option>");
						$("#creditCardKind").append("<option value=\"CDN\">현금영수증카드번호</option>");
						$('body').removeClass('scroll-off');
						$(this).closest('.layer-area').removeClass('showing');
					}
				})
				$(document).on('click', '.btn-cashTax', function () {
					var seleTxt = $("#creditCardKind option:checked").text();
					if ($("input[name=paymentCardMode0]:checked").val() == "Y") {
						if ($("#receiptIssuanceNumber").val() == "") {
							alert(seleTxt + " 를 입력해주세요")
							return false;
						}
					}

					$("#apayCashTaxText").empty()
					$("#apayCashTaxText").append("<span class=\"tax_txt\">" + seleTxt + "</span>")
					$("#apayCashTaxText").append("<div class=\"tax_txt_tail\">" + $(
						"#receiptIssuanceNumber").val() + "</div>")

					$('body').removeClass('scroll-off');
					$(this).closest('.layer-area').removeClass('showing');
				})

				$(document).on('click', '#cash_tax_request .tab-area input:radio', function () {

					var elem = $(this).attr('id');

					$(this).prop("checked", true).attr('checked', 'checked');
					$(this).parents('.pay_cont').find('.tab-cont-st2').hide();
					$(this).parents('.pay_cont').find('#' + elem + '_cont').show();

					if (elem == "cash_02_01" || elem == "cash_02_02") {
						if (elem == "cash_02_01") {
							$("#creditCardKind").empty();
							$("#creditCardKind").append("<option value=\"CPN\">휴대폰번호</option>");
							$("#creditCardKind").append("<option value=\"CDN\">현금영수증카드번호</option>");
						} else {
							$("#creditCardKind").empty();
							$("#creditCardKind").append("<option value=\"CPN\">휴대폰번호</option>");
							$("#creditCardKind").append("<option value=\"CDN\">현금영수증카드번호</option>");
							$("#creditCardKind").append("<option value=\"BRN\">사업자등록번호</option>");
						}

					} else {
						if ($(this).parent().parent('.tab-area').hasClass('tab_control0')) {
							$(this).parents('.tab_control0').find('.tab-cont-st0').hide();
						} else {
							$(this).parents('.tab_control').find('.tab-cont-st2').hide();
						}
					}
					$('#' + elem + '_cont').show();
				});

			})
			// E : 20221012 A Pay 확산 현금영수증 추가

			// S : 20220830 A Pay 확산 관련
			var swiper = new Swiper(".mySwiper", {
				cssWidthAndHeight: true,
				slidesPerView: 'auto',
				visibilityFullFit: true,
				autoResize: false,
				spaceBetween: 0,
				centeredSlides: true,
				// initialSlide: 0, // 초기 슬라이드 위치
				observer: true,
				observeParents: true,
				grabCursor: true,
				slideToClickedSlide: true, //20220218 슬라이드 클릭 시 이동
				keyboard: {
					enabled: true,
				},
				navigation: {
					nextEl: ".swiper-button-next",
					prevEl: ".swiper-button-prev",
				}
			});

			apayPayment();
			// E : 20220830 A Pay 확산 관련
			$(".apayCashTaxBtn").hide();
		});

		function installmentSetup() {
			var strOption = "";
			strOption += "<option value=\"00\" selected=\"selected\">일시불</option>";
			strOption += "<option value=\"02\">2개월</option>";
			strOption += "<option value=\"03\">3개월</option>";
			strOption += "<option value=\"04\">4개월</option>";
			strOption += "<option value=\"05\">5개월</option>";
			strOption += "<option value=\"06\">6개월</option>";
			strOption += "<option value=\"07\">7개월</option>";
			strOption += "<option value=\"08\">8개월</option>";
			strOption += "<option value=\"09\">9개월</option>";
			strOption += "<option value=\"10\">10개월</option>";
			strOption += "<option value=\"11\">11개월</option>";
			strOption += "<option value=\"12\">12개월</option>";

			$("#apayinstallment").append(strOption);
			$("#oldinstallment").append(strOption);
		}

		function apaySet(obj1, obj2) {

			$("#apayCardInfoData").empty();
			$("#apayAccountInfoData").empty();

			$.ajaxCall({
				url: "/reservation/tossInfoAjax.do",
				type: "POST",
				async: false,
				data: {
					"paramPaymethod": obj1,
					"paramMethod": obj2,
					"paramParty": "ALL"
				},
				success: function (data, textStatus, jqXHR) {

					apayClientKeyCard = data.apayClientKeyCard;
					apayClientKeyAccount = data.apayClientKeyAccount;
					rtnUrlCard = data.rtnUrlCard;
					rtnUrlAccount = data.rtnUrlAccount;

					apayInfoJson = data.apayInfo;

					apayBind(apayInfoJson)

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		function apayBind(obj1) {

			if (obj1 != undefined) {

				var cardAboInfo = obj1[0].customerInfo
				var aboParty = "";
				var aboPartyArray = new Array()


				aboParty = new Object();
				aboParty.tmp_mcustomerId = cardAboInfo.masterParty.customerId;
				aboParty.tmp_mcustomerName = cardAboInfo.masterParty.customerName;
				aboParty.tmp_misDefault = cardAboInfo.masterParty.isDefault;

				if (cardAboInfo.subParty != undefined) {
					aboParty.tmp_scustomerId = cardAboInfo.subParty.customerId;
					aboParty.tmp_scustomerName = cardAboInfo.subParty.customerName;
					aboParty.tmp_sisDefault = cardAboInfo.subParty.isDefault;
					aboParty.tmp_sub = true;
				} else {
					aboParty.tmp_sub = false;
				}
				aboPartyArray.push(aboParty);

				var total_aboParty = new Object();
				total_aboParty.tmp_aboItems = aboPartyArray;

				var template = $('#tmp_aboParty').html();
				var rendered = Mustache.render(template, total_aboParty);

				$("#cardaboInfo").empty();
				$("#cardaboInfo").html(rendered);

				if (aboParty.tmp_misDefault == true) {
					aboPayAccountSet("m", obj1)
					aboPayCardSet("m", obj1)
				} else if (aboParty.tmp_sisDefault == true) {
					aboPayAccountSet("s", obj1)
					aboPayCardSet("s", obj1)
				} else {
					aboPayAccountSet("m", obj1)
					aboPayCardSet("m", obj1)
				}

				if (cardAboInfo.subParty == undefined) {
					$("#apay_partner1").attr('checked', true);
					$("#cardaboInfo").hide();
					$(".about_a-pay,.tab-area-out_new").hide();
				}
			}
		}

		function aboPayAccountSet(obj1, obj2) {

			var storeId = obj2[0].accounts.storeId;
			var customerName = "";
			var customerId = "";
			var tempAccArray = "";
			var tempDefaultArray = obj2[0].accounts.defaultPay;
			var defaultid = "";

			if (obj1 == "m") {
				tempAccArray = obj2[0].accounts.masterParty;
				customerName = obj2[0].customerInfo.masterParty.customerName;
				customerId = obj2[0].customerInfo.masterParty.customerId;
			} else {
				tempAccArray = obj2[0].accounts.subParty;
				customerName = obj2[0].customerInfo.subParty.customerName;
				customerId = obj2[0].customerInfo.subParty.customerId;
			}

			var accountArray = new Array();
			var accountInfo = "";

			if (tempAccArray != undefined && tempAccArray.length > 0) {
				if (tempDefaultArray != undefined) {
					for (var i = 0; i < tempDefaultArray.length; i++) {
						if (tempDefaultArray[i].customerId == customerId && tempDefaultArray[i].status == "true") {
							accountInfo = new Object();
							accountInfo.tmp_style = tempDefaultArray[i].style;
							accountInfo.tmp_bank = tempDefaultArray[i].bank;
							accountInfo.tmp_accountNumber = tempDefaultArray[i].accountNumber;
							accountInfo.tmp_customerId = tempDefaultArray[i].customerId;
							accountInfo.tmp_methodKey = tempDefaultArray[i].methodKey;
							accountInfo.tmp_storeId = storeId;
							accountInfo.tmp_customerName = customerName;
							accountInfo.tmp_bankCode = tempDefaultArray[i].bankCode;
							accountInfo.tmp_id = tempDefaultArray[i].id;
							accountInfo.tmp_type = "ACCOUNT";
							accountArray.push(accountInfo);
							defaultid = tempDefaultArray[i].id;
						}
					}
				}


				for (var i = 0; i < tempAccArray.length; i++) {
					if (defaultid != tempAccArray[i].id && tempAccArray[i].status == "true") {
						accountInfo = new Object();
						accountInfo.tmp_style = tempAccArray[i].style;
						accountInfo.tmp_bank = tempAccArray[i].bank;
						accountInfo.tmp_accountNumber = tempAccArray[i].accountNumber;
						accountInfo.tmp_customerId = tempAccArray[i].customerId;
						accountInfo.tmp_methodKey = tempAccArray[i].methodKey;
						accountInfo.tmp_storeId = storeId;
						accountInfo.tmp_customerName = customerName;
						accountInfo.tmp_bankCode = tempAccArray[i].bankCode;
						accountInfo.tmp_id = tempAccArray[i].id;
						accountInfo.tmp_type = "ACCOUNT";
						accountArray.push(accountInfo);
					}
				}

				var total_accountInfo = new Object();
				total_accountInfo.tmp_items = accountArray;

				var template = $('#tmp_apayAccount').html();
				var rendered = Mustache.render(template, total_accountInfo);

				$("#apayAccountInfoData").removeClass("unregister")
				$("#apayAccountInfoData").empty();
				$("#apayAccountInfoData").html(rendered);
			} else {
				$("#apayAccountInfoData").addClass("unregister")
				var template = $('#tmp_aboPartyNull').html();
				var rendered = Mustache.render(template, "");
				$("#apayAccountInfoData").empty();
				$("#apayAccountInfoData").html(rendered);
			}
		}

		function aboPayCardSet(obj1, obj2) {
			var storeId = obj2[0].cards.storeId;
			var tempCardArray = "";
			var customerName = "";
			var customerId = "";
			var tempDefaultArray = obj2[0].cards.defaultPay;
			var defaultid = "";

			if (obj1 == "m") {
				tempCardArray = obj2[0].cards.masterParty;
				customerName = obj2[0].customerInfo.masterParty.customerName;
				customerId = obj2[0].customerInfo.masterParty.customerId;
			} else {
				tempCardArray = obj2[0].cards.subParty;
				customerName = obj2[0].customerInfo.subParty.customerName;
				customerId = obj2[0].customerInfo.subParty.customerId;
			}

			var cardArray = new Array();
			var cardInfo = "";

			if (tempCardArray != undefined && tempCardArray.length > 0) {

				if (tempDefaultArray != undefined) {
					for (var i = 0; i < tempDefaultArray.length; i++) {
						if (tempDefaultArray[i].customerId == customerId && tempDefaultArray[i].status == "true") {
							cardInfo = new Object();
							cardInfo.tmp_style = tempDefaultArray[i].style;
							cardInfo.tmp_cardCompay = tempDefaultArray[i].cardCompay;
							cardInfo.tmp_cardName = tempDefaultArray[i].cardName;
							cardInfo.tmp_cardNumber = tempDefaultArray[i].cardNumber;
							cardInfo.tmp_customerId = tempDefaultArray[i].customerId;
							cardInfo.tmp_methodKey = tempDefaultArray[i].methodKey;
							cardInfo.tmp_storeId = storeId;
							cardInfo.tmp_customerName = customerName;
							cardInfo.tmp_bankCode = tempDefaultArray[i].bankCode;
							cardInfo.tmp_id = tempDefaultArray[i].id;
							cardInfo.tmp_type = "CARD";
							cardArray.push(cardInfo);

							defaultid = tempDefaultArray[i].id;
						}
					}
				}

				for (var i = 0; i < tempCardArray.length; i++) {
					if (defaultid != tempCardArray[i].id && tempCardArray[i].status == "true") {
						cardInfo = new Object();
						cardInfo.tmp_style = tempCardArray[i].style;
						cardInfo.tmp_cardCompay = tempCardArray[i].cardCompay;
						cardInfo.tmp_cardName = tempCardArray[i].cardName;
						cardInfo.tmp_cardNumber = tempCardArray[i].cardNumber;
						cardInfo.tmp_customerId = tempCardArray[i].customerId;
						cardInfo.tmp_methodKey = tempCardArray[i].methodKey;
						cardInfo.tmp_storeId = storeId;
						cardInfo.tmp_customerName = customerName;
						cardInfo.tmp_bankCode = tempCardArray[i].bankCode;
						cardInfo.tmp_id = tempCardArray[i].id;
						cardInfo.tmp_type = "CARD";

						cardArray.push(cardInfo);
					}
				}

				var total_cardInfo = new Object();
				total_cardInfo.tmp_items = cardArray;

				var template = $('#tmp_apayCard').html();
				var rendered = Mustache.render(template, total_cardInfo);

				$("#apayCardInfoData").removeClass("unregister")
				$("#apayCardInfoData").empty();
				$("#apayCardInfoData").html(rendered);
			} else {
				$("#apayCardInfoData").addClass("unregister")
				var template = $('#tmp_aboPartyNull').html();
				var rendered = Mustache.render(template, "");
				$("#apayCardInfoData").empty();
				$("#apayCardInfoData").html(rendered);
			}
		}

		function setPpInfoList() {

			$.ajaxCall({
				url: "/reservation/roomPpInfoListAjax.do",
				type: "POST",
				async: false,
				data: {
					"typeseq": "3"
				},
				success: function (data, textStatus, jqXHR) {
					var ppList = data.ppRsvRoomCodeList;
					var lastPp = data.searchLastRsvRoomPp;

					if (null == ppList || "" == ppList) {
						alert("아직 시설이 등록되지 않았습니다. 운영자에 의해 시설이 등록 된 이후 사용 바랍니다.");
						return;
					}

					typeSeq = ppList[0].typeseq;

					var roomArray = new Array();
					var roomInfo = "";

					for (var i = 0; i < ppList.length; i++) {

						roomInfo = new Object();
						roomInfo.tmp_ppseq = ppList[i].ppseq;
						roomInfo.tmp_ppname = ppList[i].ppname;

						if (ppList[i].ppseq == lastPp.ppseq) {
							roomInfo.tmp_class = true;
							setRoomInfoList(ppList[i].ppseq, ppList[i].ppname);

						} else {
							roomInfo.tmp_class = false;
						}

						roomArray.push(roomInfo);
					}

					var total_roomInfo = new Object();
					total_roomInfo.tmp_items = roomArray;

					var template = $('#tmp_ppAppend').html();
					var rendered = Mustache.render(template, total_roomInfo);

					$(".selectArea.local").empty();
					$(".selectArea.local").append(rendered);
					//			setTimeout(function(){ abnkorea_resize(); }, 500);

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		function setRoomInfoList(getPpseq, getPpname) {

			/* 다목적룸 설정 값 초기화 */
			typeSeqSecond = "";

			/* 선택 pp카운트 */
			ppCnt++;
			roomCnt = 0;

			/* 새로운 pp버튼 클릭시 이전 pp버튼 선택 테두리 지우기 */
			$(".selectArea.local>a").each(function () {
				$(this).removeClass("active");
			});
			ppSeq = "";
			ppName = "";

			/* pp버튼 클릭시 선택 테두리 활성화*/
			$("#detailPpSeq" + getPpseq).addClass("active");
			ppSeq = getPpseq;
			ppName = getPpname;

			var param = {
				"typeseq": typeSeq,
				"ppseq": ppSeq
			};
			$.ajaxCall({
				url: "/reservation/roomRoomInfoListAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {
					var roomList = data.rsvRoomInfoList;
					var lastRoom = data.searchLastRsvRoom;

					if (null == roomList || "" == roomList) {

						alert("예약 가능한 운영 중인 룸이 없습니다");
						$(".selectArea.room").empty();
						$(".selectArea.room").parent().next().hide();
						return false;
					}

					year = roomList[0].year;
					month = roomList[0].month;

					var roomArray = new Array();
					var roomInfo = "";
					var roomShow = false;

					for (var i = 0; i < roomList.length; i++) {

						roomInfo = new Object();
						roomInfo.tmp_roomseq = roomList[i].roomseq;
						roomInfo.tmp_roomname = roomList[i].roomname;
						roomInfo.tmp_seatcount = roomList[i].seatcount;

						if (roomList[i].roomseq == lastRoom.roomseq) {
							roomInfo.tmp_class = true;
							roomShow = true;
							detailRoom(roomList[i].roomseq, roomList[i].roomname, roomInfo.tmp_seatcount);
						} else {
							roomInfo.tmp_class = false;
						}

						roomArray.push(roomInfo);
					}

					if (!roomShow) {
						$(".selectArea.room").parent().next().hide();
					}

					var total_roomInfo = new Object();
					total_roomInfo.tmp_items = roomArray;

					var template = $('#tmp_roomAppend').html();
					var rendered = Mustache.render(template, total_roomInfo);


					$(".selectArea.room").empty();
					$(".selectArea.room").append(rendered);

					$(".selectArea.local").parent().next().hide();
					$(".selectArea.local").parent().next().slideDown();

					/* resize */
					//			setTimeout(function(){ abnkorea_resize(); }, 500);

					/* move to step */
					moveStep.stepOneRoom();

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* 해당 pp의 준비물, 이용자격 등을 조회 */
		function detailRoom(getRoomseq, getRoomName, seatCount) {

			/* 다목적룸 설정 값 초기화 */
			typeSeqSecond = "";

			/* 시설 선택 카운트 */
			roomCnt++;

			/* 새로운 pp버튼 클릭시 이전 pp버튼 선택 테두리 지우기 */
			$(".selectArea.room>a").each(function () {
				$(this).removeClass("active");
			});
			roomSeq = "";
			roomName = "";
			seatCount = "";

			/* pp버튼 클릭시 선택 테두리 활성화*/
			$("#detailRoomSeq" + getRoomseq).addClass("active");
			roomSeq = getRoomseq;
			roomName = getRoomName;
			seatCount = seatCount;

			var param = {
				"roomseq": roomSeq
			};

			$.ajaxCall({
				url: "/reservation/roomRsvRoomDetailInfoAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {
					var detailCode = data.roomRsvRoomDetailInfo;

					$(".selectArea.room").parent().next().find(".tit").empty();
					$(".selectArea.room").parent().next().find(".tit").append(detailCode.ppname + " " + detailCode
						.roomname);
					$(".selectArea.room").parent().next().find(".roomSubText").empty();
					$(".selectArea.room").parent().next().find(".roomSubText").append(detailCode.intro);

					var roomArray = new Array();
					var roomInfo = "";

					roomInfo = new Object();
					roomInfo.tmp_seatcount = detailCode.seatcount;
					roomInfo.tmp_usetime = detailCode.usetime;
					roomInfo.tmp_role = detailCode.role;
					roomInfo.tmp_rolenote = detailCode.rolenote;
					roomInfo.tmp_facility = detailCode.facility;

					if ("3" == "8") {
						roomInfo.tmp_seatcount_text = "권장인원";
						roomInfo.tmp_facility_text = "제공시설";
					} else {
						roomInfo.tmp_seatcount_text = "정원";
						roomInfo.tmp_facility_text = "부대시설";
					}


					roomArray.push(roomInfo);
					var total_roomInfo = new Object();
					total_roomInfo.tmp_items = roomArray;

					var template = $('#tmp_roomTbl').html();
					var rendered = Mustache.render(template, total_roomInfo);

					$(".selectArea.room").parent().next().find(".roomTbl").empty();
					$(".selectArea.room").parent().next().find(".roomTbl").append(rendered);

					if (detailCode.filekey1 == null &&
						detailCode.filekey2 == null &&
						detailCode.filekey3 == null &&
						detailCode.filekey4 == null &&
						detailCode.filekey5 == null &&
						detailCode.filekey6 == null &&
						detailCode.filekey7 == null &&
						detailCode.filekey8 == null &&
						detailCode.filekey9 == null &&
						detailCode.filekey10 == null
					) {
						/* 해당 시설선택시 중비물&사진등 을 담고있는 화면 활성화 */
						$("#touchSlider ul").empty();
						$("#touchSlider ul").append("<li></li>");
						/* 해당 시설선택시 중비물&사진등 을 담고있는 화면 활성화 */
						$(".selectArea.room").parent().next().show();
						//				setTimeout(function(){ abnkorea_resize(); }, 500);				
						touchsliderFn();
					} else {
						var fileKeys =
							detailCode.filekey1 + "," +
							detailCode.filekey2 + "," +
							detailCode.filekey3 + "," +
							detailCode.filekey4 + "," +
							detailCode.filekey5 + "," +
							detailCode.filekey6 + "," +
							detailCode.filekey7 + "," +
							detailCode.filekey8 + "," +
							detailCode.filekey9 + "," +
							detailCode.filekey10;

						/* 해당 시설 이미지 파일 조회 */
						roomImageListAjax(roomSeq, fileKeys);
					}
					/* 다목적 룸 확인 */
					multipurposeRoomCheck();

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}


		/* 해당 시설 이미지 파일 조회 */
		function roomImageListAjax(getRoomseq, fileKeys) {
			var param = {
				"fileKeys": fileKeys,
				"roomseq": getRoomseq
			};

			$.ajaxCall({
				url: "/reservation/roomPpImageUrlListAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {
					var urlList = data.roomImageUrlList;
					var roomArray = new Array();
					var roomInfo = "";

					var html = "";
					if (0 < urlList.length) {
						for (var num in urlList) {
							roomInfo = new Object();
							roomInfo.tmp_storefilename = urlList[num].storefilename;
							roomInfo.tmp_roomname = urlList[num].roomname;
							roomInfo.tmp_altdesc = urlList[num].altdesc;

							roomArray.push(roomInfo);
						}
					}

					var total_roomInfo = new Object();
					total_roomInfo.tmp_items = roomArray;

					var template = $('#tmp_touchSlider').html();
					var rendered = Mustache.render(template, total_roomInfo);

					$("#touchSlider ul").empty();
					$("#touchSlider ul").append(rendered);

					/* 해당 시설선택시 중비물&사진등 을 담고있는 화면 활성화 */
					$(".selectArea.room").parent().next().show();

					//			setTimeout(function(){ abnkorea_resize(); }, 500);

					touchsliderFn();
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* 다목적 룸 확인 */
		function multipurposeRoomCheck() {

			var param = {
				"roomseq": roomSeq
			};

			$.ajaxCall({
				url: "/reservation/multipurposeRoomCheckAjax.do",
				type: "POST",
				data: param,
				async: false,
				success: function (data, textStatus, jqXHR) {
					multipurposeRoomTypeList = data.multipurposeRoomTypeList;
					if (1 == multipurposeRoomTypeList.length) {

					} else if (2 == multipurposeRoomTypeList.length) {

						/* 퀸룸 typeseq 전역변수에 저장 */
						for (var num in multipurposeRoomTypeList) {



							if (multipurposeRoomTypeList[num].typeflag == 'Q') {
								typeSeqSecond = multipurposeRoomTypeList[num].typeseq;
								typeNameSecond = multipurposeRoomTypeList[num].typename;
							}


						}

						/* 레이어팝업 오픈 */
						layerPopupOpen("<a href=\"#uiLayerPop_visionCenter\">", "150px");
						moveStep.top();
					}
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* step1Btn 닫기 버튼 클릭시 step1의 결과값 렌더링 */
		function step1ResultRender() {

			var html = ppName + "<em class=\"bar\">|</em>" + roomName + "(" + seatCount + ")";
			$("#step1Btn").parents(".bizEduPlace").find(".result > .tWrap > span").empty();
			$("#step1Btn").parents(".bizEduPlace").find(".result > .tWrap > span").append(html);

			//setTimeout(function(){ abnkorea_resize(); }, 500);
		}

		/* 다음달 캘린더의 날짜 호출 한다. */
		function calendar(year, month) {
			alert('해당월에 선택된 세션리스트는 삭제됩니다.');
			calendarCase(year, month);
		}

		/* 다음달 캘린더의 날짜 호출 한다. */
		function calendar2(year, month) {
			var date = new Date();
			var year = date.getFullYear();
			var month = new String(date.getMonth() + 1);

			step1Clk = 1;
			/* 선택된 세션 체크 */
			var cnt = 0;
			$("input[name=sessionCheck]").each(function () {
				if ($(this).prop("checked")) {
					cnt++;
				}
			});
			if (cnt == 0) {
				calendarCase(year, month);
			}

			if (cnt != 0 && step1Clk == 1) {
				alert('해당월에 선택된 세션리스트는 삭제됩니다.');
				calendarCase(year, month);
			}
		}

		/* 새로운 캘린더의 날짜 호출 한다. */
		function calendarCase(year, month) {

			net_year = year;
			net_month = month;

			NetFunnel_Action({
				service_id: NetFunnel.TS_SERVICE_ID,
				action_id: NetFunnel_TS_ACTION_ID_AcademyInquiry
			}, {
				success: onSuccess,
				error: onError
			});
		}

		function onError() {
			alert('티켓시스템에 이상이 발견되어 정상진행이 불가합니다. 다시 시도하여 주시기 바랍니다.');
		}

		function onSuccess() {

			year = net_year;
			month = net_month;

			var param = {
				"year": year,
				"month": month < 10 ? "0" + month : month,
				"typeseq": typeSeq,
				"roomseq": roomSeq
			};

			$.ajaxCall({
				url: "/reservation/roomCalendarAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {

					/* 달력 년, 월 랜더링 */
					var yearMonthList = data.roomYearMonth;

					/* 해당 월 달력 정보 */
					var calendar = data.roomCalendar;

					/* 오늘 날짜 정보 (yyyymmdd) */
					var today = data.roomToday;

					var reservationInfoList = data.roomReservationInfoList;
					/*  */

					calenderHeaderRender(yearMonthList);

					/*  */
					calenderRender(calendar, today, reservationInfoList);

					getRsvAvailabilityCount();

					/* move to step */
					moveStep.stepTwo();

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});

		}


		/* 누적 예약 가능 횟수 (월, 주, 일) 조회 */
		function getRsvAvailabilityCount() {

			if (typeSeqSecond == '') {
				var param = {
					ppseq: ppSeq,
					typeseq: typeSeq,
					roomseq: roomSeq
				};
			} else {
				var param = {
					ppseq: ppSeq,
					typeseq: typeSeqSecond,
					roomseq: roomSeq
				};
			}

			$.ajaxCall({
				url: "/reservation/getRsvAvailabilityCountAjax.do",
				type: "POST",
				data: param,
				async: false,
				success: function (data, textStatus, jqXHR) {
					var getRsvAvailabilityCount = data.getRsvAvailabilityCount;
					var cnt = 0;

					var roomArray = new Array();
					var roomInfo = "";
					roomInfo = new Object();

					if (null != getRsvAvailabilityCount) {
						roomInfo.tmp_resvCnt = true;
						if (null != getRsvAvailabilityCount.ppdailycount && null != getRsvAvailabilityCount
							.globaldailycount) {
							var dailyCount = getRsvAvailabilityCount.ppdailycount > getRsvAvailabilityCount
								.globaldailycount ? getRsvAvailabilityCount.globaldailycount :
								getRsvAvailabilityCount.ppdailycount;
							roomInfo.tmp_dayTag = true;
							roomInfo.tmp_dayCount = dailyCount;
							cnt++;
						} else if (null == getRsvAvailabilityCount.ppdailycount && null != getRsvAvailabilityCount
							.globaldailycount) {
							roomInfo.tmp_dayTag = true;
							roomInfo.tmp_dayCount = getRsvAvailabilityCount.globaldailycount;
							cnt++;
						} else if (null != getRsvAvailabilityCount.ppdailycount && null == getRsvAvailabilityCount
							.globaldailycount) {
							roomInfo.tmp_dayTag = true;
							roomInfo.tmp_dayCount = getRsvAvailabilityCount.ppdailycount;
							cnt++;
						} else {
							roomInfo.tmp_dayTag = false;
							roomInfo.tmp_dayCount = "0";
						}

						if (null != getRsvAvailabilityCount.ppweeklycount && null != getRsvAvailabilityCount
							.globalweeklycount) {
							var weeklyCount = getRsvAvailabilityCount.ppweeklycount > getRsvAvailabilityCount
								.globalweeklycount ? getRsvAvailabilityCount.globalweeklycount :
								getRsvAvailabilityCount.ppweeklycount;
							roomInfo.tmp_weekTag = true;
							roomInfo.tmp_weekCount = weeklyCount;
							cnt++;
						} else if (null == getRsvAvailabilityCount.ppweeklycount && null !=
							getRsvAvailabilityCount.globalweeklycount) {
							roomInfo.tmp_weekTag = true;
							roomInfo.tmp_weekCount = getRsvAvailabilityCount.globalweeklycount;
							cnt++;
						} else if (null != getRsvAvailabilityCount.ppweeklycount && null ==
							getRsvAvailabilityCount.globalweeklycount) {
							roomInfo.tmp_weekTag = true;
							roomInfo.tmp_weekCount = getRsvAvailabilityCount.ppweeklycount;
							cnt++;
						} else {
							roomInfo.tmp_weekTag = false;
							roomInfo.tmp_weekCount = "0";
						}

						if (null != getRsvAvailabilityCount.ppmonthlycount && null != getRsvAvailabilityCount
							.globalmonthlycount) {
							var monthlyCount = getRsvAvailabilityCount.ppmonthlycount > getRsvAvailabilityCount
								.globalmonthlycount ? getRsvAvailabilityCount.globalmonthlycount :
								getRsvAvailabilityCount.ppmonthlycount;
							roomInfo.tmp_monthTag = true;
							roomInfo.tmp_monthCount = monthlyCount;
							cnt++;
						} else if (null == getRsvAvailabilityCount.ppmonthlycount && null !=
							getRsvAvailabilityCount.globalmonthlycount) {
							roomInfo.tmp_monthTag = true;
							roomInfo.tmp_monthCount = getRsvAvailabilityCount.globalmonthlycount;
							cnt++;
						} else if (null != getRsvAvailabilityCount.ppmonthlycount && null ==
							getRsvAvailabilityCount.globalmonthlycount) {
							roomInfo.tmp_monthTag = true;
							roomInfo.tmp_monthCount = getRsvAvailabilityCount.ppmonthlycount;
							cnt++;
						} else {
							roomInfo.tmp_monthTag = false;
							roomInfo.tmp_monthCount = "0";
						}
					} else {
						roomInfo.tmp_resvCnt = false;
					}

					if (cnt != 0) {
						roomInfo.tmp_Cnt = true;
					} else {
						roomInfo.tmp_Cnt = false;
					}

					roomArray.push(roomInfo);

					var total_calInfo = new Object();
					total_calInfo.tmp_items = roomArray;

					var template = $('#tmp_calenderHeader1').html();
					var rendered = Mustache.render(template, total_calInfo);

					$(".availabilityCount").remove();

					if (cnt != 0) {
						$(".calenderHeader").append(rendered);
					} else if (null == getRsvAvailabilityCount) {
						$(".calenderHeader").append(rendered);
					} else {
						$(".calenderHeader").append(rendered);
					}
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* 캘린더 헤더 설정 */
		function calenderHeaderRender(yearMonthList) {

			var calArray = new Array();
			var calInfo = "";
			var tmp_year = "";

			for (var num in yearMonthList) {
				/* 5개월 넘어가면 stop */
				if (7 <= num) {
					break;
				}
				calInfo = new Object();
				calInfo.tmp_month = yearMonthList[num].month;
				calInfo.tmp_year = yearMonthList[num].year;
				calInfo.tmp_boolean = true;


				if (month == yearMonthList[num].month) {
					calInfo.tmp_boolean = true;
				} else {
					calInfo.tmp_boolean = false;
				}

				if (tmp_year == yearMonthList[num].year) {
					calInfo.tmp_topYear = "";
					calInfo.tmp_topYearTf = "false";
				} else {
					calInfo.tmp_topYear = yearMonthList[num].year;
					calInfo.tmp_topYearTf = "true";
				}
				tmp_year = yearMonthList[num].year;

				if ((num * 1) + 1 != yearMonthList.length) {
					calInfo.tmp_em = true;
				} else {
					calInfo.tmp_em = false;
				}

				calArray.push(calInfo);
			}

			var total_calInfo = new Object();
			total_calInfo.tmp_items = calArray;


			var template = $('#tmp_calenderHeader').html();
			var rendered = Mustache.render(template, total_calInfo);

			$(".calenderHeader").empty();
			$(".calenderHeader").append(rendered);
		}

		/* 달력 그리기 */
		function calenderRender(calendar, today, reservationInfoList) {

			var calendarCnt = 0;
			var cnt = 0;

			var calArray = new Array();
			var calInfo = "";
			var calDetalArray = new Array();
			var calDetailInfo = "";

			for (var num = 0; num < Math.ceil((calendar.length + (calendar[0].weekday - 1)) / 7); num++) { // n-Week 					
				for (var i = 0; i < 7; i++) {
					calDEtailInfo = new Object();
					if (cnt == calendar.length) { // last day				
						calDEtailInfo.tmp_td = true;
						calDEtailInfo.tmp_ymdBoolen = true;
						calDEtailInfo.tmp_engweekday = "";
						calDEtailInfo.tmp_ymd = "";
						calDEtailInfo.tmp_day = "";
						calDEtailInfo.tmp_command = "";
						calDEtailInfo.tmp_resv = "";
						calDEtailInfo.tmp_emBoolen = false;
						calDEtailInfo.tmp_resvBoolen = false;
					} else {
						if (calendar[cnt].weekday == (i + 1 + (num * 7)) || cnt > 0) {

							if (today.ymd > calendar[cnt].ymd) {
								calDEtailInfo.tmp_td = false;
								calDEtailInfo.tmp_ymdBoolen = false;
								calDEtailInfo.tmp_engweekday = "late";
								calDEtailInfo.tmp_ymd = "";
								calDEtailInfo.tmp_day = calendar[cnt].day;
								calDEtailInfo.tmp_command = "";
								calDEtailInfo.tmp_resv = "";
								calDEtailInfo.tmp_emBoolen = false;
								calDEtailInfo.tmp_resvBoolen = false;
							} else {
								var totalCnt = 0;
								var rsvCnt = 0;
								var stanbyCnt = 0;
								var setCode = "";
								var workCode = "";
								var temp = "";
								var temp2 = "";
								for (var j in reservationInfoList) {
									if (reservationInfoList[j].ymd == calendar[cnt].ymd && reservationInfoList[j]
										.worktypecode == 'S01') {
										if ('R01' != reservationInfoList[j].adminfirstcode) {
											/*관리자 우선예약 아닌경우*/

											stanbyCnt += reservationInfoList[j].rsvcnt;
											rsvCnt += reservationInfoList[j].rsvcnt;
											totalCnt++;

										}
										workCode = "S01";
									} else if (reservationInfoList[j].ymd == calendar[cnt].ymd && reservationInfoList[j]
										.worktypecode == 'S02') {
										if (workCode != "S01") {
											workCode = reservationInfoList[j].worktypecode;
										}
									}
								}

								calDEtailInfo.tmp_td = false;
								calDEtailInfo.tmp_ymdBoolen = true;

								if (workCode == "S02") {
									calDEtailInfo.tmp_engweekday = "late";
									calDEtailInfo.tmp_ymd = calendar[cnt].ymd;
									calDEtailInfo.tmp_day = calendar[cnt].day;
									calDEtailInfo.tmp_command = "휴무";
									calDEtailInfo.tmp_resv = "";
									calDEtailInfo.tmp_emBoolen = true;
									calDEtailInfo.tmp_resvBoolen = false;
								} else if (totalCnt == 0) {
									calDEtailInfo.tmp_engweekday = "late";
									calDEtailInfo.tmp_ymd = calendar[cnt].ymd;
									calDEtailInfo.tmp_day = calendar[cnt].day;
									calDEtailInfo.tmp_command = "";
									calDEtailInfo.tmp_resv = "";
									calDEtailInfo.tmp_emBoolen = false;
									calDEtailInfo.tmp_resvBoolen = false;
								} else if (totalCnt <= rsvCnt && totalCnt <= stanbyCnt) {
									calDEtailInfo.tmp_engweekday = "late";
									calDEtailInfo.tmp_ymd = calendar[cnt].ymd;
									calDEtailInfo.tmp_day = calendar[cnt].day;
									calDEtailInfo.tmp_command = "예약마감";
									calDEtailInfo.tmp_resv = "";
									calDEtailInfo.tmp_emBoolen = true;
									calDEtailInfo.tmp_resvBoolen = false;
								} else {
									calDEtailInfo.tmp_engweekday = calendar[cnt].engweekday;
									calDEtailInfo.tmp_ymd = calendar[cnt].ymd;
									calDEtailInfo.tmp_day = calendar[cnt].day;
									calDEtailInfo.tmp_year = year;
									calDEtailInfo.tmp_month = month;
									calDEtailInfo.tmp_command = "";

									calDEtailInfo.tmp_resv = (totalCnt - rsvCnt);

									calDEtailInfo.tmp_emBoolen = false;
									calDEtailInfo.tmp_resvBoolen = true;

									calendarCnt++;
								}
							}
							cnt++;
						} else {
							calDEtailInfo.tmp_td = true;
							calDEtailInfo.tmp_ymdBoolen = false;
							calDEtailInfo.tmp_engweekday = "";
							calDEtailInfo.tmp_ymd = "";
							calDEtailInfo.tmp_day = "";
							calDEtailInfo.tmp_command = "";
							calDEtailInfo.tmp_resv = "";
						}
					}
					calDetalArray.push(calDEtailInfo);

				}
				calInfo = new Object();
				calInfo.detailArrays = calDetalArray;
				calArray.push(calInfo);

				calDetalArray = [];
			}


			var total_calInfo = new Object();
			total_calInfo.tmp_items = calArray;

			var template = $('#tmp_tblBookCalendar').html();
			var rendered = Mustache.render(template, total_calInfo);

			$(".tblBookCalendar").empty();
			$(".tblBookCalendar").append(rendered);

			/* 세션 정보 삭제 */
			$(".brSessionWrap").empty();

			if (calendarCnt == 0) {

				var months = $(".monthlyWrap > a").length;

				if (1 < months) {
					msg = "당월 예약 가능일이 없습니다. 예약 필수 안내를 참조하여 주십시오.";
				} else {
					msg = "예약자격 및 조건이 맞지 않거나, 예약가능 일정이 없습니다";
				}

				alert(msg);
			}

			//	setTimeout(function(){ abnkorea_resize(); }, 500);

		}

		/* 요리명장 사용가능 무료쿠폰 갯수 조회 */
		function getCookMasterCoupon(tmpReservationDate, ppSeq) {
			var param = {
				"reservationDate": tmpReservationDate,
				"ppseq": ppSeq,
				"roomSeq": roomSeq
			};

			$.ajax({
				url: "/reservation/getCookMasterCouponAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {

					$("#couponCount").val(data.getCookMasterCoupon.couponcount);

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}


		/* 캘린더 에서 선택한 세션 & 날짜 삭제 */
		function deleteSelcOnCal(day, year, month) {

			var tempDay = day < 10 ? "0" + day : day;
			var tempMonth = month < 10 ? "0" + month : month;

			var tempreservationDate = year + "" + tempMonth + tempDay;

			/* 요리명장 무료쿠폰 갯수 조회 */
			if ("3" != "2") { //교육장 & 비즈룸
				if ($("#cookMaster").val() && typeSeqSecond != "") {
					getCookMasterCoupon(tempreservationDate, ppSeq);
				}
			} else { //퀸룸
				if ($("#cookMaster").val() && typeSeqSecond == "") {
					getCookMasterCoupon(tempreservationDate, ppSeq);
				}
			}



			/* 캘린더에서 날짜가  이미 선택이 된 경우  해당 날짜의 세션과 캘린의 선택을 지워줌 */
			if ($("#cal" + year + tempMonth + tempDay).attr("class") == "selcOn") {

				var cnt = 0;
				$("#" + year + tempMonth + tempDay).find("input[name=sessionCheck]").each(function () {
					if ($(this).prop("checked")) {
						cnt++;
					}
				});

				if (cnt != 0) {
					/* confirm 창 */
					if (!confirm("선택하신 날짜에 체크된 세션이 존재합니다. 삭제 하시겠습니까?")) {
						return;
					}

				};

				$("#cal" + year + tempMonth + tempDay).removeClass("selcOn");
				$("#" + year + tempMonth + tempDay).remove();

				/* 캘린더에 새로운 날짜를 선택한 경우 */
			} else {

				$("#cal" + year + tempMonth + tempDay).addClass("selcOn");



				/* 선택 날짜의 세션 정보 상세보기 */
				showSessionBiz(day, year, month);



			}

			//	setTimeout(function(){ abnkorea_resize(); }, 500);
		}

		/* 선택 날짜의 세션 상세보기 */
		function showSessionEdu(day, year, month) {

			net_year = year;
			net_month = month;
			net_day = day;

			NetFunnel_Action({
				service_id: NetFunnel.TS_SERVICE_ID,
				action_id: NetFunnel_TS_ACTION_ID_AcademyInquiry2
			}, {
				success: onSuccessShowSessionEdu,
				error: onError
			});
		}

		function onSuccessShowSessionEdu() {

			var day = net_day
			year = net_year
			month = net_month

			var tempMonth = month < 10 ? "0" + month : month;
			var tempDay = day < 10 ? "0" + day : day;

			var dumpNow = new Date();
			var dumpNowDate = dumpNow.getFullYear() + '' + leadingZeros((dumpNow.getMonth() + 1), 2) + '' + leadingZeros(
				dumpNow.getDate(), 2);
			var dumpNowTime = leadingZeros(dumpNow.getHours(), 2) + '' + leadingZeros(dumpNow.getMinutes(), 2);


			var param = {
				"typeseq": typeSeq,
				"roomseq": roomSeq,
				"year": year,
				"month": tempMonth,
				"day": tempDay
			};

			$.ajaxCall({
				url: "/reservation/roomSeesionListAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {

					var seesionList = data.roomSeesionList;

					if (seesionList.length < 1) {
						alert("예약가능한 날이 아닙니다.")
						return false;
					} else {
						var roomHead = "";
						var roomArray = new Array();
						var roomInfo = "";
						var roomDetailArray = new Array();
						var roomDetail = "";

						var freeMember = "0";
						var freeMemberTf = false;

						if (freeMember != "0") {
							freeMemberTf = true;
						}

						roomInfo = new Object();
						roomInfo.tmp_year = year;
						roomInfo.tmp_tempMonth = tempMonth;
						roomInfo.tmp_tempDay = tempDay;

						roomInfo.tmp_krweekday = seesionList[0].krweekday;

						roomInfo.tmp_month = month;
						roomInfo.tmp_day = day;

						roomArray.push(roomInfo);

						roomHead = new Object();
						roomHead.tmp_head = roomArray;

						var temp = "";
						var settypecode = "";

						for (var num in seesionList) {

							roomDetail = new Object();


							if (typeSeqSecond == "") {
								if ("3" != "2") {
									if (seesionList[num].paymentStatusCode != null || seesionList[num].rsvcount >
										0 ||
										(dumpNowDate == seesionList[num].ymd && dumpNowTime > seesionList[num]
											.startDateTime)
									) {
										/*세션 결제 상태 코드 ,파티션룸일경우 예약 카운드 */

										roomDetail.tmp_queenBoolen = false;
										roomDetail.tmp_freeMemberBoolen = freeMemberTf;
										roomDetail.tmp_resv = false;
										roomDetail.tmp_sessionname = seesionList[num].sessionname;
										roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
										roomDetail.tmp_price = setComma(seesionList[num].price);
										roomDetail.tmp_able = "예약마감";

										if (seesionList[num].discountprice == 0 || seesionList[num]
											.discountprice == null) {
											roomDetail.tmp_discountprice = "";
											roomDetail.tmp_dcBoon = false;
										} else {
											roomDetail.tmp_discountprice = setComma(seesionList[num]
												.discountprice);
											roomDetail.tmp_dcBoon = true;
										}

									} else {

										roomDetail.tmp_queenBoolen = false;
										roomDetail.tmp_freeMemberBoolen = freeMemberTf;
										roomDetail.tmp_resv = true;
										roomDetail.tmp_inputId = seesionList[num].ymd + "_" + seesionList[num]
											.rsvSessionSeq;
										roomDetail.tmp_sessionYmd = year + "-" + tempMonth + "-" + tempDay +
											" (" + seesionList[0].krweekday + ")";
										roomDetail.tmp_sessionName = seesionList[num].sessionname + " (" +
											seesionList[num].sessiontime + ")";
										roomDetail.tmp_tempPrice = seesionList[num].price;
										roomDetail.tmp_discountPrice = seesionList[num].discountprice;
										roomDetail.tmp_rsvSessionSeq = seesionList[num].rsvSessionSeq;
										roomDetail.tmp_reservationDate = seesionList[num].ymd;
										roomDetail.tmp_startDateTime = seesionList[num].startDateTime;
										roomDetail.tmp_endDateTime = seesionList[num].endDateTime;
										roomDetail.tmp_sessionname = seesionList[num].sessionname;
										roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
										roomDetail.tmp_able = "예약 가능";
										roomDetail.tmp_tdPrice = setComma(seesionList[num].price) + "원";
										roomDetail.tmp_dcTxt = "할인";

										if (seesionList[num].discountprice == 0 || seesionList[num]
											.discountprice == null) {
											roomDetail.tmp_dcBoon = false;
											roomDetail.tmp_sessionPrice = setComma(seesionList[num].price) + "원";
											roomDetail.tmp_price = seesionList[num].price;
											roomDetail.tmp_tdDcPrice = "";

										} else {
											roomDetail.tmp_dcBoon = true;
											roomDetail.tmp_sessionPrice = setComma(seesionList[num]
												.discountprice) + "원";
											roomDetail.tmp_price = seesionList[num].discountprice;
											roomDetail.tmp_tdDcPrice = setComma(seesionList[num].discountprice) +
												"원";
										}
									}
								} else {
									if (seesionList[num].paymentStatusCode != null || seesionList[num].rsvcount >
										0 ||
										(dumpNowDate == seesionList[num].ymd && dumpNowTime > seesionList[num]
											.startDateTime)
									) {
										/*세션 결제 상태 코드 ,파티션룸일경우 예약 카운드 */
										roomDetail.tmp_resv = false;
										roomDetail.tmp_queenBoolen = true;
										roomDetail.tmp_freeMemberBoolen = freeMemberTf;
										roomDetail.tmp_sessionname = seesionList[num].sessionname;
										roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
										roomDetail.tmp_price = setComma(seesionList[num].queenprice);
										roomDetail.tmp_able = "예약마감";

										if (seesionList[num].queendiscountprice == 0 || seesionList[num]
											.queendiscountprice == null) {
											roomDetail.tmp_discountprice = "";
											roomDetail.tmp_dcBoon = false;
										} else {
											roomDetail.tmp_discountprice = setComma(seesionList[num]
												.queendiscountprice);
											roomDetail.tmp_dcBoon = true;
										}
									} else {
										roomDetail.tmp_resv = true;
										roomDetail.tmp_queenBoolen = true;
										roomDetail.tmp_freeMemberBoolen = freeMemberTf;

										roomDetail.tmp_resv = true;
										roomDetail.tmp_trId = year + tempMonth + tempDay + seesionList[num]
											.rsvSessionSeq;
										roomDetail.tmp_inputId = seesionList[num].ymd + "_" + seesionList[num]
											.rsvSessionSeq
										roomDetail.tmp_sessionYmd = year + "-" + tempMonth + "-" + tempDay +
											" (" + seesionList[0].krweekday + ")";
										roomDetail.tmp_sessionName = seesionList[num].sessionname + " (" +
											seesionList[num].sessiontime + ")";
										roomDetail.tmp_tempPrice = seesionList[num].queenprice;
										roomDetail.tmp_discountPrice = seesionList[num].queendiscountprice;
										roomDetail.tmp_rsvSessionSeq = seesionList[num].rsvSessionSeq;
										roomDetail.tmp_reservationDate = seesionList[num].ymd;
										roomDetail.tmp_startDateTime = seesionList[num].startDateTime;
										roomDetail.tmp_endDateTime = seesionList[num].endDateTime;
										roomDetail.tmp_sessionname = seesionList[num].sessionname;
										roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
										roomDetail.tmp_able = "예약 가능";
										roomDetail.tmp_tdPrice = setComma(seesionList[num].queenprice) + "원";
										roomDetail.tmp_dcTxt = "할인";


										if (seesionList[num].queendiscountprice == 0 || seesionList[num]
											.queendiscountprice == null) {

											roomDetail.tmp_dcBoon = false;
											roomDetail.tmp_sessionPrice = setComma(seesionList[num].queenprice) +
												"원";
											roomDetail.tmp_price = seesionList[num].queenprice;
											roomDetail.tmp_tdDcPrice = "";

										} else {

											roomDetail.tmp_dcBoon = true;
											roomDetail.tmp_sessionPrice = setComma(seesionList[num]
												.queendiscountprice) + "원";
											roomDetail.tmp_price = seesionList[num].queendiscountprice;
											roomDetail.tmp_tdDcPrice = setComma(seesionList[num]
												.queendiscountprice) + "원";
										}
									}
								}

							} else if (typeSeqSecond != "") {
								if ("3" == "2") {
									if (seesionList[num].paymentStatusCode != null || seesionList[num].rsvcount >
										0 ||
										(dumpNowDate == seesionList[num].ymd && dumpNowTime > seesionList[num]
											.startDateTime)
									) {
										/*세션 결제 상태 코드 ,파티션룸일경우 예약 카운드 */

										roomDetail.tmp_queenBoolen = false;
										roomDetail.tmp_freeMemberBoolen = freeMemberTf;
										roomDetail.tmp_resv = false;
										roomDetail.tmp_sessionname = seesionList[num].sessionname;
										roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
										roomDetail.tmp_price = setComma(seesionList[num].price);
										roomDetail.tmp_able = "예약마감";

										if (seesionList[num].discountprice == 0 || seesionList[num]
											.discountprice == null) {
											roomDetail.tmp_discountprice = "";
											roomDetail.tmp_dcBoon = false;
										} else {
											roomDetail.tmp_discountprice = setComma(seesionList[num]
												.discountprice);
											roomDetail.tmp_dcBoon = true;
										}
									} else {

										roomDetail.tmp_queenBoolen = false;
										roomDetail.tmp_freeMemberBoolen = freeMemberTf;
										roomDetail.tmp_resv = true;
										roomDetail.tmp_inputId = seesionList[num].ymd + "_" + seesionList[num]
											.rsvSessionSeq;
										roomDetail.tmp_sessionYmd = year + "-" + tempMonth + "-" + tempDay +
											" (" + seesionList[0].krweekday + ")";
										roomDetail.tmp_sessionName = seesionList[num].sessionname + " (" +
											seesionList[num].sessiontime + ")";
										roomDetail.tmp_tempPrice = seesionList[num].price;
										roomDetail.tmp_discountPrice = seesionList[num].discountprice;
										roomDetail.tmp_rsvSessionSeq = seesionList[num].rsvSessionSeq;
										roomDetail.tmp_reservationDate = seesionList[num].ymd;
										roomDetail.tmp_startDateTime = seesionList[num].startDateTime;
										roomDetail.tmp_endDateTime = seesionList[num].endDateTime;
										roomDetail.tmp_sessionname = seesionList[num].sessionname;
										roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
										roomDetail.tmp_able = "예약 가능";
										roomDetail.tmp_tdPrice = setComma(seesionList[num].price) + "원";
										roomDetail.tmp_dcTxt = "할인";

										if (seesionList[num].discountprice == 0 || seesionList[num]
											.discountprice == null) {
											roomDetail.tmp_dcBoon = false;
											roomDetail.tmp_sessionPrice = setComma(seesionList[num].price) + "원";
											roomDetail.tmp_price = seesionList[num].price;
											roomDetail.tmp_tdDcPrice = "";

										} else {
											roomDetail.tmp_dcBoon = true;
											roomDetail.tmp_sessionPrice = setComma(seesionList[num]
												.discountprice) + "원";
											roomDetail.tmp_price = seesionList[num].discountprice;
											roomDetail.tmp_tdDcPrice = setComma(seesionList[num].discountprice) +
												"원";
										}
									}
								} else {
									if (seesionList[num].paymentStatusCode != null || seesionList[num].rsvcount >
										0 ||
										(dumpNowDate == seesionList[num].ymd && dumpNowTime > seesionList[num]
											.startDateTime)
									) {
										/*세션 결제 상태 코드 ,파티션룸일경우 예약 카운드 */
										roomDetail.tmp_resv = false;
										roomDetail.tmp_queenBoolen = true;
										roomDetail.tmp_freeMemberBoolen = freeMemberTf;
										roomDetail.tmp_sessionname = seesionList[num].sessionname;
										roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
										roomDetail.tmp_price = setComma(seesionList[num].queenprice);
										roomDetail.tmp_able = "예약마감";

										if (seesionList[num].queendiscountprice == 0 || seesionList[num]
											.queendiscountprice == null) {
											roomDetail.tmp_discountprice = "";
											roomDetail.tmp_dcBoon = false;
										} else {
											roomDetail.tmp_discountprice = setComma(seesionList[num]
												.queendiscountprice);
											roomDetail.tmp_dcBoon = true;
										}
									} else {
										roomDetail.tmp_resv = true;
										roomDetail.tmp_queenBoolen = true;
										roomDetail.tmp_freeMemberBoolen = freeMemberTf;

										roomDetail.tmp_resv = true;
										roomDetail.tmp_trId = year + tempMonth + tempDay + seesionList[num]
											.rsvSessionSeq;
										roomDetail.tmp_inputId = seesionList[num].ymd + "_" + seesionList[num]
											.rsvSessionSeq
										roomDetail.tmp_sessionYmd = year + "-" + tempMonth + "-" + tempDay +
											" (" + seesionList[0].krweekday + ")";
										roomDetail.tmp_sessionName = seesionList[num].sessionname + " (" +
											seesionList[num].sessiontime + ")";
										roomDetail.tmp_tempPrice = seesionList[num].queenprice;
										roomDetail.tmp_discountPrice = seesionList[num].queendiscountprice;
										roomDetail.tmp_rsvSessionSeq = seesionList[num].rsvSessionSeq;
										roomDetail.tmp_reservationDate = seesionList[num].ymd;
										roomDetail.tmp_startDateTime = seesionList[num].startDateTime;
										roomDetail.tmp_endDateTime = seesionList[num].endDateTime;
										roomDetail.tmp_sessionname = seesionList[num].sessionname;
										roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
										roomDetail.tmp_able = "예약 가능";
										roomDetail.tmp_tdPrice = setComma(seesionList[num].queenprice) + "원";
										roomDetail.tmp_dcTxt = "할인";


										if (seesionList[num].queendiscountprice == 0 || seesionList[num]
											.queendiscountprice == null) {

											roomDetail.tmp_dcBoon = false;
											roomDetail.tmp_sessionPrice = setComma(seesionList[num].queenprice) +
												"원";
											roomDetail.tmp_price = seesionList[num].queenprice;
											roomDetail.tmp_tdDcPrice = "";

										} else {

											roomDetail.tmp_dcBoon = true;
											roomDetail.tmp_sessionPrice = setComma(seesionList[num]
												.queendiscountprice) + "원";
											roomDetail.tmp_price = seesionList[num].queendiscountprice;
											roomDetail.tmp_tdDcPrice = setComma(seesionList[num]
												.queendiscountprice) + "원";
										}
									}
								}
							}

							roomDetailArray.push(roomDetail);
						}

						roomHead.tmp_Detail = roomDetailArray;

						var template = $('#tmp_TimeList').html();
						var rendered = Mustache.render(template, roomHead);

						$(".brSessionWrap").append(rendered);

						$("#check1").change();

						//				setTimeout(function(){ abnkorea_resize(); }, 500);
					}

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* 선택 날짜의 세션 상세보기 */
		function showSessionBiz(day, year, month) {

			net_year = year;
			net_month = month;
			net_day = day;

			NetFunnel_Action({
				service_id: NetFunnel.TS_SERVICE_ID,
				action_id: NetFunnel_TS_ACTION_ID_AcademyInquiry2
			}, {
				success: onSuccessShowSessionBiz,
				error: onError
			});
		}

		function onSuccessShowSessionBiz() {

			year = net_year;
			month = net_month;
			var day = net_day;

			var tempMonth = month < 10 ? "0" + month : month;
			var tempDay = day < 10 ? "0" + day : day;
			var dumpNow = new Date();
			var dumpNowDate = dumpNow.getFullYear() + '' + leadingZeros((dumpNow.getMonth() + 1), 2) + '' + leadingZeros(
				dumpNow.getDate(), 2);
			var dumpNowTime = leadingZeros(dumpNow.getHours(), 2) + '' + leadingZeros(dumpNow.getMinutes(), 2);


			var param = {
				"typeseq": typeSeq,
				"roomseq": roomSeq,
				"year": year,
				"month": tempMonth,
				"day": tempDay
			};

			$.ajaxCall({
				url: "/reservation/roomSeesionListAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {

					var seesionList = data.roomSeesionList;

					if (seesionList.length < 1) {
						alert("예약가능한 날이 아닙니다.")
						return false;
					} else {
						var roomHead = "";
						var roomArray = new Array();
						var roomInfo = "";
						var roomDetailArray = new Array();
						var roomDetail = "";

						roomInfo = new Object();
						roomInfo.tmp_year = year;
						roomInfo.tmp_tempMonth = tempMonth;
						roomInfo.tmp_tempDay = tempDay;

						roomInfo.tmp_krweekday = seesionList[0].krweekday;

						roomInfo.tmp_month = month;
						roomInfo.tmp_day = day;

						roomArray.push(roomInfo);

						roomHead = new Object();
						roomHead.tmp_head = roomArray;

						var temp = "";
						var settypecode = "";

						for (var num in seesionList) {

							roomDetail = new Object();



							if (seesionList[num].standByNumber == '0' || seesionList[num].standByNumber == '1' ||
								'R01' == seesionList[num].adminfirstcode ||
								(dumpNowDate == seesionList[num].ymd && dumpNowTime > seesionList[num]
									.startDateTime)
							) {

								roomDetail.tmp_resv = false;
								roomDetail.tmp_sessionname = seesionList[num].sessionname;
								roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
								roomDetail.tmp_price = setComma(seesionList[num].price);
								roomDetail.tmp_able = "예약마감";
								roomDetail.tmp_tdPrice = "무료";

							} else {


								roomDetail.tmp_able = "예약 가능";
								roomDetail.tmp_sessionName = seesionList[num].sessionname + " (" + seesionList[
									num].sessiontime + ")";


								roomDetail.tmp_resv = true;
								roomDetail.tmp_inputId = seesionList[num].ymd + "_" + seesionList[num]
									.rsvSessionSeq;
								roomDetail.tmp_sessionYmd = year + "-" + tempMonth + "-" + tempDay + " (" +
									seesionList[0].krweekday + ")";
								roomDetail.tmp_tempPrice = seesionList[num].price;
								roomDetail.tmp_discountPrice = seesionList[num].discountprice;
								roomDetail.tmp_rsvSessionSeq = seesionList[num].rsvSessionSeq;
								roomDetail.tmp_reservationDate = seesionList[num].ymd;
								roomDetail.tmp_startDateTime = seesionList[num].startDateTime;
								roomDetail.tmp_endDateTime = seesionList[num].endDateTime;
								roomDetail.tmp_sessionname = seesionList[num].sessionname;
								roomDetail.tmp_sessiontime = seesionList[num].sessiontime;
								roomDetail.tmp_tdPrice = "무료";

							}



							roomDetailArray.push(roomDetail);
						}

						roomHead.tmp_Detail = roomDetailArray;

						var template = $('#tmp_TimeListBiz').html();
						var rendered = Mustache.render(template, roomHead);

						$(".brSessionWrap").append(rendered);

						$("#check1").change();

						//				setTimeout(function(){ abnkorea_resize(); }, 500);
					}

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}



		/* 세션 선택 체크  이전, 다음 버튼 on off */
		function sessionCheckLoop(obj) {

			if ($(obj).prop("checked")) {
				$(obj).parents("tr").addClass("select");
			} else {
				$(obj).parents("tr").removeClass("select");
			}

			var cnt = 0;
			$(obj).parents(".brSessionWrap").find("input[name=sessionCheck]").each(function () {
				if ($(this).prop("checked")) {
					cnt++;
				}
			});
			if (cnt != 0) {
				/* 이전 다음 버튼 show */
				$("#step2Btn").show();
			} else {
				/* 이전 다음 버튼 hide */
				$("#step2Btn").hide();
			}

		}

		/* 세션 체크 
		- 요리명장 체크
		- 남은 횟수 체크
		- 무료, 유료 선택 팝업 open
		*/
		function cookMasterCheck(obj) {



			var flagCnt = 0;

			$(".brSessionWrap .flag").each(function () {
				if ($(this).val() == "false") {
					flagCnt++;
				}
			});


			if ($("#cookMaster").val() == "true" &&
				$("#couponCount").val() - flagCnt > 0 &&
				$(obj).prop("checked")) {

				sessionId = $(obj).prop("id");

				$(obj).prop("checked", false);

				$("#rado1").prop("checked", true);

				layerPopupOpen("<a href=\"#uiLayerPop_w03\">");

			} else if ($("#cookMaster").val() == "true" &&
				!($(obj).prop("checked")) &&
				$(obj).parent("td").children(".flag").val() == "false") {
				/* 요리명장 true, 체크박스 false, obj.parent.children flag true */

				/* price 금액 text 원상복구 , flag true 
				setComma(seesionList[num].price)*/
				if ($(obj).parent("td").children(".discountPrice").val() != 0 && $(obj).parent("td").children(
						".discountPrice").val() != null) {
					$(obj).parent("td").parent("tr").children(".price").html(
						"<span class=\"throught\">" + setComma($(obj).parent("td").children(".tempPrice").val()) +
						"원</span><span><em>할인</em>" + setComma($(obj).parent("td").children(".discountPrice").val()) +
						"원</span>"
					);
				} else {
					$(obj).parent("td").parent("tr").children(".price").html(setComma($(obj).parent("td").children(".price")
						.val()) + "원");
				}
				$(obj).parent("td").children(".flag").val("true")

				$(obj).parents("tr").removeClass("select");

				var cnt = 0;
				$(obj).parents(".brSessionWrap").find("input[name=sessionCheck]").each(function () {
					if ($(this).prop("checked")) {
						cnt++;
					}
				});
				if (cnt != 0) {
					/* 이전 다음 버튼 show */
					$("#step2Btn").show();
				} else {
					/* 이전 다음 버튼 hide */
					$("#step2Btn").hide();
				}
			} else {
				if ($(obj).prop("checked")) {
					$(obj).parents("tr").addClass("select");
				} else {
					$(obj).parents("tr").removeClass("select");
				}

				var cnt = 0;
				$(obj).parents(".brSessionWrap").find("input[name=sessionCheck]").each(function () {
					if ($(this).prop("checked")) {
						cnt++;
					}
				});
				if (cnt != 0) {
					/* 이전 다음 버튼 show */
					$("#step2Btn").show();
				} else {
					/* 이전 다음 버튼 hide */
					$("#step2Btn").hide();
				}
			}

			// 	alert($(obj).prop("checked"));

		}


		/* 세션 체크 
		- 요리명장 체크
		- 남은 횟수 체크
		- 무료, 유료 선택 팝업 open
		*/
		function freeMemberCheck(obj) {

			var cheonan_ppseq = "";
			var system_gubun = "PROD";

			if (system_gubun == "PROD") {
				cheonan_ppseq = "12"
			} else {
				cheonan_ppseq = "27"
			}

			/*천안 일경우 패스*/
			if (ppSeq == cheonan_ppseq || "3" == "8") {
				sessionCheckLoop(obj);
			} else {
				var flagCnt = 0;

				$(".brSessionWrap .flag").each(function () {
					if ($(this).val() == "false") {
						flagCnt++;
					}
				});


				if ($("#freeMember").val() == "1" && $(obj).prop("checked")) {

					sessionId = $(obj).prop("id");

					$(obj).prop("checked", false);

					$("#rado1a").prop("checked", true);

					layerPopupOpen("<a href=\"#uiLayerPop_w031\">");

				} else if ($("#freeMember").val() == "1" && !($(obj).prop("checked")) && $(obj).parent("td").children(".flag")
					.val() == "false") {
					/* 요리명장 true, 체크박스 false, obj.parent.children flag true */

					/* price 금액 text 원상복구 , flag true 
					setComma(seesionList[num].price)*/
					$(obj).parent("td").parent("tr").find(".price").empty();

					if ($(obj).parent("td").children(".discountPrice").val() != 0 && $(obj).parent("td").children(
							".discountPrice").val() != null) {
						$(obj).parent("td").parent("tr").children(".price").html(
							"<span class=\"throught\">" + setComma($(obj).parent("td").children(".tempPrice").val()) +
							"원</span><span><em>할인</em>" + setComma($(obj).parent("td").children(".discountPrice").val()) +
							"원</span>"
						);
					} else {
						$(obj).parent("td").parent("tr").children(".price").html(setComma($(obj).parent("td").children(
							".price").val()) + "원");
					}
					$(obj).parent("td").children(".flag").val("true")

					$(obj).parents("tr").removeClass("select");

					var cnt = 0;
					$(obj).parents(".brSessionWrap").find("input[name=sessionCheck]").each(function () {
						if ($(this).prop("checked")) {
							cnt++;
						}
					});
					if (cnt != 0) {
						/* 이전 다음 버튼 show */
						$("#step2Btn").show();
					} else {
						/* 이전 다음 버튼 hide */
						$("#step2Btn").hide();
					}
				} else {
					if ($(obj).prop("checked")) {
						$(obj).parents("tr").addClass("select");
					} else {
						$(obj).parents("tr").removeClass("select");
					}

					var cnt = 0;
					$(obj).parents(".brSessionWrap").find("input[name=sessionCheck]").each(function () {
						if ($(this).prop("checked")) {
							cnt++;
						}
					});
					if (cnt != 0) {
						/* 이전 다음 버튼 show */
						$("#step2Btn").show();
					} else {
						/* 이전 다음 버튼 hide */
						$("#step2Btn").hide();
					}
				}
			}
		}


		/* 요리명장 유료, 무료  예약 체크  */
		function cookMasterConfirm() {
			w03ClosePop();

			/* 체크박스 true */
			$("#" + sessionId).prop("checked", true);

			/* 무료, 유료 체크 */
			if ($("input[name=rado1]:checked").prop("id") == "rado1") {
				/* 무료 - 금액 text "무료" */
				$("#" + sessionId).parent("td").parent("tr").find(".price").text("무료");
				/* 무료 - flag false */
				$("#" + sessionId).parent("td").find(".flag").val("false");
			} else {
				/* 유료 - 금액 text 변동없음 */
				/* 유료 - flag 변동없음 */
			}

			$("#" + sessionId).addClass("select");

			var cnt = 0;
			$("#" + sessionId).parents(".brSessionWrap").find("input[name=sessionCheck]").each(function () {
				if ($(this).prop("checked")) {
					cnt++;
				}
			});
			if (cnt != 0) {
				/* 이전 다음 버튼 show */
				$("#step2Btn").show();
			} else {
				/* 이전 다음 버튼 hide */
				$("#step2Btn").hide();
			}

		}


		/* 요리명장 유료, 무료  예약 체크  */
		function freeMemberConfirm() {
			w031ClosePop();

			/* 체크박스 true */
			$("#" + sessionId).prop("checked", true);

			/* 무료, 유료 체크 */
			if ($("input[name=rado1a]:checked").prop("id") == "rado1a") {
				/* 무료 - 금액 text "무료" */
				//$("#"+sessionId).parent("td").parent("tr").find(".price").text("무료");

				var kk = $("#" + sessionId).parent("td").parent("tr").find(".price").text();

				var htmls = "";
				htmls = htmls + "<span class=\"throught\">" + kk + "</span>"
				htmls = htmls + "<span>"
				htmls = htmls + "<em>할인</em>"
				htmls = htmls + "0원"
				htmls = htmls + "</span>"

				$("#" + sessionId).parent("td").parent("tr").find(".price").empty();
				$("#" + sessionId).parent("td").parent("tr").find(".price").append(htmls);

				/* 무료 - flag false */
				$("#" + sessionId).parent("td").find(".flag").val("false");
			} else {
				/* 유료 - 금액 text 변동없음 */
				/* 유료 - flag 변동없음 */
			}

			$("#" + sessionId).addClass("select");

			var cnt = 0;
			$("#" + sessionId).parents(".brSessionWrap").find("input[name=sessionCheck]").each(function () {
				if ($(this).prop("checked")) {
					cnt++;
				}
			});
			if (cnt != 0) {
				/* 이전 다음 버튼 show */
				$("#step2Btn").show();
			} else {
				/* 이전 다음 버튼 hide */
				$("#step2Btn").hide();
			}

		}

		/* 세션 선택 step3으로 이동하기 전 데이터 정리*/
		function sessionCheck() {

			/* 예약 완료후 포커스 상단 유지 */
			$('#pbContent').each(function () {
				this.scrollIntoView(true);
			});

			$("#step2Btn").parents(".bizEduPlace").find(".result .tWrap .resultDetail").empty();

			var cnt = 0;
			var totalPrice = 0;

			var snsTitle = "";
			var snsHtml = "";

			var roomArray = new Array();
			var roomInfo = "";

			var roomFormArray = new Array();
			var roomFormInfo = "";

			$("#sessionCheckResult").empty();
			$("#roomForm").empty();

			$("input[name=sessionCheck]").each(function () {
				roomInfo = new Object();
				roomFormInfo = new Object();




				if ($(this).prop("checked")) {
					cnt++;

					if ($(this).parent("td").parent("tr").find(".able").text() == "대기신청") {
						roomFormInfo.tmp_standByNumber = "1";
						roomFormInfo.tmp_paymentStatusCode = "P01"
					} else {
						roomFormInfo.tmp_standByNumber = "0";
						roomFormInfo.tmp_paymentStatusCode = "P02"
					}



					roomInfo.tmp_sessionYmd = $(this).parent("td").children(".sessionYmd").val();
					roomInfo.tmp_sessionName = $(this).parent("td").children(".sessionName").val();

					roomFormInfo.tmp_typeSeq = typeSeq;
					roomFormInfo.tmp_ppSeq = ppSeq;
					roomFormInfo.tmp_ppName = ppName;
					roomFormInfo.tmp_roomSeq = roomSeq;
					roomFormInfo.tmp_roomName = roomName;
					roomFormInfo.tmp_sessionYmd = $(this).parent("td").children(".sessionYmd").val()
					roomFormInfo.tmp_sessionName = $(this).parent("td").children(".sessionName").val();
					roomFormInfo.tmp_sessionPrice = "0";
					roomFormInfo.tmp_reservationDate = $(this).parent("td").children(".reservationDate").val();
					roomFormInfo.tmp_rsvSessionSeq = $(this).parent("td").children(".rsvSessionSeq").val();
					roomFormInfo.tmp_startDateTime = $(this).parent("td").children(".startDateTime").val();
					roomFormInfo.tmp_endDateTime = $(this).parent("td").children(".endDateTime").val();
					roomFormInfo.tmp_price = "0";
					roomFormInfo.tmp_tdclass = $(this).parent("td").children(".reservationDate").val() + $(this)
						.parent("td").children(".rsvSessionSeq").val();
					roomFormInfo.tmp_cookMasterCode = "R02";


					roomArray.push(roomInfo);
					roomFormArray.push(roomFormInfo);

					snsHtml += "■" + ppName + "(" + roomName + ")" +
						$(this).parent("td").children(".sessionYmd").val() + "| \n" +
						$(this).parent("td").children(".sessionName").val() + "\n";

					totalPrice = "무료";
				}



			});

			if (cnt == 0) {
				alert("세션을 선택 후 다음으로 진행 가능합니다.");
				return;
			}

			if (totalPrice > 10000000) {
				alert('1000만원 이상 결제건은 분할 예약해주세요.');
				return;
			}


			var roomHead = new Object();
			roomHead.tmp_items = roomArray;

			var total_roomForm = new Object();
			total_roomForm.tmp_items = roomFormArray;

			template = $('#tmp_sessionCheckResult').html();
			rendered = Mustache.render(template, roomHead);
			$("#step2Btn").parents(".bizEduPlace").find(".result .tWrap .resultDetail").append(rendered);

			template = $('#tmp_roomForm').html();
			rendered = Mustache.render(template, total_roomForm);

			$("#roomForm").append(rendered);

			/* order 주문 페이지에 넘길 금액 파라미터 */
			$("#currentAmount").val(totalPrice);
			$("#step2Btn").parents(".bizEduPlace").find(".result .tWrap").children("span").empty();
			if ($.isNumeric(totalPrice)) {
				$("#step2Btn").parents(".bizEduPlace").find(".result .tWrap").children("span").append("총" + cnt +
					"건<em class=\"bar\">|</em>결제예정금액  : " + setComma(totalPrice) + "원");
			} else {
				$("#step2Btn").parents(".bizEduPlace").find(".result .tWrap").children("span").append("총" + cnt +
					"건<em class=\"bar\">|</em>결제예정금액  : " + totalPrice);
			}
			/*------------------ sns 내용----------------------------- */

			var menuCodes = "3";

			if (menuCodes == "11") {
				snsTitle = "[한국암웨이] A STATION 시설 예약내역 (총 " + cnt + "무료) \n" + snsHtml;
			} else {
				snsTitle = "[한국암웨이]시설/체험 예약내역 (총 " + cnt + "무료) \n" + snsHtml;
			}

			$("#snsText").empty();
			$("#snsText").val(snsTitle);
			/*------------------------------------------------------ */


			$("#totalPrice").text("");
			if ($.isNumeric(totalPrice)) {
				$("#totalPrice").text(setComma(totalPrice) + "원(VAT포함)");
				$("#totalPriceToss").empty();
				$("#totalPriceToss").append(setComma(totalPrice) + "<em>원(VAT포함)<em>");
			} else {
				$("#totalPrice").text(totalPrice);
				$("#totalPriceToss").empty();
				$("#totalPriceToss").append(totalPrice);
			}


			//$("#radio2").prop("disabled", false);
			//$("#paymentMode-2").css("text-decoration", "none");


			/* 결제 예정 금액이 0이면 결제 태그 숨김 */

			if (totalPrice <= 50000) {
				$("#apayinstallment").empty();
				$("#oldinstallment").empty();

				var strOption = "";
				strOption += "<option value=\"00\" selected=\"selected\">일시불</option>";

				$("#apayinstallment").append(strOption);
				$("#oldinstallment").append(strOption);
			} else {
				$("#apayinstallment").empty();
				$("#oldinstallment").empty();
				installmentSetup();
			}

			if (totalPrice == 0) {
				$(".creditWrap").hide();
				$("#otherCard").hide()
			} else {
				$(".creditWrap").show();
				/* 해당 시설 패널티 정보 조회 */
				$.ajaxCall({
					url: "/reservation/searchRoomPayPenaltyAjax.do",
					type: "POST",
					data: {
						"roomseq": roomSeq
					},
					success: function (data, textStatus, jqXHR) {

						if (null == data.searchRoomPayPenalty) {
							$("#penaltyInfo").hide();
						} else {
							$("#penaltyInfo").show();
							$("#penaltyInfo").empty();
							$("#penaltyInfo").append("※ 사용일 " + data.searchRoomPayPenalty.typevalue +
								"일 전 취소 시 결제 금액의  <strong style=\"color: red;\">" + data.searchRoomPayPenalty
								.applytypevalue +
								"%의 취소 수수료</strong> 제외 후 환불 처리됩니다.(단 예약 당일취소 시 페널티가 적용되지 않습니다.)");
						}

					},
					error: function (jqXHR, textStatus, errorThrown) {
						var mag = '처리도중 오류가 발생하였습니다.';
						alert(mag);
					}
				});
			}

			$("#totalPrice").text("");
			$("#totalPrice").text(setComma(totalPrice) + "원(VAT포함)");

			/* 누적 예약 잔여 횟수 유효성 검사*/
			/* typeseq, ppseq, roomseq 일, 주, 월 예약 가능 횟수 조회 변수*/

			if ('' == typeSeqSecond) {
				$("#roomForm").append("<input type=\"hidden\" name=\"typeseq\" value=\"" + typeSeq + "\">");
			} else {
				$("#roomForm").append("<input type=\"hidden\" name=\"typeseq\" value=\"" + typeSeqSecond + "\">");
			}
			$("#roomForm").append("<input type=\"hidden\" name=\"ppseq\" value=\"" + ppSeq + "\">");
			$("#roomForm").append("<input type=\"hidden\" name=\"roomseq\" value=\"" + roomSeq + "\">");


			var cookPayTf = true;

			/* 패널티 유효성 중간 검사 */
			if (middlePenaltyCheck()) {

				$.ajaxCall({
					url: "/reservation/cookMasterRsvAvailabilityCheckAjax.do",
					type: "POST",
					data: $("#roomForm").serialize(),
					success: function (data, textStatus, jqXHR) {
						if (data.cookMasterRsvAvailabilityCheck) {
							/*요리명장*/
							if (data.cookMasterTf) {
								if (totalPrice > 0) {
									if (data.cookMasterRsvPayCheck) {
										/*유료결제  가능*/
										cookPayTf = true;
									} else {
										cookPayTf = false;
									}
								}
							}

							if (cookPayTf) {

								$.ajaxCall({
									url: "/reservation/rsvAvailabilityCheckAjax.do",
									type: "POST",
									data: $("#roomForm").serialize(),
									success: function (data, textStatus, jqXHR) {
										if (data.rsvAvailabilityCheck) {

											$("#step2Btn").parents('.bizEduPlace').removeClass(
												'current').addClass('finish');
											$("#step2Btn").parents('.bizEduPlace').find('.result')
												.show();
											$("#step2Btn").parents('.bizEduPlace').find('.selectDiv')
												.slideUp();

											//다음 섹션열기
											var $nextStep = $("#step2Btn").parents('.bizEduPlace')
												.next();
											$nextStep.addClass('current').find('.selectDiv')
												.slideDown();
											$nextStep.find('.result').hide();
											$nextStep.find('.selectDiv').show();
											$nextStep.find('.selcWrap>dd').show();

											if (totalPrice != 0) {
												$nextStep.find('.apayShow').show();
											} else {
												$nextStep.find('.apayBtnShow').show();
											}

											/* resizing */
											//									setTimeout(function(){ abnkorea_resize(); }, 500);

											/* move */
											setTimeout(function () {
												moveStep.stepThree();
											}, 1000);

										} else {
											alert(
												"예약가능 범위 또는 잔여 회수를 초과 하였습니다. 예약가능 범위 및 잔여회수를 확인하시고 선택해 주세요.");
										}

									},
									error: function (jqXHR, textStatus, errorThrown) {
										var mag = '처리도중 오류가 발생하였습니다.';
										alert(mag);
									}
								});
							} else {
								alert("퀸룸 유료 임대 대상자가 아닙니다. ");
							}
						} else {
							alert("예약가능 범위 또는 잔여 회수를 초과 하였습니다. 예약가능 범위 및 잔여회수를 확인하시고 선택해 주세요.");
						}

					},
					error: function (jqXHR, textStatus, errorThrown) {
						var mag = '처리도중 오류가 발생하였습니다.';
						alert(mag);
					}
				});
			}

			/* resizing */
			// 	setTimeout(function(){ abnkorea_resize(); }, 500);
			moveStep.stepThree();

		}

		function middlePenaltyCheck() {

			var penaltyCheck = true;

			$.ajaxCall({
				url: "/reservation/rsvMiddlePenaltyCheckAjax.do",
				type: "POST",
				data: $("#roomForm").serialize(),
				async: false,
				success: function (data, textStatus, jqXHR) {
					if (!data.roomPpCheck) {
						alert("선택한 ABC 에 해당룸 정보가 일치 하지 않습니다. 처음부터 다시 시도해 주세요. ");
						location.reload();
						penaltyCheck = false;
					}
					if (!data.middlePenaltyCheck) {
						alert("패널티로 인해서 예약이 불가 합니다.");
						penaltyCheck = false;
					}

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});

			return penaltyCheck;
		}

		function paymentCheck() {
			NetFunnel_Action({
				service_id: NetFunnel.TS_SERVICE_ID,
				action_id: NetFunnel_TS_ACTION_ID_AcademySubmit
			}, {
				success: onSuccessPaymentCheck,
				error: onError
			});
		}

		function onSuccessPaymentCheck() {

			/* apay 선택 내역 초기화 */
			$("#apaySumbitForm").empty();

			var cardkeyIn = $("input:checkbox[name='cardkeyIn']:checked").val();
			var paymentMode = $("input:radio[name='paymentMode']:checked").val();
			var cardowner = $("input:radio[name='cardowner']:checked").val();

			if (typeof cardkeyIn == "undefined") {
				cardkeyIn = "easypay";
			}

			/* 예약 충돌의 로직이 본문의 내용을 삭제 하게 되어 예약건수가 0개 생기는 경우에 대한 방어 */
			if (0 >= $("#roomForm input[type=hidden][name='rsvSessionSeq']").length) {
				alert("예약할 시설이 없습니다.");
				return;
			}

			/* 결재금액이 0이 아닌경우에만 체크 */
			if ('block' == $(".creditWrap").css("display")) {
				/* 약관동의 체크 확인 */
				if (!$("#agreement1").is(":checked")) {
					alert("교육장(퀸룸) 규정 동의를 체크하여 주세요.");
					return;
				}

				if (!$("#agreement2").is(":checked")) {
					alert("교육장(퀸룸) 제품 교육 시 주의 사항을 체크하여 주세요.");
					return;
				}

				if (typeof paymentMode == "undefined") {
					alert("결제 요청 방식을 선택해주세요")
					return;
				}

				/*apay 선택시*/
				if (paymentMode != "creditcard") {

					var selectApay = ""
					if (paymentMode == "apaycreditcard") {
						selectApay = $("#apayCardInfoData").find(".swiper-slide-active").find('input[type=hidden]');
					} else {
						selectApay = $("#apayAccountInfoData").find(".swiper-slide-active").find('input[type=hidden]');
					}

					if (selectApay.length == 0) {
						if (paymentMode == "apayaccount") {
							alert("등록된 자동이체가 없습니다.")
						} else {
							alert("등록된 카드가 없습니다.")
						}
						return;
					}
				}

				if (paymentMode == "creditcard") {
					/*apay 체크 */
					if ($("#bankid").val() == "C04") {
						if (!$("#agreement4").is(":checked")) {
							alert("주문내용 확인 및 결제 진행 동의를 체크하여 주세요.");
							return;
						}
					} else {
						console.log($("#agreement5").is(":checked"))
						if (!$("#agreement5").is(":checked")) {
							alert("주문내용 확인 및 결제 진행 동의를 체크하여 주세요.");
							return;
						}
					}

					if ('' == $("#bankid").val()) {
						alert("카드종류를 입력해 주세요.");
						return;
					}

					/* 일반결제 입력폼 유효성 체크 */
					if ("keyIn" == cardkeyIn) {

						if ('' == $("#cardnumber1").val() ||
							'' == $("#cardnumber2").val() ||
							'' == $("#cardnumber3").val() ||
							'' == $("#cardnumber4").val()) {

							alert('카드번호를 입력해 주세요.');
							return;

						}
						if (4 != $("#cardnumber1").val().length ||
							4 != $("#cardnumber2").val().length ||
							4 != $("#cardnumber3").val().length) {

							alert('카드번호를 4자리씩 정확히 입력해 주세요');
							return;

						} else if (4 < $("#cardnumber4").val().replace(/(\s*)/g, "").length) {

							alert('1~4자리를 입력해 주세요');
							$("#cardnumber4").focus();
							return;

						}

						if ('' == $("#cardmonth").val()) {
							alert("유효기간-(월)을 입력해 주세요.");
							return;
						} else if (2 != $("#cardmonth").val().replace(/(\s*)/g, "").length) {
							alert("유효기간(월)은 2자리 입니다.");
							return;
						}

						if ('' == $("#cardyear").val()) {
							alert("유효기간-(년)을 입력해 주세요.");
							return;
						} else if (2 != $("#cardyear").val().replace(/(\s*)/g, "").length) {
							alert("유효기간(년)은 2자리 입니다.");
							return;
						}

						if ('' == $("#cardpassword").val()) {
							alert("카드 비밀번호를 입력해 주세요.");
							return;
						} else if (2 != $("#cardpassword").val().replace(/(\s*)/g, "").length) {
							alert("비밀번호는 2자리 입니다.");
							return;
						}

						if ('personal' == cardowner) {
							if ('' == $("#birthday").val()) {
								alert("생년월일 값은 필수입니다.");
								return;
							} else if (6 != $("#birthday").val().replace(/(\s*)/g, "").length) {
								alert("생년월일은 6자리 입니다.");
								return;
							}
						} else if ('business' == cardowner) {
							if ('' == $("#biznumber").val()) {
								alert("사업자등록번호 값은 필수입니다.");
								return;
							} else if (10 != $("#biznumber").val().replace(/(\s*)/g, "").length) {
								alert("사업자등록번호는 10자리 입니다.");
								return;
							}
						}
					}
				}
			}

			var costNoCost = '';
			var currentAmout = parseInt($("#currentAmount").val());

			if (currentAmout == 0 || currentAmout == '' || $("#currentAmount").val() == '무료') {
				costNoCost = "nocost";
			}

			moveStep.top();

			if ("nocost" == costNoCost) {

				/* 무료 예약 */
				/* roomAppendCardForm = roomForm + 결제정보 */
				$("#roomAppendCardForm").empty();

				$("#roomForm").find("input[type=hidden]").each(function () {
					var el_name = $(this).attr('name');
					var el_value = $(this).val();

					if (el_name != "typeseq" && el_name != "ppseq" && el_name != "roomseq") {
						if (el_name == "typeSeq") {
							el_name = "typeseq";
						}
						if (el_name == "ppSeq") {
							el_name = "ppseq";
						}

						if (el_name == "roomSeq") {
							el_name = "roomseq";
						}

						$("#roomAppendCardForm").append("<input type='hidden' name='" + el_name + "' value='" +
							el_value + "' />");
					}
				})

				$("#roomAppendCardForm").append("<input type=\"hidden\" name=\"interfaceChannel\" 	value=\"MOBILE\" />");

				var param = $("#roomAppendCardForm").serialize();
				/* 결제 요청 세션 정보가 타인에 의해 실시간으로 등록된 사항이 있는지 확인 */
				$.ajaxCall({
					url: "/reservation/roomPaymentCheckAjax.do",
					type: "POST",
					data: param,
					success: function (data, textStatus, jqXHR) {

						var cancelDataList = data.canceDataList;
						var cardInfo = ""
						var cardArray = new Array();
						var total_card = new Object();

						if (cancelDataList.length == 0) {
							/* 결제정보 확인 팝업 */
							if (standByNumberCheck() == "true") {
								roomPaymentInfo();
								layerPopupOpen("<a href=\"#uiLayerPop_confirm\">");
								$($("#uiLayerPop_confirm").find(".btnBasicBL")).attr("onclick",
									"javascript:roomReservationInsert(this);");
								rsvConfirmPop_resize();
							}
						} else {
							/* 예약불가 알림 팝업 (파라미터 cancelDataList)*/
							layerPopupOpen("<a href=\"#uiLayerPop_cannot\">");
							/* 중복 데이터 삭제 */
							var html = "";
							for (var num in cancelDataList) {

								cardInfo = new Object()
								cardInfo.tmp_ppName = cancelDataList[num].ppName;
								cardInfo.tmp_roomName = cancelDataList[num].roomName;
								cardInfo.tmp_reservationDate = cancelDataList[num].reservationDate;
								cardInfo.tmp_sessionName = cancelDataList[num].sessionName;
								cardInfo.tmp_rsvSessionSeq = cancelDataList[num].rsvSessionSeq;
								cardArray.push(cardInfo);

								$("." + cancelDataList[num].reservationDate + cancelDataList[num].rsvSessionSeq)
									.each(function () {
										$(this).remove();
									});

							}

							total_card.tmp_items = cardArray;

							template = $('#tmp_cardInfo').html();
							rendered = Mustache.render(template, total_card);

							$("#uiLayerPop_cannot").find(".cancelWrap .bdBox span").empty();
							$("#uiLayerPop_cannot").find(".cancelWrap .bdBox span").append(rendered);
						}

						//				setTimeout(function(){ abnkorea_resize(); }, 500);

					},
					error: function (jqXHR, textStatus, errorThrown) {
						var mag = '처리도중 오류가 발생하였습니다.';
						alert(mag);
					}
				});

			} else {
				/*신용카드 결제*/

				if ("creditcard" == paymentMode) {
					if ("easypay" == cardkeyIn) {
						/* 안심결제 process */

						// set : session information
						$("#roomAppendCardForm").empty();
						$("#roomForm").find("input[type=hidden]").each(function () {
							var el_name = $(this).attr('name');
							var el_value = $(this).val();

							if (el_name != "typeseq" && el_name != "ppseq" && el_name != "roomseq") {
								if (el_name == "typeSeq") {
									el_name = "typeseq";
								}
								if (el_name == "ppSeq") {
									el_name = "ppseq";
								}

								if (el_name == "roomSeq") {
									el_name = "roomseq";
								}

								$("#roomAppendCardForm").append("<input type='hidden' name='" + el_name +
									"' value='" + el_value + "' />");
							}
						})

						// form element copy to order-form
						$("#tempForm").empty();
						var inputNode = $("#roomAppendCardForm").clone().find(":input");
						$("#tempForm").append(inputNode);

						var tempFormParam = $("#tempForm").serialize();

						/* 결제 요청 세션 정보가 타인에 의해 실시간으로 등록된 사항이 있는지 확인 */
						$.ajaxCall({
							url: "/reservation/roomPaymentCheckAjax.do",
							type: "POST",
							data: tempFormParam,
							success: function (data, textStatus, jqXHR) {
								var cancelDataList = data.canceDataList;
								var cardInfo = ""
								var cardArray = new Array();
								var total_card = new Object();

								var payBlockDataList = data.payBlockDataList;
								var closeyn = "N";
								var returnmsg = "";

								for (var num in payBlockDataList) {
									closeyn = payBlockDataList[num].closeyn;
									returnmsg = payBlockDataList[num].returnmsg;
								}

								if (closeyn == "Y") {
									alert(returnmsg);
								} else {

									if (cancelDataList.length == 0) {
										/* 안심결제 */
										doXpayProcess();
									} else {
										/* 예약불가 알림 팝업 (파라미터 cancelDataList)*/
										layerPopupOpen("<a href=\"#uiLayerPop_cannot\">");
										/* 중복 데이터 삭제 */
										for (var num in cancelDataList) {

											cardInfo = new Object()
											cardInfo.tmp_ppName = cancelDataList[num].ppName;
											cardInfo.tmp_roomName = cancelDataList[num].roomName;
											cardInfo.tmp_reservationDate = cancelDataList[num].reservationDate;
											cardInfo.tmp_sessionName = cancelDataList[num].sessionName;
											cardInfo.tmp_rsvSessionSeq = cancelDataList[num].rsvSessionSeq;
											cardArray.push(cardInfo);

											$("." + cancelDataList[num].reservationDate + cancelDataList[num]
												.rsvSessionSeq).each(function () {
												$(this).remove();
											});

										}

										total_card.tmp_items = cardArray;
										total_card.tmp_title = "예약불가 항목";

										template = $('#tmp_cardInfo').html();
										rendered = Mustache.render(template, total_card);

										$("#uiLayerPop_cannot").find(".cancelWrap .bdBox span").empty();
										$("#uiLayerPop_cannot").find(".cancelWrap .bdBox span").append(rendered);
									}


								}


							},
							error: function (jqXHR, textStatus, errorThrown) {
								var mag = '처리도중 오류가 발생하였습니다.';
								alert(mag);
							}
						});

					} else {

						// 일반결제		
						var payArray = new Array()
						var payInfo = new Object();

						/* 신용카드 정보 추가 */
						payInfo.tmp_bankid = (null == $("#bankid").val()) ? 'A' : $("#bankid").val();
						payInfo.tmp_bankname = $("#bankid :selected").text();
						payInfo.tmp_paymentmode = "normal";
						payInfo.tmp_cardowner = $("input:radio[name='cardowner']:checked").val();
						payInfo.tmp_cardnumber1 = $("#cardnumber1").val();
						payInfo.tmp_cardnumber2 = $("#cardnumber2").val();
						payInfo.tmp_cardnumber3 = $("#cardnumber3").val();
						payInfo.tmp_cardnumber4 = $("#cardnumber4").val();
						payInfo.tmp_cardmonth = $("#cardmonth").val();
						payInfo.tmp_cardyear = $("#cardyear").val();
						payInfo.tmp_cardpassword = $("#cardpassword").val();
						payInfo.tmp_einstallment = $("#apayinstallment").val();
						payInfo.tmp_ninstallment = $("#oldinstallment").val();
						payInfo.tmp_birthday = $("#birthday").val();
						payInfo.tmp_biznumber = $("#biznumber").val();
						payInfo.tmp_orderAmount = currentAmout;
						payArray.push(payInfo);

						var total_pay = new Object();
						total_pay.tmp_items = payArray;

						$("#roomAppendCardForm").empty();
						template = $('#tmp_roomAppendCardForm').html();
						rendered = Mustache.render(template, total_pay);
						$("#roomAppendCardForm").append(rendered);

						/* roomAppendCardForm = roomForm + 결제정보 */
						$("#roomForm").find("input[type=hidden]").each(function () {
							var el_name = $(this).attr('name');
							var el_value = $(this).val();

							if (el_name != "typeseq" && el_name != "ppseq" && el_name != "roomseq") {
								if (el_name == "typeSeq") {
									el_name = "typeseq";
								}
								if (el_name == "ppSeq") {
									el_name = "ppseq";
								}

								if (el_name == "roomSeq") {
									el_name = "roomseq";
								}

								$("#roomAppendCardForm").append("<input type='hidden' name='" + el_name +
									"' value='" + el_value + "' />");
							}
						})

						var param = $("#roomAppendCardForm").serialize();

						/* 결제 요청 세션 정보가 타인에 의해 실시간으로 등록된 사항이 있는지 확인 */
						$.ajaxCall({
							url: "/reservation/roomPaymentCheckAjax.do",
							type: "POST",
							data: param,
							success: function (data, textStatus, jqXHR) {

								var cancelDataList = data.canceDataList;
								var cardInfo = ""
								var cardArray = new Array();
								var total_card = new Object();

								if (cancelDataList.length == 0) {
									/* 결제정보 확인 팝업 */
									if (standByNumberCheck() == "true") {
										roomPaymentInfo();
										layerPopupOpen("<a href=\"#uiLayerPop_confirm\">");
										$($("#uiLayerPop_confirm").find(".btnBasicBL")).attr("onclick",
											"javascript:roomReservationInsert(this);");
										rsvConfirmPop_resize();
									}
								} else {
									/* 예약불가 알림 팝업 (파라미터 cancelDataList)*/
									layerPopupOpen("<a href=\"#uiLayerPop_cannot\">");
									/* 중복 데이터 삭제 */
									for (var num in cancelDataList) {
										cardInfo = new Object()
										cardInfo.tmp_ppName = cancelDataList[num].ppName;
										cardInfo.tmp_roomName = cancelDataList[num].roomName;
										cardInfo.tmp_reservationDate = cancelDataList[num].reservationDate;
										cardInfo.tmp_sessionName = cancelDataList[num].sessionName;
										cardInfo.tmp_rsvSessionSeq = cancelDataList[num].rsvSessionSeq;
										cardArray.push(cardInfo);

										$("." + cancelDataList[num].reservationDate + cancelDataList[num]
											.rsvSessionSeq).each(function () {
											$(this).remove();
										});
									}

									total_card.tmp_items = cardArray;
									total_card.tmp_title = "예약불가 항목";

									template = $('#tmp_cardInfo').html();
									rendered = Mustache.render(template, total_card);

									$("#uiLayerPop_cannot").find(".cancelWrap .bdBox span").empty();
									$("#uiLayerPop_cannot").find(".cancelWrap .bdBox span").append(rendered);
								}

							},
							error: function (jqXHR, textStatus, errorThrown) {
								var mag = '처리도중 오류가 발생하였습니다.';
								alert(mag);
							}
						});
					}
				} else {

					if (!$("#agreement5").is(":checked")) {
						alert("주문내용 확인 및 결제 진행 동의를 체크하여 주세요.");
						return;
					}

					$("#roomAppendCardForm").empty();
					$("#roomForm").find("input[type=hidden]").each(function () {
						var el_name = $(this).attr('name');
						var el_value = $(this).val();

						if (el_name != "typeseq" && el_name != "ppseq" && el_name != "roomseq") {
							if (el_name == "typeSeq") {
								el_name = "typeseq";
							}
							if (el_name == "ppSeq") {
								el_name = "ppseq";
							}

							if (el_name == "roomSeq") {
								el_name = "roomseq";
							}

							$("#roomAppendCardForm").append("<input type='hidden' name='" + el_name + "' value='" +
								el_value + "' />");
						}
					})

					var param = $("#roomAppendCardForm").serialize();

					/* 결제 요청 세션 정보가 타인에 의해 실시간으로 등록된 사항이 있는지 확인 */
					$.ajaxCall({
						url: "/reservation/roomPaymentCheckAjax.do",
						type: "POST",
						data: param,
						success: function (data, textStatus, jqXHR) {

							var cancelDataList = data.canceDataList;
							var cardInfo = ""
							var cardArray = new Array();
							var total_card = new Object();

							if (cancelDataList.length == 0) {
								/* 결제정보 확인 팝업 */
								if (standByNumberCheck() == "true") {
									apayProcess();
								}
							} else {
								/* 예약불가 알림 팝업 (파라미터 cancelDataList)*/
								layerPopupOpen("<a href=\"#uiLayerPop_cannot\">");
								/* 중복 데이터 삭제 */
								for (var num in cancelDataList) {
									cardInfo = new Object()
									cardInfo.tmp_ppName = cancelDataList[num].ppName;
									cardInfo.tmp_roomName = cancelDataList[num].roomName;
									cardInfo.tmp_reservationDate = cancelDataList[num].reservationDate;
									cardInfo.tmp_sessionName = cancelDataList[num].sessionName;
									cardInfo.tmp_rsvSessionSeq = cancelDataList[num].rsvSessionSeq;
									cardArray.push(cardInfo);

									$("." + cancelDataList[num].reservationDate + cancelDataList[num]
										.rsvSessionSeq).each(function () {
										$(this).remove();
									});
								}

								total_card.tmp_items = cardArray;
								total_card.tmp_title = "예약불가 항목";

								template = $('#tmp_cardInfo').html();
								rendered = Mustache.render(template, total_card);

								$("#uiLayerPop_cannot").find(".cancelWrap .bdBox span").empty();
								$("#uiLayerPop_cannot").find(".cancelWrap .bdBox span").append(rendered);
							}

						},
						error: function (jqXHR, textStatus, errorThrown) {
							var mag = '처리도중 오류가 발생하였습니다.';
							alert(mag);
						}
					});

				}
			}
		}

		function refreshOrderPage() {
			//	$("#paymentFrame").attr("src", "/xpay/orderMobile.do");
		}

		/* 예약  정보 렌더링 */
		function roomPaymentInfo() {

			$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform thead th").empty();
			$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform thead th").append($(
				"#roomAppendCardForm input[name=ppName]").val() + " <em>|</em> " + $(
				"#roomAppendCardForm input[name=roomName]").val());

			var html = "";
			var className = "";
			var cnt = 0;
			var totalPrice = 0;

			$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform tbody").empty();
			$("#roomForm").find("input").each(function () {
				if (className != $(this).prop("class") && null != $(this).prop("class") && '' != $(this).prop(
					"class")) {
					className = $(this).prop("class");
					cnt++;
					$("#roomForm ." + className).each(function () {
						if ($(this).prop("name") == 'sessionYmd') {
							$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform tbody").append(
								"<tr><th scope=\"row\" class=\"bdTop\">날짜</th><td class=\"bdTop\">" + $(
									this).val() + "</td></tr>");
						} else if ($(this).prop("name") == 'sessionName') {
							$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform tbody").append(
								"<tr><th scope=\"row\">세션(시간)</th><td>" + $(this).val() + "</td></tr>");
						} else if ($(this).prop("name") == 'sessionPrice') {


							$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform tbody").append(
								"<tr><th scope=\"row\">금액</th><td>무료</td></tr>");



						} else if ($(this).prop("name") == 'price') {
							totalPrice += parseInt($(this).val());
						}

					});
				}
			});
			$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform tfoot td").empty();
			$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform tfoot td").attr("colspan", "2");


			$("#uiLayerPop_confirm").find(".pbLayerContent .tblResrConform tfoot td").append("총 " + cnt +
				"건 <em>|</em> <span class=\"point1\">무료</span>");



			/* 결제시 카드정보 노출 tblCredit creditWrap */
			$("#readyCardNumber").text($("#cardnumber1").val() + " - **** - **** - " + $("#cardnumber4").val());
			$("#readyCardYearMonth").text("20" + $("#cardyear").val() + "년 " + $("#cardmonth").val() + "월");
			$("#readyNinstallment").text(($("#oldinstallment").val() == '00') ? '일시불' : ($("#oldinstallment").val() + "개월"));
			$("#readyTotalPrice").text(setComma(totalPrice));

			//	setTimeout(function(){ abnkorea_resize(); }, 500);
		}

		function apayProcess() {
			// ui block
			showLoading();
			$("#resultKiccProcess").val('false');

			// set : session information
			$("#roomAppendCardForm").empty();
			$("#roomForm").find("input[type=hidden]").each(function () {
				var el_name = $(this).attr('name');
				var el_value = $(this).val();
				$("#roomAppendCardForm").append("<input type='hidden' name='" + el_name + "' value='" + el_value +
					"' />");
			})

			// form element copy to order-form
			$("#tempForm").empty();
			var inputNode = $("#roomAppendCardForm").clone().find(":input");
			$("#tempForm").append(inputNode);

			var tempFormParam = $("#tempForm").serialize();

			var easyArray = new Array()
			var easyInfo = "";

			$.ajax({
				url: "/reservation/roomPaymentInfoAjax.do",
				type: "POST",
				data: tempFormParam,
				dataType: "json",
				success: function (data, textStatus, jqXHR) {
					if (data) {
						var paymentElememtJson = data.roomPaymentInfoList;
						var paymentElememtInput = "";
						var totalPrice = 0;

						for (var cnt = 0; cnt < paymentElememtJson.length; cnt++) {

							easyInfo = new Object();

							easyInfo.tmp_ppseq = paymentElememtJson[cnt].ppSeq;
							easyInfo.tmp_typeseq = paymentElememtJson[cnt].typeSeq;
							easyInfo.tmp_ppname = paymentElememtJson[cnt].ppName;
							easyInfo.tmp_cookMasterCode = paymentElememtJson[cnt].cookMasterCode;
							easyInfo.tmp_sessionname = paymentElememtJson[cnt].sessionName;
							easyInfo.tmp_reservationDate = paymentElememtJson[cnt].reservationDate;
							easyInfo.tmp_endDateTime = paymentElememtJson[cnt].endDateTime;
							easyInfo.tmp_roomname = paymentElememtJson[cnt].roomName;
							easyInfo.tmp_rsvSessionSeq = paymentElememtJson[cnt].rsvSessionSeq;
							easyInfo.tmp_paymentStatusCode = paymentElememtJson[cnt].paymentStatusCode;
							easyInfo.tmp_startDateTime = paymentElememtJson[cnt].startDateTime;
							easyInfo.tmp_price = paymentElememtJson[cnt].price;
							easyInfo.tmp_sessionymd = paymentElememtJson[cnt].sessionYmd;
							easyInfo.tmp_sessionprice = paymentElememtJson[cnt].sessionPrice;
							easyInfo.tmp_roomseq = paymentElememtJson[cnt].roomSeq;
							easyInfo.tmp_standByNumber = paymentElememtJson[cnt].standByNumber;
							easyInfo.tmp_freeMember = paymentElememtJson[cnt].freeMemberBoolen;

							easyArray.push(easyInfo);

							totalPrice += parseInt(paymentElememtJson[cnt].price);

						}


						var bankid = "";
						var bankname = ""; //$("#tmp_apaycardname").val();;				
						var total_easyInfo = new Object();
						total_easyInfo.tmp_items = easyArray;
						total_easyInfo.tmp_interfaceChannel = "WEB";
						total_easyInfo.tmp_paymentmode = "apay";
						total_easyInfo.tmp_totalPrice = totalPrice;
						total_easyInfo.tmp_bankid = bankid
						total_easyInfo.tmp_bankname = bankname

						template = $('#tmp_easypay').html();
						rendered = Mustache.render(template, total_easyInfo);

						$("#apaySumbitForm").empty();
						$("#apaySumbitForm").append(rendered);
					}
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});


			var paramPay = $("#tempForm").serialize();
			paramPay += "&amount=" + $("#currentAmount").val();
			paramPay += "&cardtype=" + $("#bankid").val();

			// 주문번호 생성 및 해쉬키 생성
			$.ajax({
				url: "/xpay/createApayPaymentData.do",
				type: "POST",
				data: paramPay,
				dataType: "json",
				success: function (data, textStatus, jqXHR) {
					if (data) {
						if (data.possibility == "true") {
							var paymentMode = $("input:radio[name='paymentMode']:checked").val();
							var selectApay = ""
							if (paymentMode == "apaycreditcard") {
								selectApay = $("#apayCardInfoData").find(".swiper-slide-active").find(
									'input[type=hidden]');
							} else {
								selectApay = $("#apayAccountInfoData").find(".swiper-slide-active").find(
									'input[type=hidden]');
							}

							selectApay.each(function () {
								$("#apaySumbitForm").append("<input type=\"hidden\" name=\"" + $(this)
									.attr("name") + "\" value=\"" + $(this).val() + "\">");
							})


							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"req_cardCd\" value=\"" +
								data.req_cardCd + "\">");
							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"orderid\" value=\"" + data
								.oid + "\">");
							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"installment\" value=\"" +
								$("#apayinstallment").val() + "\">");

							/*
							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"paytype\" value=\""+$("#tempForm").find("input[name=tmp_apaytype]").val()+ "\">");					
							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"storeId\" value=\""+$("#tempForm").find("input[name=tmp_apaystoreId]").val()+ "\">");
							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"methodKey\" value=\""+$("#tempForm").find("input[name=tmp_apaymethodKey]").val()+ "\">");
							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"bankCode\" value=\""+$("#tempForm").find("input[name=tmp_apaybankCode]").val()+ "\">");
							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"customerKey\" value=\""+$("#tempForm").find("input[name=tmp_apaycustomerId]").val()+ "\">");
							$("#apaySumbitForm").append("<input type=\"hidden\" name=\"banknm\" value=\""+$("#tempForm").find("input[name=tmp_apaycardname]").val()+ "\">");
							*/

							//rtnUrl
							var apay_customerId = $("#apaySumbitForm").find("input[name=apaycustomerId]").val();
							var apay_methodId = $("#apaySumbitForm").find("input[name=apayid]").val();
							var apay_ninstallment = $("#apayinstallment").val();
							var apay_amount = $("#currentAmount").val();

							var paymentMode = $("input:radio[name='paymentMode']:checked").val();

							if (paymentMode == "apayaccount") {
								connectPay = ConnectPay(apayClientKeyAccount, apay_customerId, {
									redirectUrl: rtnUrlAccount
								});
								//connectPay = ConnectPay(apayClientKeyAccount,apay_customerId, {redirectUrl: "https://api.uat.amway.co.kr/api/v2/amwaykorea/amwaypay/access-token/amwaypayaccount?ssoToken=NzAxNDgwNTE5OHxzc298aXJDSFdaSFN2VWtQNlpNOVBaNjY3N0VUZG9wOHlFaEdZYVlrbFdxZnFtVHRa"});

							} else {
								connectPay = ConnectPay(apayClientKeyCard, apay_customerId, {
									redirectUrl: rtnUrlCard
								});
								//connectPay = ConnectPay(apayClientKeyCard,apay_customerId, {redirectUrl: "https://api.uat.amway.co.kr/api/v2/amwaykorea/amwaypay/access-token/amwaypaycard?ssoToken=NzAxNDgwNTE5OHxzc298aXJDSFdaSFN2VWtQNlpNOVBaNjY3N0VUZG9wOHlFaEdZYVlrbFdxZnFtVHRa"});
							}

							//connectPay = ConnectPay(apayClientKey,apay_customerId, {redirectUrl: "https://api.uat.amway.co.kr/api/v2/amwaykorea/amwaypay/access-token/amwaypayaccount?ssoToken=NzAxNTQwNjYwM3xzc298WGoxOUc3dnRnWXRWZUhNSWVEWjZwSmE0bkFMdTdDbHF4ZWUzcVZSbWdpaGQw"});

							connectPay.requestPayment({
									orderId: data.oid,
									orderName: '암웨이 시설 예약',
									methodId: apay_methodId,
									amount: apay_amount,
									cardInstallmentPlan: apay_ninstallment
								})
								.then(function (methods) {

									showLoading();

									$("#apaySumbitForm").append(
										"<input type=\"hidden\" name=\"apayamount\" value=\"" + methods
										.amount + "\">");
									$("#apaySumbitForm").append(
										"<input type=\"hidden\" name=\"apaypaymentKey\" value=\"" +
										methods.paymentKey + "\">");

									$("#apaySumbitForm").append(
										"<input type=\"hidden\" name=\"apaypaymentcardmode\" value=\"" +
										$("input[name=paymentCardMode0]:checked").val() + "\">");
									$("#apaySumbitForm").append(
										"<input type=\"hidden\" name=\"apayreceiptIssuanceType\" value=\"" +
										$("input[name=receiptIssuanceType]:checked").val() + "\">");
									$("#apaySumbitForm").append(
										"<input type=\"hidden\" name=\"apayreceiptNumberType\" value=\"" +
										$("select[name=receiptNumberType]").val() + "\">");
									$("#apaySumbitForm").append(
										"<input type=\"hidden\" name=\"apayreceiptIssuanceNumber\" value=\"" +
										$("input[name=receiptIssuanceNumber]").val() + "\">");

									var paramInsertData = $("#apaySumbitForm").serialize();

									$.ajax({
										url: "/xpay/apayRequestProcess.do",
										type: "POST",
										data: paramInsertData,
										dataType: "json",
										success: function (data, textStatus, jqXHR) {

											if ("0000" == data.res_cd && data.bDBProc == "true") {
												alert("결제가 완료되었습니다.");
												roomRsvDetail();
											} else if ("0000" != data.res_cd && data.bDBProc ==
												"false") {
												var alertMessage = data.res_msg;

												if (0 < data.res_cd.length) {
													alertMessage += " (CODE : " + data.res_cd +
														" )";
												}

												alert(alertMessage);
												refreshOrderPage();
											} else if ("0000" == data.res_cd && data.bDBProc ==
												"false") {

												var alertMessage = "내부 서버 오류로 인해 결제가 실패했습니다.";

												if (0 < data.res_cd.length) {
													alertMessage += " (CODE : " + data.res_cd +
														")";
												}

												alert(alertMessage);
												window.parent.refreshOrderPage();

											} else {
												var alertMessage = data.res_msg;

												if (0 < data.res_cd.length) {
													alertMessage += " (CODE : " + data.res_cd +
														")";
												}

												alert(alertMessage);
												refreshOrderPage();
											}

											hideLoading();
										},
										error: function (jqXHR, textStatus, errorThrown) {
											var mag = '처리도중 오류가 발생하였습니다.';
											alert(mag);
											hideLoading();
										}
									});
								})
								.catch(function (error) {
									if (error.code === 'USER_CANCEL') {
										// 사용자가 창을 닫아 취소한 처리
										hideLoading();
									}
								});
							hideLoading();
						} else {
							alert(data.reason);
							hideLoading();
						}
					}
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
					hideLoading();
				}
			});
			hideLoading();
		}

		/* 안심결제 결제 진행 */
		function doXpayProcess() {

			// ui block
			showLoading();
			$("#resultKiccProcess").val('false');

			// set : session information
			$("#roomAppendCardForm").empty();
			$("#roomForm").find("input[type=hidden]").each(function () {
				var el_name = $(this).attr('name');
				var el_value = $(this).val();
				$("#roomAppendCardForm").append("<input type='hidden' name='" + el_name + "' value='" + el_value +
					"' />");
			})

			// form element copy to order-form
			$("#tempForm").empty();
			var inputNode = $("#roomAppendCardForm").clone().find(":input");
			$("#tempForm").append(inputNode);

			var tempFormParam = $("#tempForm").serialize();

			var easyArray = new Array()
			var easyInfo = "";
			var frm_pay = document.frm_pay;
			var currentLocation = "https://academy.amway.co.kr";

			$.ajax({
				url: "/reservation/roomPaymentInfoAjax.do",
				type: "POST",
				data: tempFormParam,
				dataType: "json",
				success: function (data, textStatus, jqXHR) {
					if (data) {
						var paymentElememtJson = data.roomPaymentInfoList;
						var paymentElememtInput = "";
						var totalPrice = 0;

						for (var cnt = 0; cnt < paymentElememtJson.length; cnt++) {

							easyInfo = new Object();
							easyInfo.tmp_ppseq = paymentElememtJson[cnt].ppSeq;
							easyInfo.tmp_typeseq = paymentElememtJson[cnt].typeSeq;
							easyInfo.tmp_ppname = paymentElememtJson[cnt].ppName;
							easyInfo.tmp_cookMasterCode = paymentElememtJson[cnt].cookMasterCode;
							easyInfo.tmp_sessionname = paymentElememtJson[cnt].sessionName;
							easyInfo.tmp_reservationDate = paymentElememtJson[cnt].reservationDate;
							easyInfo.tmp_endDateTime = paymentElememtJson[cnt].endDateTime;
							easyInfo.tmp_roomname = paymentElememtJson[cnt].roomName;
							easyInfo.tmp_rsvSessionSeq = paymentElememtJson[cnt].rsvSessionSeq;
							easyInfo.tmp_paymentStatusCode = paymentElememtJson[cnt].paymentStatusCode;
							easyInfo.tmp_startDateTime = paymentElememtJson[cnt].startDateTime;
							easyInfo.tmp_price = paymentElememtJson[cnt].price;
							easyInfo.tmp_sessionymd = paymentElememtJson[cnt].sessionYmd;
							easyInfo.tmp_sessionprice = paymentElememtJson[cnt].sessionPrice;
							easyInfo.tmp_roomseq = paymentElememtJson[cnt].roomSeq;
							easyInfo.tmp_standByNumber = paymentElememtJson[cnt].standByNumber;
							easyInfo.tmp_freeMember = paymentElememtJson[cnt].freeMemberBoolen;

							easyArray.push(easyInfo);

							totalPrice += parseInt(paymentElememtJson[cnt].price);
						}

						var bankid = $("#bankid :selected").val();
						var bankname = $("#bankid :selected").text();;

						var total_easyInfo = new Object();
						total_easyInfo.tmp_items = easyArray;
						total_easyInfo.tmp_interfaceChannel = "MOBILE";
						total_easyInfo.tmp_paymentmode = "easypay";
						total_easyInfo.tmp_totalPrice = totalPrice;
						total_easyInfo.tmp_orderAmount = totalPrice;
						total_easyInfo.tmp_bankid = bankid
						total_easyInfo.tmp_bankname = bankname

						template = $('#tmp_easypay').html();
						rendered = Mustache.render(template, total_easyInfo);


						$("#reservationElements").empty();
						$("#reservationElements").append(rendered);

						var jsonObj = [];
						var $revElem = $("#reservationElements");

						$revElem.find("input").each(function () {

							var name = $(this).attr("name");
							var value = $(this).attr("value");

							item = {}
							item["name"] = name;
							item["value"] = encodeURIComponent(value);

							jsonObj.push(item);
						});

						//				$("#reserved1").val("");
						//				$("#reserved1").val(JSON.stringify(jsonObj));
						$("#reserved2").val("");
						$("#reserved2").val("edu");
						$("#LGD_BUYER").val("암웨이");
						$("#LGD_PRODUCTINFO").val("교육장");
						$("#LGD_BUYERID").val("7480000");

						//				paymentFrame.f_start_pay();
					}
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});

			frm_pay.LGD_AMOUNT.value = $("#currentAmount").val();
			frm_pay.LGD_INSTALL.value = $("#oldinstallment").val(); // $("#einstallment").val();

			if (navigator.userAgent.match(/AMWAY_IOS_APP/i) != null && navigator.userAgent.match(/AMWAY_IOS_APP/i).length >=
				1) {
				frm_pay.LGD_KVPMISPWAPURL.value = "mobileAbnKorea://";
				frm_pay.LGD_KVPMISPCANCELURL.value = "mobileAbnKorea://";
			}

			if (navigator.userAgent.match(/(iphone)|(ipod)|(ipad)/i) && navigator.userAgent.match(/AMWAY_IOS_APP/i) == null) {
				frm_pay.LGD_KVPMISPAUTOAPPYN.value = "N";
			}

			var paramPay = $("#tempForm").serialize();
			paramPay += "&amount=" + $("#currentAmount").val();
			paramPay += "&cardtype=" + $("#bankid").val();
			// 주문번호 생성 및 해쉬키 생성
			$.ajax({
				url: "/xpay/createPaymentData.do",
				type: "POST",
				data: paramPay,
				dataType: "json",
				success: function (data, textStatus, jqXHR) {
					if (data) {
						frm_pay.LGD_AMOUNT.value = $("#currentAmount").val();
						frm_pay.LGD_OID.value = data.oid;
						frm_pay.CST_MID.value = data.cid;
						frm_pay.LGD_TIMESTAMP.value = data.timestamp;
						frm_pay.LGD_MID.value = data.mid;
						frm_pay.LGD_CARDTYPE.value = data.cardtype;
						frm_pay.CST_PLATFORM.value = data.platform;
						frm_pay.LGD_HASHDATA.value = data.hashdata;
						frm_pay.usr_req_cardCd.value = data.req_cardCd;
						frm_pay.LGD_RETURNURL.value = currentLocation + "/xpay/xpayRequestSabn.do";
						frm_pay.LGD_CANCELURL.value = currentLocation + "/xpay/xpayRequestSabn.do";

						f_start_pay();
					}
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});


		}


		function f_start_pay() {

			var valueCheck = setInterval(function () {
				if (document.getElementById('CST_PLATFORM').value != "") {
					clearInterval(valueCheck);
					var platform = document.getElementById('CST_PLATFORM').value;
					var LGD_window_type = document.getElementById('LGD_WINDOW_TYPE').value;
					document.getElementById("LGD_RESPCODE").value = "";
					document.getElementById("LGD_RESPMSG").value = "";

					open_paymentwindow(document.getElementById('frm_pay'), platform, LGD_window_type);
					return false;
				}

			}, 500);
		}

		/* 안심결제 결제 진행 */
		function doEasypayProcess() {

			// ui block
			showLoading();
			$("#resultKiccProcess").val('false');

			// set : session information
			$("#roomAppendCardForm").empty();
			$("#roomForm").find("input[type=hidden]").each(function () {
				var el_name = $(this).attr('name');
				var el_value = $(this).val();
				$("#roomAppendCardForm").append("<input type='hidden' name='" + el_name + "' value='" + el_value +
					"' />");
			})

			// form element copy to order-form
			$("#tempForm").empty();
			var inputNode = $("#roomAppendCardForm").clone().find(":input");
			$("#tempForm").append(inputNode);

			var tempFormParam = $("#tempForm").serialize();

			var easyArray = new Array()
			var easyInfo = "";

			$.ajax({
				url: "/reservation/roomPaymentInfoAjax.do",
				type: "POST",
				data: tempFormParam,
				dataType: "json",
				success: function (data, textStatus, jqXHR) {
					if (data) {
						var paymentElememtJson = data.roomPaymentInfoList;
						var paymentElememtInput = "";
						var totalPrice = 0;

						for (var cnt = 0; cnt < paymentElememtJson.length; cnt++) {

							easyInfo = new Object();
							easyInfo.tmp_ppseq = paymentElememtJson[cnt].ppSeq;
							easyInfo.tmp_typeseq = paymentElememtJson[cnt].typeSeq;
							easyInfo.tmp_ppname = paymentElememtJson[cnt].ppName;
							easyInfo.tmp_cookMasterCode = paymentElememtJson[cnt].cookMasterCode;
							easyInfo.tmp_sessionname = paymentElememtJson[cnt].sessionName;
							easyInfo.tmp_reservationDate = paymentElememtJson[cnt].reservationDate;
							easyInfo.tmp_endDateTime = paymentElememtJson[cnt].endDateTime;
							easyInfo.tmp_roomname = paymentElememtJson[cnt].roomName;
							easyInfo.tmp_rsvSessionSeq = paymentElememtJson[cnt].rsvSessionSeq;
							easyInfo.tmp_paymentStatusCode = paymentElememtJson[cnt].paymentStatusCode;
							easyInfo.tmp_startDateTime = paymentElememtJson[cnt].startDateTime;
							easyInfo.tmp_price = paymentElememtJson[cnt].price;
							easyInfo.tmp_sessionymd = paymentElememtJson[cnt].sessionYmd;
							easyInfo.tmp_sessionprice = paymentElememtJson[cnt].sessionPrice;
							easyInfo.tmp_roomseq = paymentElememtJson[cnt].roomSeq;
							easyInfo.tmp_standByNumber = paymentElememtJson[cnt].standByNumber;
							easyInfo.tmp_freeMember = paymentElememtJson[cnt].freeMemberBoolen;
							easyArray.push(easyInfo);

							totalPrice += parseInt(paymentElememtJson[cnt].price);
						}

						var bankid = $("#bankid :selected").val();
						var bankname = $("#bankid :selected").text();;

						var total_easyInfo = new Object();
						total_easyInfo.tmp_items = easyArray;
						total_easyInfo.tmp_interfaceChannel = "MOBILE";
						total_easyInfo.tmp_paymentmode = "easypay";
						total_easyInfo.tmp_totalPrice = totalPrice;
						total_easyInfo.tmp_orderAmount = totalPrice;
						total_easyInfo.tmp_bankid = bankid
						total_easyInfo.tmp_bankname = bankname

						template = $('#tmp_easypay').html();
						rendered = Mustache.render(template, total_easyInfo);


						$("#paymentFrame").contents().find("#reservationElements").empty();
						$("#paymentFrame").contents().find("#reservationElements").append(rendered);


						// set : kicc parameter
						$("#paymentFrame").contents().find("#product_nm").val("교육장");
						$("#paymentFrame").contents().find("#user_nm").val("암웨이");
						$("#paymentFrame").contents().find("#usedcard_code").val($("#bankid :selected").val());

						$("#paymentFrame").contents().find("#sp_pay_mny").val($("#currentAmount").val());
						$("#paymentFrame").contents().find("#sp_quota").val($("#einstallment").val());

						var jsonObj = [];
						var $revElem = $("#paymentFrame").contents().find("#reservationElements");
						/*
						$revElem.find("input").each(function(){

						var name = $(this).attr("name");
						var value = $(this).attr("value");

						item = {}
						item ["name"] = name;
						item ["value"] = encodeURIComponent(value);

						jsonObj.push(item);
						});*/

						//				$("#paymentFrame").contents().find("#reserved1").val("");
						//				$("#paymentFrame").contents().find("#reserved1").val(JSON.stringify(jsonObj));

						paymentFrame.f_start_pay();
					}
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});

		}

		/* 교육장 예약 등록 - 일반결제 */
		function roomReservationInsert(obj) {

			var cheonan_ppseq = "";
			var system_gubun = "PROD";
			var now_ppseq = $("input[name=ppseq]").eq(0).val();

			if (system_gubun == "PROD") {
				cheonan_ppseq = "12"
			} else {
				cheonan_ppseq = "27"
			}

			if (now_ppseq == cheonan_ppseq) {
				if (!confirm("교육장 사용료는 현장에서 결제(카드 또는 무통장입금)하셔야 합니다.\n예약을 계속 진행하시겠습니까?")) {
					return false;
				}
			}


			/*룸 예약 확인 버튼 클릭시 클릭 Tagging 추가  */
			typeSeq = "3";
			var type_name = "";

			if (typeSeq == "1") {
				type_name = "BizRoom_edu";
			} else if (typeSeq == "2") {
				type_name = "BizRoom_queen";
			} else if (typeSeq == "3") {
				type_name = "BizRoom_biz";
			} else {
				type_name = "room_complete";
			}
			//alert(type_name);

			utag.link({
				event_name: "click_action",
				click_category: "Generic button",
				click_detail: type_name
			});

			/*룸 예약 확인 버튼 클릭시 클릭 Tagging 추가 종료 */

			$(obj).removeAttr("onclick");


			var tmpOrderAmt = $("input[name='orderAmount']", $("#roomAppendCardForm")).val();

			var param = $("#roomAppendCardForm").serialize();

			$.ajaxCall({
				url: "/reservation/roomReservationInsertAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {

					if ("false" == data.possibility) {

						alert(data.reason);
						return false;

					} else {

						var totalCnt = data.totalCnt;
						if (totalCnt) {
							try {

								$("#transactionTime").val(data.transactionTime);

								/* 팝업창 닫기 */
								confirmClosePop();

								/* 결과창 */
								$("#step3Btn").parents('.bizEduPlace').removeClass('current').addClass('finish');
								$("#step3Btn").parents('.bizEduPlace').find('.result').show();
								$("#step3Btn").parents('.bizEduPlace').find('.selectDiv').slideUp();

								/* 예약 완료 */
								var totalAmount = data.totalPrice;
								if (0 < totalAmount) {
									$("#payResult").empty();
									$("#payResult").append(
										"<em class='bizIcon step03'></em><strong class='step'>STEP3/ 동의, 결제</strong>"
										);
									$("#payResult").append("<span>신용카드<em class='bar'>|</em>" + setComma(
										totalAmount) + " 원</span>");
								}

								$("#payDone").empty();
								if (standByNumberGbn() == "mix") {
									$("#payDone").append(
										"<strong class=\"point3\">예약</strong><strong class=\"point1\">대기 건이 포함되어</strong></strong><strong class=\"point3\">있습니다.</strong><br>예약현황 상세보기에서 조회 가능합니다.<br>이용해 주셔서 감사합니다."
										);
								} else if (standByNumberGbn() == "pay") {
									$("#payDone").append(
										"<strong class=\"point1\">예약</strong><strong class=\"point3\">이 완료 되었습니다.</strong><br>이용해 주셔서 감사합니다."
										)
								} else if (standByNumberGbn() == "wait") {
									$("#payDone").append(
										"<strong class=\"point1\">예약대기</strong><strong class=\"point3\">이 완료 되었습니다.</strong><br>선 예약자 분의 취소 발생시 예약이 완료됩니다."
										)
								}

								$("#stepDone").show();

								//						setTimeout(function(){ abnkorea_resize(); }, 500);
							} catch (e) {
								//console.log(e);
							}
						} else {
							var mag = '처리도중 오류가 발생하였습니다.';
							alert(mag);
						}
					}

					//			setTimeout(function(){ abnkorea_resize(); }, 500);
				},
				error: function (jqXHR, textStatus, errorThrown) {

					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);

					$(obj).attr("onclick", "javascript:roomReservationInsert(this);");
				}
			});
		}
		/* 레이어 팝업 닫기 */
		function confirmClosePop() {
			$("#uiLayerPop_confirm").fadeOut();
			$("#layerMask").remove();

			$('html, body').css({
				overflowX: '',
				overflowY: ''
			});
		}
		/* 예약불가 팝업 확인 이벤트 */
		function CultureDisabledConfirm() {

			var selectChoice = $("input:radio[name='resConfirm']:checked").val();

			if (selectChoice == "sessionSelect1") {

				/* 발견된 중복건수를 opener 페이지의 세션선택 상자에서 찾은 후 해제 시키는 기능 */
				$("#uiLayerPop_cannot input[type='hidden']").each(function () {
					$(".brSessionWrap input[type='checkbox'][id='" + $(this).val() + "'] ").prop("checked", false);
				});

				/* 세션 갱신 */
				sessionCheck();

				/* 예약 진행 */
				paymentCheck();
			} else {
				/* step2로 돌아감 */
				$("#step3Btn").parents('.bizEduPlace').removeClass('current').addClass('finish');
				$("#step3Btn").parents('.bizEduPlace').find('.result').show();
				$("#step3Btn").parents('.bizEduPlace').find('.selectDiv').slideUp();

				$("#step2Btn").parents("dd").show();
				$("#step2Btn").parents(".bizEduPlace").find(".selectDiv").show();
				$("#step2Btn").parents(".bizEduPlace").find(".result").hide();

			}
			mobileClosePop('uiLayerPop_cannot');
		}

		/* 레이어 팝업 닫기 */
		function mobileClosePop(obj) {
			$("#" + obj).fadeOut();
			$("#layerMask").remove();
			$('html, body').css({
				overflowX: '',
				overflowY: ''
			});
		}

		/* 팝업 캘린더 기준정보 셋팅 */
		function popCalenderSettingAjax() {

			$.ajaxCall({
				url: "/reservation/roomConfirmPop.do",
				type: "POST",
				success: function (data, textStatus, jqXHR) {

					var yearCodeList = data.yearCodeList;
					var monthCodeList = data.monthCodeList;
					var yearMonthDay = data.yearMonthDay;

					/* 기준년도 생성 */
					$("#year").empty();
					for (var num in yearCodeList) {
						if (yearMonthDay.ymd.substring(0, 4) == yearCodeList[num]) {
							$("#year").append("<option value=\"" + yearCodeList[num] +
								"\" selected=\"selected\">" + yearCodeList[num] + "</option>");
						} else {
							$("#year").append("<option value=\"" + yearCodeList[num] + "\">" + yearCodeList[num] +
								"</option>");
						}
					}


					/* 기준 월 생성 */
					$("#month").empty();
					for (var num in monthCodeList) {
						if (yearMonthDay.ymd.substring(4, 6) == monthCodeList[num]) {
							$("#month").append("<option value=\"" + monthCodeList[num] +
								"\" selected=\"selected\">" + monthCodeList[num] + "</option>");
						} else {
							$("#month").append("<option value=\"" + monthCodeList[num] + "\">" + monthCodeList[
								num] + "</option>");
						}
					}

					popCalenderInfoAjax($("#year").val(), $("#month").val());
				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* 시설예약 현황확인 레이어 팝업  */
		function popCalenderInfoAjax(year, month) {

			var param = {
				"year": year,
				"month": month

					/* 이전달, 현재달, 다음달 예약정보 카운트 조회 파라미터 */
					,
				"getYear": year,
				"getMonth": month,
				"rsvtypecode": "R01"
			};

			$.ajaxCall({
				url: "/reservation/roomCalenderInfoAjax.do",
				type: "POST",
				data: param,
				success: function (data, textStatus, jqXHR) {

					/* 해당 월 달력 정보 */
					var calendar = data.roomCalendar;

					/* 오늘 날짜 정보 (yyyymmdd) */
					var today = data.roomToday;

					var reservationInfoList = data.roomReservationInfoList;

					var monthRsvCount = data.monthRsvCount;

					/* 달련 렌더링 */
					popCalenderRender(calendar, today, reservationInfoList);

					/* 캘린더 상단 해당월의 총 예약 건수  */
					$(".topText").empty();
					$(".topText").append("<strong>총" + monthRsvCount.thismonthcnt + "개</strong>의 시설예약 내역이 있습니다.");


				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* 달력 그리기 */
		function popCalenderRender(calendar, today, reservationInfoList) {

			$("#uiLayerPop_calender").find(".tblBookCalendar tbody").empty();

			var cnt = 0;
			var selectYmd = "";

			var calRsvArray = new Array();
			var calRsvInfo = "";
			var calArray = new Array();
			var calInfo = "";
			var calHeadArray = new Array();
			var calHead = "";

			for (var num = 0; num < Math.ceil((calendar.length + (calendar[0].weekday - 1)) / 7); num++) {
				calHead = new Object;
				calArray = new Array();
				for (var i = 0; i < 7; i++) {
					calInfo = new Object;
					if (cnt == calendar.length) {
						calInfo.tmp_td = false;
						calArray.push(calInfo);
						continue;
					}

					if (calendar[cnt].weekday == (i + 1 + (num * 7)) || cnt > 0) {
						calInfo.tmp_td = true;
						if (calendar[cnt].ymd == today.ymd && $("#popDay").val() == "") {
							calInfo.tmp_class = true;
							$("#popDay").val("");
							$("#popDay").val(calendar[cnt].day);
							selectYmd = calendar[cnt].ymd;
						} else if (calendar[cnt].day == $("#popDay").val()) {
							calInfo.tmp_class = true;
							$("#popDay").val("");
							$("#popDay").val(calendar[cnt].day);
							selectYmd = calendar[cnt].ymd;
						} else {
							calInfo.tmp_class = false;
						}

						calInfo.tmp_engweekday = calendar[cnt].engweekday;
						calInfo.tmp_ymd = calendar[cnt].ymd;
						calInfo.tmp_day = calendar[cnt].day;


						var tempTypeName = "";

						calRsvArray = new Array();

						for (var j in reservationInfoList) {
							if (reservationInfoList[j].ymd == calendar[cnt].ymd &&
								reservationInfoList[j].paymentStatusCode != null &&
								reservationInfoList[j].paymentStatusCode != "P03" &&
								reservationInfoList[j].typename != tempTypeName) {
								tempTypeName = reservationInfoList[j].typename;
								calRsvInfo = new Object;
								if (reservationInfoList[j].typename.substring(0, 2) == "교육") {
									calRsvInfo.tmp_color = "blue";
								} else if (reservationInfoList[j].typename.substring(0, 2) == "비즈") {
									calRsvInfo.tmp_color = "green";
								} else if (reservationInfoList[j].typename.substring(0, 2) == "퀸룸") {
									calRsvInfo.tmp_color = "red";
								} else if (reservationInfoList[j].typename == "25센트라이드예약") {
									calRsvInfo.tmp_color = "gray";
								} else if (reservationInfoList[j].typename == "A STATION시설") {
									calRsvInfo.tmp_color = "purple";
								}

								console.log(reservationInfoList[j].typename)

								calRsvArray.push(calRsvInfo);
							}
						}
						calInfo.tmp_colorArray = calRsvArray;
						cnt++;
					} else {
						calInfo.tmp_td = false;
					}

					calArray.push(calInfo);

				}


				calHead.tmp_head = calArray;
				calHeadArray.push(calHead);
			}

			var total_calInfo = new Object();
			total_calInfo.tmp_items = calHeadArray;

			var template = $('#tmp_calender').html();
			var rendered = Mustache.render(template, total_calInfo);

			$("#uiLayerPop_calender").find(".tblBookCalendar tbody").append(rendered);

			/* 세션 정보 empty */
			$(".tblBizroomState").empty();

			/* 선택된 날짜 확인 후 세션 정보 조회 */
			if (selectYmd != "") {
				roomDayReservationListAjax(selectYmd);
			} else {
				roomMonthReservationListAjax();
			}
			/* 세션 정보 삭제 */
			// 	$(".tblSession").remove();

			//	setTimeout(function(){ abnkorea_resize(); }, 500);

		}

		/* 기존 날짜 선택 리셋, 해당 날짜 선택 */
		function dayCheckReset(obj, reservationDate) {
			$(".selcOn").removeClass("selcOn");

			$(obj).find("a").addClass("selcOn");
			$("#popDay").val($(obj).children("a").prop("innerText"));
			roomDayReservationListAjax(reservationDate);
		}

		/* 예약 현황 특정 날짜 본인 예약 정보 조회 */
		function roomDayReservationListAjax(reservationDate) {

			$.ajaxCall({
				url: "/reservation/roomDayReservationListAjax.do",
				type: "POST",
				data: {
					"reservationDate": reservationDate
				},
				success: function (data, textStatus, jqXHR) {

					var reservationList = data.roomReservationList;

					reservationRender(reservationList);

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* 예약 현황 특정 년, 월 본인 예약 정보 조회 */
		function roomMonthReservationListAjax() {

			$(".selcOn").removeClass("selcOn");

			$("#popDay").val("");

			$.ajaxCall({
				url: "/reservation/roomMonthReservationListAjax.do",
				type: "POST",
				data: {
					"year": $("#year").val(),
					"month": $("#month").val()
				},
				success: function (data, textStatus, jqXHR) {

					var reservationList = data.roomReservationList;

					reservationRender(reservationList);

				},
				error: function (jqXHR, textStatus, errorThrown) {
					var mag = '처리도중 오류가 발생하였습니다.';
					alert(mag);
				}
			});
		}

		/* 해당 날짜 본인 전체 예약 정보  렌더링 */
		function reservationRender(reservationList) {

			$(".tblBizroomState").empty();

			var html = "";

			if (reservationList.length == 0) {
				html = "<dt>예약내역이 없습니다.</dt>";
			} else {

				for (var num in reservationList) {

					html += "<dt>사용일자" +
						"<br/>" + reservationList[num].reservationDate.substring(0, 4) +
						"-" + reservationList[num].reservationDate.substring(4, 6) +
						"-" + reservationList[num].reservationDate.substring(6, 8) +
						"(" + reservationList[num].weekname +
						") " + reservationList[num].sessionname +
						"(" + reservationList[num].startDateTime.substring(0, 2) +
						":" + reservationList[num].startDateTime.substring(2, 4) +
						"~" + reservationList[num].endDateTime.substring(0, 2) +
						":" + reservationList[num].endDateTime.substring(2, 4) +
						")" +
						"<dd>" + reservationList[num].typename + " | " +
						reservationList[num].ppname + " – " +
						reservationList[num].roomname + " <br/>상태 : " +
						reservationList[num].paymentname + "</dd>";
				}
			}

			$(".tblBizroomState").append(html);

			//	setTimeout(function(){ abnkorea_resize(); }, 500);
			moveStep.top();
		}

		function setMonth(flag) {
			var tempYear;
			var tempMonth;

			if (flag == "post") {
				if ($("#month").val() == "12") {
					tempYear = Number($("#year").val()) + 1;
					tempMonth = "01";

					$("#year").val(tempYear);
					$("#month").val(tempMonth);
				} else if ($("#month").val() != "12") {
					tempYear = $("#year").val();
					tempMonth = Number($("#month").val()) + 1;

					if (tempMonth < 10) {
						tempMonth = "0" + tempMonth;
						$("#year").val(tempYear);
						$("#month").val(tempMonth);
					} else if (tempMonth >= 10) {
						$("#year").val(tempYear);
						$("#month").val(tempMonth);
					}
				}


			} else if (flag == "pre") {
				if ($("#month").val() == "01") {
					tempYear = Number($("#year").val()) - 1;
					tempMonth = "12";

					$("#year").val(tempYear);
					$("#month").val(tempMonth);
				} else if ($("#month").val() != "01") {
					tempYear = $("#year").val();
					tempMonth = Number($("#month").val()) - 1;

					if (tempMonth < 10) {
						tempMonth = "0" + tempMonth;
						$("#year").val(tempYear);
						$("#month").val(tempMonth);
					} else if (tempMonth >= 10) {
						$("#year").val(tempYear);
						$("#month").val(tempMonth);
					}
				}
			}


			popCalenderInfoAjax($("#year").val(), $("#month").val());
		}

		/* 캘린더 취소*/
		function roomInfoRsvCancel(rsvseq, roomseq, standByNumber) {
			var param = {
				"rsvseq": rsvseq,
				"roomseq": roomseq,
				"standByNumber": standByNumber
			};

			if (confirm("예약을 취소 하시겠습니까?") == true) {
				$.ajaxCall({
					url: "/reservation/updateRoomCancelCodeAjax.do",
					type: "POST",
					data: param,
					success: function (data, textStatus, jqXHR) {

						if (data.errorMsg) {
							alert(data.errorMsg);
						} else {
							alert("예약이 취소되었습니다.");
						}

						popCalenderInfoAjax($("#year").val(), $("#month").val());
					},
					error: function (jqXHR, textStatus, errorThrown) {
						var mag = '처리도중 오류가 발생하였습니다.';
						alert(mag);
					}
				});
			} else {
				return false;
			}
		}

		/* 레이어 팝업 닫기 */
		function personalClosePop() {
			$("#uiLayerPop_personal").fadeOut();
			$("#layerMask").remove();

			$('html, body').css({
				overflowX: '',
				overflowY: ''
			});
		}

		/* 레이어 팝업 닫기 */
		function visionCenterClosePop() {
			$("#uiLayerPop_visionCenter").fadeOut();
			$("#layerMask").remove();

			$('html, body').css({
				overflowX: '',
				overflowY: ''
			});
		}

		/* 레이어 팝업 닫기 */
		function w03ClosePop() {
			$("#uiLayerPop_w03").fadeOut();
			$("#layerMask").remove();

			$('html, body').css({
				overflowX: '',
				overflowY: ''
			});
		}

		function w031ClosePop() {
			$("#uiLayerPop_w031").fadeOut();
			$("#layerMask").remove();

			$('html, body').css({
				overflowX: '',
				overflowY: ''
			});
		}


		/* ap 안내 */
		function showApInfo(thisObj) {
			layerPopupOpen(thisObj);

			abnkoreaApInfoPop_resize();

		}

		/* 카드사 혜택 목록 받아오는 기능 */
		function benefitCardList() {
			window.open("https://www.amway.co.kr/notifications/card-benefit");
		}

		/* KICC 결제 완료로부터의 종료 화면 렌더링 */
		function roomRsvDetail() {
			refreshOrderPage();

			/* 결과창 */
			$("#step3Btn").parents('.bizEduPlace').removeClass('current').addClass('finish');
			$("#step3Btn").parents('.bizEduPlace').find('.result').show();
			$("#step3Btn").parents('.bizEduPlace').find('.selectDiv').slideUp();

			var apay = $("#apaySumbitForm").find("input[name=apaytype]").val();
			var apayText = "";

			if (apay == "ACCOUNT") {
				apayText = "A Pay 자동이체";
			} else if (apay == "CARD") {
				apayText = "A Pay 신용카드";
			} else {
				apayText = "신용카드";
			}

			/* 예약 완료 */
			var totalAmount = $("#currentAmount").val();

			if (0 < totalAmount) {
				$("#payResult").empty();
				$("#payResult").append("<em class='bizIcon step03'></em><strong class='step'>STEP3/ 동의, 결제</strong>");
				$("#payResult").append("<span>" + apayText + "<em class='bar'>|</em>" + setComma(totalAmount) + " 원</span>");
			}

			$("#payDone").empty();
			if (standByNumberGbn() == "mix") {
				$("#payDone").append(
					"<strong class=\"point3\">예약</strong><strong class=\"point1\">대기 건이 포함되어</strong></strong><strong class=\"point3\">있습니다.</strong><br>예약현황 상세보기에서 조회 가능합니다.<br>이용해 주셔서 감사합니다."
					);
			} else if (standByNumberGbn() == "pay") {
				$("#payDone").append(
					"<strong class=\"point1\">예약</strong><strong class=\"point3\">이 완료 되었습니다.</strong><br>이용해 주셔서 감사합니다.")
			} else if (standByNumberGbn() == "wait") {
				$("#payDone").append(
					"<strong class=\"point1\">예약대기</strong><strong class=\"point3\">이 완료 되었습니다.</strong><br>선 예약자 분의 취소 발생시 예약이 완료됩니다."
					)
			}

			$("#stepDone").show();

			//	setTimeout(function(){ abnkorea_resize(); }, 500);
		}

		function tempSharing(url, sns) {
			var title = "";
			var menuCode = "3";
			if (menuCode == "1") {
				title = "Amway - 교육장 예약";
			} else if (menuCode == "2") {
				title = "Amway - 퀸룸/파티룸 예약";
			} else if (menuCode == "3") {
				title = "Amway - 비즈룸 예약";
			} else if (menuCode == "8") {
				title = "Amway -  25센트라이드예약 예약";
			} else if (menuCode == "11") {
				title = "Amway - A STATION 시설  예약";
			}
			var content = $("#snsText").val().trim().replace(/[\t]+/g, '');

			if (sns == "facebook") {
				var tmpUrl = url + "?reservation=" + $("#transactionTime").val();
			} else {
				var tmpUrl = url;
			}

			utag.link({
				event_name: "social_share",
				social_type: sns //kakaotalk, Band, twitter, facebook, kakaostory, urlsharing, print 등
			})

			sharing(tmpUrl, title, sns, content);
		}

		//maxlength 체크
		function maxLengthCheck(object) {
			if (object.value.length > object.maxLength) {
				object.value = object.value.slice(0, object.maxLength);
			}
		}

		/**
		 * 각 단계로의 이동
		 */
		var moveStep = {

			moveFunction: function (arg) {
				/* move function */
				var $pos = eval(arg); //$("#step1OpenSelectDiv");
				//		var iframeTop = parent.$("#IframeComponent").offset().top
				//		
				//		parent.$('html, body').animate({
				//		    scrollTop:$pos.offset().top + iframeTop
				//		}, 300);

			},

			top: function () {
				this.moveFunction("$('#pbContent')");
			},

			stepOne: function () {
				this.moveFunction("$('#selectStepOne')");
			},

			stepOneRoom: function () {
				this.moveFunction("$('#selectStepOneRoom')");
			},

			stepTwo: function () {
				this.moveFunction("$('#selectStepTwo')");
			},

			stepThree: function () {
				this.moveFunction("$('#selectStepThree')");
			}

		}


		/* 예약불가 팝업 확인 이벤트 */
		function eduCultureDisabledConfirm() {

			var selectChoice = $("input:radio[name='resConfirm']:checked").val();

			if (selectChoice == "sessionSelect1") {

				/* 발견된 중복건수를 opener 페이지의 세션선택 상자에서 찾은 후 해제 시키는 기능 */
				$("#uiLayerPop_cannot input[type='hidden']").each(function () {
					$(".brSessionWrap input[type='checkbox'][id='" + $(this).val() + "'] ").prop("checked", false);
				});

				/* 세션 갱신 */
				sessionCheck();

				/* 예약 진행 */
				paymentCheck();
			} else {
				/* step2로 돌아감 */
				$("#step3Btn").parents('.bizEduPlace').removeClass('current').addClass('finish');
				$("#step3Btn").parents('.bizEduPlace').find('.result').show();
				$("#step3Btn").parents('.bizEduPlace').find('.selectDiv').slideUp();

				$("#step2Btn").parents("dd").show();
				$("#step2Btn").parents(".bizEduPlace").find(".selectDiv").show();
				$("#step2Btn").parents(".bizEduPlace").find(".result").hide();

			}
			closePopLayer('#uiLayerPop_cannot');

			//	setTimeout(function(){ abnkorea_resize(); }, 500);
		}


		/* 레이어 팝업 닫기 */
		function closePopLayer(obj) {
			$(obj).fadeOut();
			$("#layerMask").remove();

			$('html, body').css({
				overflowX: '',
				overflowY: ''
			});
		}

		function leadingZeros(n, digits) {
			var zero = '';
			n = n.toString();

			if (n.length < digits) {
				for (i = 0; i < digits - n.length; i++)
					zero += '0';
			}
			return zero + n;
		}

		function standByNumberCheck() {

			var rtnValue = "true";

			$('#roomAppendCardForm [name="standByNumber"]').each(function (index) {
				if ($(this).val() == "1") {
					if (confirm("대기 신청은 예약 확정이 아니며, 선 예약자가 해당 세션예약 취소 시 예약이 완료됩니다. 예약을 진행 하시겠습니까?")) {
						rtnValue = "true";
					} else {
						rtnValue = "false";
					}
				}
			});

			return rtnValue;
		}

		function standByNumberGbn() {

			var rtnPay = 0;
			var rtnWait = 0;
			var rtnValue = "pay";

			$('#roomAppendCardForm [name="standByNumber"]').each(function (index) {
				if ($(this).val() == "1") {
					rtnWait++;
				} else {
					rtnPay++;
				}
			});

			if (rtnPay > 0 && rtnWait > 0) {
				rtnValue = "mix";
			}
			if (rtnPay > 0 && rtnWait == 0) {
				rtnValue = "pay";
			}
			if (rtnPay == 0 && rtnWait > 0) {
				rtnValue = "wait";
			}

			return rtnValue;
		}
	</script>
	<script type="text/javascript" async="" charset="utf-8" id="utag_amway.kr-hybris_41"
		src="//tags.tiqcdn.com/utag/tiqapp/utag.currency.js?utv=ut4.45.202303210532"></script>
	<script type="text/javascript" async="" charset="utf-8" id="utag_amway.kr-hybris_70"
		src="//tags.tiqcdn.com/utag/tiqapp/utag.currency.js?utv=ut4.45.202303210532"></script>
	<script type="text/javascript" async="" charset="utf-8" id="utag_amway.kr-hybris_69"
		src="//tags.tiqcdn.com/utag/amway/kr-hybris/prod/utag.69.js?utv=ut4.45.202303210532"></script>
	<script type="text/javascript" async="" charset="utf-8" id="utag_amway.kr-hybris_36"
		src="//tags.tiqcdn.com/utag/amway/kr-hybris/prod/utag.36.js?utv=ut4.45.201906051943"></script>
	<script charset="utf-8"
		src="https://siteintercept.qualtrics.com/dxjsmodule/12.ab92b717dec244c92313.chunk.js?Q_CLIENTVERSION=1.95.0&amp;Q_CLIENTTYPE=web&amp;Q_BRANDID=academy.amway.co.kr">
	</script>
	<script
		src="https://ticket.amway.co.kr:443/ts.wseq?opcode=5101&amp;nfid=0&amp;prefix=NetFunnel.gRtype=5101;&amp;sid=service_1&amp;aid=AcademyInquiry2&amp;js=yes&amp;1690783269271">
	</script>
</head>















































<body style="">
	<form id="roomForm" name="roomForm" method="post">
		<input type="hidden" name="typeSeq" class="20230823423051" value="3">
		<input type="hidden" name="ppSeq" class="20230823423051" value="14">
		<input type="hidden" name="ppName" class="20230823423051" value="창원ABC">
		<input type="hidden" name="roomSeq" class="20230823423051" value="2416">
		<input type="hidden" name="roomName" class="20230823423051" value="BIZ 룸 4">
		<input type="hidden" name="sessionYmd" class="20230823423051" value="2023-08-23 (수)">
		<input type="hidden" name="sessionName" class="20230823423051" value="세션1 (10:00~12:00)">
		<input type="hidden" name="sessionPrice" class="20230823423051" value="0">
		<input type="hidden" name="reservationDate" class="20230823423051" value="20230823">
		<input type="hidden" name="rsvSessionSeq" class="20230823423051" value="423051">
		<input type="hidden" name="startDateTime" class="20230823423051" value="1000">
		<input type="hidden" name="endDateTime" class="20230823423051" value="1200">
		<input type="hidden" name="price" class="20230823423051" value="0">
		<input type="hidden" name="cookMasterCode" class="20230823423051" value="R02">
		<input type="hidden" name="standByNumber" class="20230823423051" value="0">
		<input type="hidden" name="paymentStatusCode" class="20230823423051" value="P02">
		<input type="hidden" name="freeMemberBoolen" class="20230823423051" value="">
		<input type="hidden" name="typeseq" value="3"><input type="hidden" name="ppseq" value="14"><input type="hidden"
			name="roomseq" value="2416"></form>
	<form id="roomAppendCardForm" name="roomAppendCardForm" method="post"></form>
	<input type="hidden" id="currentAmount" value="무료">
	<input type="hidden" id="cookMaster" value="false">
	<input type="hidden" id="freeMember" value="0">
	<input type="hidden" id="couponCount" value="0">
	<input type="hidden" id="transactionTime">
	<input type="hidden" id="snsText" name="snsText" value="[한국암웨이]시설/체험 예약내역 (총 1무료) 
■창원ABC(BIZ 룸 4)2023-08-23 (수)| 
세션1 (10:00~12:00)
">
	<input type="hidden" id="resultKiccProcess" name="resultKiccProcess" value="false">

	<div id="pbContainer">
		<section id="pbContent" class="bizroom">

			<div class="pbLayerPopup new pop_new">
				<div class="pbLayerHeader">
					<strong>시설예약</strong>
				</div>
				<div class="pbLayerContent">
					<p><a class="link-btn" href="/reservation/expMeasureForm.do?menuCode=4">체험예약</a></p>

					<div class="selcWrap mgbL">
						<div class="selectArea sizeM colorW">
							<a href="/reservation/roomForm.do?menuCode=1">교육장 예약</a>
							<a href="/reservation/roomForm.do?menuCode=2">퀸룸/파티룸 예약</a>
							<a href="#" class="active">비즈룸 예약</a>
							<a href="/reservation/roomForm.do?menuCode=8">25센트라이드 예약</a>
							<a href="/reservation/roomInfoList.do">시설예약 현황</a>
						</div>
						<!--
<div class="selectArea sizeL colorW">
<a href="/reservation/roomOutBoundForm.do">외부임대 교육장 안내</a>
</div>
//-->
					</div>


					<div class="tab-conts" id="business1" style="display:block;">
						<div>

							<section class="brIntro">
								<h2><a href="#uiToggle_01">비즈룸 예약 필수 안내</a></h2>
								<div id="uiToggle_01" class="toggleDetail">
									<div><b><br></b></div>
									<div><b>[예약안내]&nbsp;</b></div>
									<div>• 예약은 전체 ABC에 주 3회(월~토) 가능합니다.</div>
									<div>• 매월 예약 오픈일 오전 9시부터 예약 가능합니다.</div>
									<div><br></div>
									<div><b>[예약 취소 안내]</b></div>
									<div>• 사용 예정일 1일 전까지만 취소 가능합니다.</div>
									<div>• 취소없이 미사용 시 해당일로부터 2주간 추가 예약이 불가합니다.<br></div>
									<div><br></div>
									<div><b>[비즈룸 이용 안내]</b></div>
									<div>• 사업 지원 공간이므로 이용시간을 준수해주시고 음식물의 취식/반입이 불가합니다.</div>
									<div><br></div>
									<div><br></div>
									<div><br></div>
								</div>
							</section>

							<section class="mWrap">
								<!-- 스텝1 -->
								<div class="bizEduPlace finish" id="selectStepOne">
									<div class="result" style="">
										<div class="tWrap">
											<em class="bizIcon step01"></em><strong class="step">STEP1/ 지역,룸</strong>
											<span>창원ABC<em class="bar">|</em>BIZ 룸 4()</span>
										</div>
									</div>
									<!-- 펼쳤을 때 -->
									<div class="selectDiv" style="display: none;">
										<dl class="selcWrap">
											<dt>
												<div class="tWrap"><em class="bizIcon step01"></em><strong
														class="step">STEP1/ 지역,룸</strong><span>지역 선택 후 룸 타입을
														선택하세요.</span></div>
											</dt>
											<dd style="display: block;">
												<div class="hWrap">
													<p class="tit">지역 선택</p>
												</div>
												<div class="selectArea local" id="ppAppend">
													<a href="javascript:void(0);" id="detailPpSeq1" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('1','분당ABC');">분당ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq2" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('2','강서ABC');">강서ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq7" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('7','대전ABC');">대전ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq13" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('13','청주ABC');">청주ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq5" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('5','부산ABC');">부산ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq8" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('8','대구ABC');">대구ABC</a>
													<a href="javascript:void(0);" class="active" id="detailPpSeq14"
														name="detailPpSeq"
														onclick="javascript:setRoomInfoList('14','창원ABC');">창원ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq11" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('11','울산ABC');">울산ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq6" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('6','광주ABC');">광주ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq9" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('9','전주ABC');">전주ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq10" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('10','강릉ABC');">강릉ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq4" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('4','제주ABC');">제주ABC</a>
													<a href="javascript:void(0);" id="detailPpSeq23" name="detailPpSeq"
														onclick="javascript:setRoomInfoList('23','인천ABC');">인천ABC</a>
												</div>
											</dd>
											<dd style="display: block;">
												<p class="tit" id="selectStepOneRoom">룸 선택</p>
												<div class="selectArea sizeM room">
													<a href="javascript:void(0);" id="detailRoomSeq2414"
														name="detailRoomSeq"
														onclick="javascript:detailRoom('2414', 'BIZ 룸 2','20명');">BIZ 룸
														2 (20명)</a>
													<a href="javascript:void(0);" id="detailRoomSeq2415"
														name="detailRoomSeq"
														onclick="javascript:detailRoom('2415', 'BIZ 룸 3','10명');">BIZ 룸
														3 (10명)</a>
													<a href="javascript:void(0);" class="active" id="detailRoomSeq2416"
														name="detailRoomSeq"
														onclick="javascript:detailRoom('2416', 'BIZ 룸 4','6명');">BIZ 룸 4
														(6명)</a>
												</div>
											</dd>
											<dd class="dashed" style="display: block;">
												<p class="tit">창원ABC BIZ 룸 4</p>
												<div class="roomInfo">
													<!-- @edit 2016.07.18 갤러리 형태로 수정-->
													<div class="roomImg touchSliderWrap">
														<a href="#none" class="btnPrev"
															style="display: inline-block;"><img
																src="/_ui/mobile/images/common/ico_slidectrl_prev2.png"
																alt="이전"></a>
														<a href="#none" class="btnNext"
															style="display: inline-block;"><img
																src="/_ui/mobile/images/common/ico_slidectrl_next2.png"
																alt="다음"></a>
														<div class="touchSlider" id="touchSlider">
															<ul style="width: 325px; height: 148px; overflow: visible;">
																<li
																	style="float: none; display: block; position: absolute; top: 0px; left: 0px; width: 325px; height: 148px;">
																	<img src="/reservation/imageViews.do?file=202102160537569881.jpg&amp;mode=RESERVATION"
																		alt="BIZ 룸 4" title=""></li>
																<li
																	style="float: none; display: block; position: absolute; top: 0px; left: 325px; width: 325px; height: 148px;">
																	<img src="/reservation/imageViews.do?file=202102160538040531.jpg&amp;mode=RESERVATION"
																		alt="BIZ 룸 4" title=""></li>
															</ul>
														</div>
														<div class="sliderPaging"><a href="#none"
																class="btnPage on"><img
																	src="/_ui/mobile/images/common/btn_slideb_on.png"
																	alt="BIZ 룸 4"></a><a href="#none"
																class="btnPage"><img
																	src="/_ui/mobile/images/common/btn_slideb_off.png"
																	alt="BIZ 룸 4"></a></div>
													</div>
													<!-- //@edit 2016.07.18 갤러리 형태로 수정-->

													<div class="roomSubText">각종 모임, 미팅 등 Amway 비즈니스 활동을 지원하기 위한 공간입니다
													</div>
													<dl class="roomTbl">
														<dt class="noneBdT"><span class="bizIcon icon1"></span>정원</dt>
														<dd class="noneBdT">6명</dd>
														<dt><span class="bizIcon icon2"></span>이용시간</dt>
														<dd>120분</dd>
														<dt><span class="bizIcon icon3"></span>예약자격</dt>
														<dd>유자격 플래티늄 이상<br><span class="fsS">(핀별 예약일자 차등적용)</span></dd>
														<dt><span class="bizIcon icon4"></span>부대시설</dt>
														<dd>의자, 테이블, TV, 화이트 보드</dd>
													</dl>
												</div>
												<div class="btnWrap">
													<a href="#none" class="btnBasicBL stepBtn" id="step1Btn">다음</a>
												</div>
											</dd>
										</dl>
									</div>
									<!-- //펼쳤을 때 -->
								</div>
								<!-- 스텝2 -->
								<div class="bizEduPlace finish" id="selectStepTwo">
									<div class="result" style="">
										<div class="tWrap">
											<em class="bizIcon step02"></em><strong class="step">STEP2/ 날짜, 세션</strong>
											<span>총1건<em class="bar">|</em>결제예정금액 : 무료</span>
											<div class="resultDetail">
												<span>2023-08-23 (수)
													<em class="bar">|</em>세션1 (10:00~12:00)
												</span>
											</div>
										</div>
									</div>
									<!-- 펼쳤을 때 -->
									<div class="selectDiv" style="display: none;">
										<dl class="selcWrap">
											<dt>
												<div class="tWrap"><em class="bizIcon step02"></em><strong
														class="step">STEP2/ 날짜, 세션</strong><span>날짜와 세션을 선택해 주세요.</span>
												</div>
											</dt>
											<dd class="" style="">
												<div class="hWrap">
													<p class="tit">날짜 선택</p>
													<a href="#uiLayerPop_calender" class="btnTbl"
														onclick="layerPopupOpen(this);popCalenderSettingAjax();return false;">시설예약
														현황확인</a>
												</div>
												<section class="calenderBookWrap">
													<div class="calenderHeader">
														<div class="monthlyWrap">
															<span>
																<span class="year">2023</span>
																<a
																	href="javascript:calendar('2023', '7');">7<span>月</span></a>
															</span>
															<em>|</em>
															<span>
																<span class="year"></span>
																<a href="javascript:calendar('2023', '8');"
																	class="on">8<span>月</span></a>
															</span>
														</div>


														<div class="hText availabilityCount">
															<span>

																주<strong>3</strong>회

																예약 가능</span>
														</div>
													</div>

													<table class="tblBookCalendar">
														<caption>캘린더형 - 날짜별 시설예약가능 시간</caption>
														<colgroup>
															<col style="width:13.5%">
															<col style="width:14.5%" span="5">
															<col style="width:auto">
														</colgroup>
														<thead>
															<tr>
																<th scope="col" class="weekSun">일</th>
																<th scope="col" class="weekMon">월</th>
																<th scope="col" class="weekTue">화</th>
																<th scope="col" class="weekWed">수</th>
																<th scope="col" class="weekThur">목</th>
																<th scope="col" class="weekFri">금</th>
																<th scope="col" class="weekSat">토</th>
															</tr>
														</thead>
														<tbody>
															<tr>
																<td></td>
																<td></td>
																<td class="weekTue">
																	<a href="javascript:deleteSelcOnCal('1', '2023', '8');"
																		id="cal20230801">
																		1
																		<span>(5)</span>
																	</a>
																</td>
																<td class="weekWed">
																	<a href="javascript:deleteSelcOnCal('2', '2023', '8');"
																		id="cal20230802">
																		2
																		<span>(5)</span>
																	</a>
																</td>
																<td class="weekThur">
																	<a href="javascript:deleteSelcOnCal('3', '2023', '8');"
																		id="cal20230803">
																		3
																		<span>(2)</span>
																	</a>
																</td>
																<td class="weekFri">
																	<a href="javascript:deleteSelcOnCal('4', '2023', '8');"
																		id="cal20230804">
																		4
																		<span>(5)</span>
																	</a>
																</td>
																<td class="weekSat">
																	<a href="javascript:deleteSelcOnCal('5', '2023', '8');"
																		id="cal20230805">
																		5
																		<span>(4)</span>
																	</a>
																</td>
															</tr>
															<tr>
																<td class="late">
																	<a href="javascript:void(0);" id="20230806">
																		6
																	</a>
																</td>
																<td class="weekMon">
																	<a href="javascript:deleteSelcOnCal('7', '2023', '8');"
																		id="cal20230807">
																		7
																		<span>(3)</span>
																	</a>
																</td>
																<td class="weekTue">
																	<a href="javascript:deleteSelcOnCal('8', '2023', '8');"
																		id="cal20230808">
																		8
																		<span>(5)</span>
																	</a>
																</td>
																<td class="weekWed">
																	<a href="javascript:deleteSelcOnCal('9', '2023', '8');"
																		id="cal20230809">
																		9
																		<span>(3)</span>
																	</a>
																</td>
																<td class="weekThur">
																	<a href="javascript:deleteSelcOnCal('10', '2023', '8');"
																		id="cal20230810">
																		10
																		<span>(2)</span>
																	</a>
																</td>
																<td class="weekFri">
																	<a href="javascript:deleteSelcOnCal('11', '2023', '8');"
																		id="cal20230811">
																		11
																		<span>(5)</span>
																	</a>
																</td>
																<td class="weekSat">
																	<a href="javascript:deleteSelcOnCal('12', '2023', '8');"
																		id="cal20230812">
																		12
																		<span>(4)</span>
																	</a>
																</td>
															</tr>
															<tr>
																<td class="late">
																	<a href="javascript:void(0);" id="20230813">
																		13
																	</a>
																</td>
																<td class="weekMon">
																	<a href="javascript:deleteSelcOnCal('14', '2023', '8');"
																		id="cal20230814">
																		14
																		<span>(2)</span>
																	</a>
																</td>
																<td class="late">
																	<a href="javascript:void(0);" id="20230815">
																		15
																		<span>휴무</span>
																	</a>
																</td>
																<td class="weekWed">
																	<a href="javascript:deleteSelcOnCal('16', '2023', '8');"
																		id="cal20230816">
																		16
																		<span>(3)</span>
																	</a>
																</td>
																<td class="weekThur">
																	<a href="javascript:deleteSelcOnCal('17', '2023', '8');"
																		id="cal20230817">
																		17
																		<span>(2)</span>
																	</a>
																</td>
																<td class="weekFri">
																	<a href="javascript:deleteSelcOnCal('18', '2023', '8');"
																		id="cal20230818">
																		18
																		<span>(3)</span>
																	</a>
																</td>
																<td class="late">
																	<a href="javascript:void(0);" id="20230819">
																		19
																	</a>
																</td>
															</tr>
															<tr>
																<td class="late">
																	<a href="javascript:void(0);" id="20230820">
																		20
																	</a>
																</td>
																<td class="weekMon">
																	<a href="javascript:deleteSelcOnCal('21', '2023', '8');"
																		id="cal20230821">
																		21
																		<span>(3)</span>
																	</a>
																</td>
																<td class="weekTue">
																	<a href="javascript:deleteSelcOnCal('22', '2023', '8');"
																		id="cal20230822">
																		22
																		<span>(5)</span>
																	</a>
																</td>
																<td class="weekWed">
																	<a href="javascript:deleteSelcOnCal('23', '2023', '8');"
																		id="cal20230823" class="selcOn">
																		23
																		<span>(5)</span>
																	</a>
																</td>
																<td class="weekThur">
																	<a href="javascript:deleteSelcOnCal('24', '2023', '8');"
																		id="cal20230824">
																		24
																		<span>(3)</span>
																	</a>
																</td>
																<td class="weekFri">
																	<a href="javascript:deleteSelcOnCal('25', '2023', '8');"
																		id="cal20230825">
																		25
																		<span>(5)</span>
																	</a>
																</td>
																<td class="weekSat">
																	<a href="javascript:deleteSelcOnCal('26', '2023', '8');"
																		id="cal20230826">
																		26
																		<span>(4)</span>
																	</a>
																</td>
															</tr>
															<tr>
																<td class="late">
																	<a href="javascript:void(0);" id="20230827">
																		27
																	</a>
																</td>
																<td class="weekMon">
																	<a href="javascript:deleteSelcOnCal('28', '2023', '8');"
																		id="cal20230828">
																		28
																		<span>(5)</span>
																	</a>
																</td>
																<td class="late">
																	<a href="javascript:void(0);" id="20230829">
																		29
																	</a>
																</td>
																<td class="late">
																	<a href="javascript:void(0);" id="20230830">
																		30
																	</a>
																</td>
																<td class="late">
																	<a href="javascript:void(0);" id="20230831">
																		31
																	</a>
																</td>
																<td></td>
																<td></td>
															</tr>
														</tbody>
													</table>
													<ul class="listWarning mgWrap">
														<li>※ 날짜를 선택하시면 예약가능 시간(세션)을 확인 할 수 있습니다.</li>
														<li>※ 날짜 옆 괄호안 숫자는 예약 가능 세션 수 입니다</li>
													</ul>
												</section>

											</dd>
											<dd style="">
												<div class="hWrap dashed">
													<p class="tit">세션 선택</p>
													<span class="hText"><input type="checkbox" id="check1"
															name=""><label for="check1">예약가능만 보기</label></span>
												</div>
												<div class="tblWrap brSessionWrap">
													<table id="20230823" class="tblSession">
														<caption>세션 선택</caption>
														<colgroup>
															<col style="width:5%">
															<col style="width:40%">
															<col style="width:auto">
														</colgroup>
														<thead>
															<tr>
																<th scope="col" colspan="3">
																	2023-08-23 (수)
																	<a href="javascript:deleteSelcOnCal('23', '2023', '8')"
																		class="btnDel">삭제</a>
																</th>
															</tr>
														</thead>
														<tbody>
															<tr class="select">
																<td><input type="checkbox" id="20230823_423051"
																		name="sessionCheck"
																		onclick="javascript:sessionCheckLoop(this);">
																	<input type="hidden" class="sessionYmd"
																		value="2023-08-23 (수)">
																	<input type="hidden" class="sessionName"
																		value="세션1 (10:00~12:00)">
																	<input type="hidden" class="sessionPrice" value="">
																	<input type="hidden" class="price" value="">
																	<input type="hidden" class="rsvSessionSeq"
																		value="423051">
																	<input type="hidden" class="reservationDate"
																		value="20230823">
																	<input type="hidden" class="startDateTime"
																		value="1000">
																	<input type="hidden" class="endDateTime"
																		value="1200"></td>
																<td>세션1<br>10:00~12:00</td>
																<td class="price"><span class="able">예약 가능</span></td>
															</tr>
															<tr>
																<td><input type="checkbox" id="20230823_423052"
																		name="sessionCheck"
																		onclick="javascript:sessionCheckLoop(this);">
																	<input type="hidden" class="sessionYmd"
																		value="2023-08-23 (수)">
																	<input type="hidden" class="sessionName"
																		value="세션2 (12:00~14:00)">
																	<input type="hidden" class="sessionPrice" value="">
																	<input type="hidden" class="price" value="">
																	<input type="hidden" class="rsvSessionSeq"
																		value="423052">
																	<input type="hidden" class="reservationDate"
																		value="20230823">
																	<input type="hidden" class="startDateTime"
																		value="1200">
																	<input type="hidden" class="endDateTime"
																		value="1400"></td>
																<td>세션2<br>12:00~14:00</td>
																<td class="price"><span class="able">예약 가능</span></td>
															</tr>
															<tr>
																<td><input type="checkbox" id="20230823_423053"
																		name="sessionCheck"
																		onclick="javascript:sessionCheckLoop(this);">
																	<input type="hidden" class="sessionYmd"
																		value="2023-08-23 (수)">
																	<input type="hidden" class="sessionName"
																		value="세션3 (14:00~16:00)">
																	<input type="hidden" class="sessionPrice" value="">
																	<input type="hidden" class="price" value="">
																	<input type="hidden" class="rsvSessionSeq"
																		value="423053">
																	<input type="hidden" class="reservationDate"
																		value="20230823">
																	<input type="hidden" class="startDateTime"
																		value="1400">
																	<input type="hidden" class="endDateTime"
																		value="1600"></td>
																<td>세션3<br>14:00~16:00</td>
																<td class="price"><span class="able">예약 가능</span></td>
															</tr>
															<tr>
																<td><input type="checkbox" id="20230823_423054"
																		name="sessionCheck"
																		onclick="javascript:sessionCheckLoop(this);">
																	<input type="hidden" class="sessionYmd"
																		value="2023-08-23 (수)">
																	<input type="hidden" class="sessionName"
																		value="세션4 (16:00~18:00)">
																	<input type="hidden" class="sessionPrice" value="">
																	<input type="hidden" class="price" value="">
																	<input type="hidden" class="rsvSessionSeq"
																		value="423054">
																	<input type="hidden" class="reservationDate"
																		value="20230823">
																	<input type="hidden" class="startDateTime"
																		value="1600">
																	<input type="hidden" class="endDateTime"
																		value="1800"></td>
																<td>세션4<br>16:00~18:00</td>
																<td class="price"><span class="able">예약 가능</span></td>
															</tr>
															<tr>
																<td><input type="checkbox" id="20230823_423055"
																		name="sessionCheck"
																		onclick="javascript:sessionCheckLoop(this);">
																	<input type="hidden" class="sessionYmd"
																		value="2023-08-23 (수)">
																	<input type="hidden" class="sessionName"
																		value="세션5 (18:00~20:00)">
																	<input type="hidden" class="sessionPrice" value="">
																	<input type="hidden" class="price" value="">
																	<input type="hidden" class="rsvSessionSeq"
																		value="423055">
																	<input type="hidden" class="reservationDate"
																		value="20230823">
																	<input type="hidden" class="startDateTime"
																		value="1800">
																	<input type="hidden" class="endDateTime"
																		value="2000"></td>
																<td>세션5<br>18:00~20:00</td>
																<td class="price"><span class="able">예약 가능</span></td>
															</tr>
														</tbody>
													</table>
												</div>
												<div class="btnWrap aNumb2">
													<a href="#none" class="btnBasicGL"
														onclick="javascript:moveStep.stepOne();">이전</a>
													<a href="#none" class="btnBasicBL" id="step2Btn"
														style="display: block;">다음</a>
												</div>
											</dd>
										</dl>
									</div>
									<!-- //펼쳤을 때 -->
								</div>
								<!-- 스텝3 -->
								<div class="bizEduPlace current" id="selectStepThree">
									<div class="result" style="display: none;">
										<div class="tWrap">
											<em class="bizIcon step03"></em><strong class="step">STEP3/ 동의</strong>
											<span>동의완료</span>
										</div>
									</div>
									<!-- 펼쳤을 때 -->
									<div class="selectDiv" style="">
										<dl class="selcWrap">
											<dt>
												<div class="tWrap"><em class="bizIcon step03"></em><strong
														class="step">STEP3/ 동의</strong><span>예약 동의를 진행해 주세요</span></div>
											</dt>
											<dd style="">
												<div class="hWrap personal">
													<p class="tit">약관 및 동의</p>
													<a href="#uiLayerPop_personal" class="btnTbl"
														onclick="layerPopupOpen(this);return false;">약관 및 동의 전체보기</a>
												</div>
												<p class="tit mgtSM">시설교육 규정 동의</p>
												<div class="agreeDiv"
													style="height : 45px; overflow : auto; word-wrap : break-word;">
													<p><strong>제1조(목적)</strong> 이 규정은 AMWAY 비즈니스 센터 교육장(이하 “비즈룸”이라 한다.)내
														대관에 따른 시설물 사용 허가 및 기자재 관리와 운영에 관한 사항을 규정하는데 그 목적이 있다. </p>
													<p>&nbsp;</p>
													<p><strong>제2조 (대관의 정의)</strong> 대관이라 함은 ‘교육’, ‘행사’ 등을 위하여 시설, 설비 및
														부수장비를 소정의 절차를 거쳐 대관 사용하는 것과 관련 부수행위를 위하여 비즈룸의 시설설비를 임대 사용하는 것을
														말한다.</p>
													<p>&nbsp;</p>
													<p><strong>&nbsp;제3조(대관의 범위)</strong> 이 규정의 적용을 받는 대여시설 및 설비는 비즈룸과
														관련된 제반시설 및 설비를 말한다.</p>
													<p>&nbsp;</p>
													<p><strong>&nbsp;제4조(대관 시간과 비용)</strong> 1. 대관료는 인건비, 시설유지비, 감가상각비 등
														물가를 고려하여 “한국암웨이㈜” 에서 정하는 바에 따르며 교육 신청 시에 절차에 따라 납부해야 한다. 2. 대관자가
														납부한 대관료는 반환하지 않는다, 다만 한국암웨이㈜에서 정하는 절차에 따라 반환을 요구할 경우 대관료를 반환할 수
														있다. 3. 비즈룸의 대관 시간은 따로 정하는 바에 따른다. </p>
													<p>&nbsp;</p>
													<p><strong>&nbsp;제5조(시설 및 기자재 이용)</strong> 비즈룸 시설 및 기자재 이용은 아래 각 호에
														해당하는 자에 한하여 비즈룸내 시설물을 이용할 수 있다. 1. AMWAY 비즈니스 센터에서 실시되는 본사 교육과
														행사 우선 원칙. 2. 한국암웨이㈜에서 정한 비즈룸 신청 기준에 맞는 ABO. 3. 기타 AMWAY 비즈니스 센터의
														허가를 득한 단체 및 개인. </p>
													<p>&nbsp;</p>
													<p><strong>&nbsp;제6조(사용 조건)</strong> 본 비즈룸 사용자는 다음 각 호의 사용 조건을 준수하여야
														한다. 단, 부득이한 경우 AMWAY 비즈니스 센터와 사전 협의 조정할 수 있다 1.비즈룸 사용자는 시설물 및 비품
														관리에 만전을 기하여야 한다. 단, 부주의에 의한 시설물 및 비품 훼손 시 그에 상응한 보상처리를 하여야 한다.
														2. 비즈룸 사용 기간과 시간은 신청한 일자와 시간을 벗어나 사용할 수 없다. 3. 비즈룸에서 진행되는 각종 교육
														및 행사는 모두 무료로 진행되어야 하며, 참가자에게 일체의 비용을 징수 할 수 없다. </p>
													<p>&nbsp;</p>
													<p><strong>제7조(사용상 주의)</strong> 비즈룸 시설 기자재 및 자료 사용자는 소중히 사용하여야 하며 망실
														혹은 훼손하는 자는 원상회복에 해당하는 금액을 변상하는 것을 원칙으로 한다. </p>
													<p>&nbsp;</p>
													<p><strong>&nbsp;제8조(사용자 제한)</strong> 비즈룸 사용자 중 다음 각 호의 행위에 한 해 사용을
														금지할 수 있다. 1. 비즈룸 운영에 지장을 초래하는 행위 2. 비즈룸 사용 계획의 본래 목적과 상반된 행위 3.
														비즈룸 내 기자재 등 비품을 소홀히 다루고 훼손하는 행위 4. 기타 명시되지 아니한 사용 목적 중 명백히
														한국암웨이의 이익 또는 ABO 윤리강령 및 행동지침에 위배되는 행위 </p>
													<p>&nbsp;</p>
													<p><strong>제9조(부칙</strong>) 본 규정은 2017년 12월 12일부터 시행한다.&nbsp;&nbsp;
													</p>
												</div>
												<div class="agreeBoxYN mgWrap">
													운영 규정을 숙지하였으며, 규정에 동의하십니까? <span class="floatR"><input
															type="checkbox" name="" id="agreement1"><label
															for="agreement1">동의합니다.</label></span>
												</div>
												<p class="tit mgtSM">제품 교육 시 주의 사항</p>
												<div class="agreeDiv"
													style="height : 45px; overflow : auto; word-wrap : break-word;">
													<p>한국암웨이 뉴트리라이트 제품은 의약품이 아닌 건강기능식품으로, 제품 판매 또는 권유시 세심한 주의가 요구됩니다.
														건강기능식품의 경우 과대과장 광고 및 기타 불법 판매 행위에 대한 지속적인 감시와 규제가 이루어지고 있으며, 다른
														일반 제품과는 달리 지정기관에서의 교육 수료 후, 영업신고를 하셔야 제품 판매가 가능합니다. </p>
													<p>&nbsp;</p>
													<p>따라서 제품 교육시에는 반드시 한국암웨이를 통해 공식적으로 인정된 내용만이 언급 되어야 하며, 다음의 내용이 전달
														되지 않도록 유의하여 주십시오.</p>
													<p>- 뉴트리라이트 제품이 질병의 치료나 예방에 효과가 있다는 내용의 전달 </p>
													<p>- 기타 의약품으로 이인할 수 있는 표현의 사용 </p>
													<p>- 제품의 소분/재가공 판매 </p>
													<p>- 권장 섭취량 이상의 제품 과량 섭취 권장 등</p>
													<p>&nbsp;</p>
													<p>또한 재료비를 포함하여 어떠한 명목이나 형태로도 참가자에게 비용을 받을 수 없으며, 각종 책자 및 컨텐츠 등의 사업
														보조 물품을 판매하거나 홍보할 수 없습니다. 상기 규정의 위반시 윤리강령상의 조치는 물론 법규 위반에 따른 법적
														처벌까지 받을 수 있는 중대한 사안임을 감안하시어, 적극적인 준수를 부탁드립니다. 주의사항을 충분히 숙지 하였으며,
														ABC 교육시 상기원칙을 준수하겠습니다.</p>
												</div>
												<div class="agreeBoxYN mgWrap">
													주의사항을 충분히 숙지 하였으며, ABC교육장 제품 교육시 상기원칙을 준수합니다.<span
														class="floatR"><input type="checkbox" name=""
															id="agreement2"><label
															for="agreement2">동의합니다.</label></span>
												</div>

												<div class="tblWrap">
													<ul class="listWarning mgtS">
														<li>※ 미사용의 경우 2주간 예약 제한을 받게 됩니다. 사용일 당일 예약 건의 취소는 불가 합니다.</li>
													</ul>
												</div>

												<div class="btnWrap aNumb2">
													<a href="#none" class="btnBasicGL"
														onclick="javascript:moveStep.stepTwo();">이전</a>
													<a href="#uiLayerPop_confirm" class="btnBasicBL"
														id="step3Btn">예약요청</a>
												</div>
											</dd>
										</dl>
									</div>
									<!-- //펼쳤을 때 -->
								</div>
								<!-- //스텝3 -->

								<!-- 예약완료 -->
								<div class="stepDone selcWrap" id="stepDone" style="display: none;">
									<div class="doneText" id="payDone"><strong class="point1">예약</strong><strong
											class="point3">이 완료 되었습니다.</strong><br>
										이용해 주셔서 감사합니다.</div>

									<div class="detailSns">
										<a href="#none" id="snsKt"
											onclick="javascript:tempSharing('https://academy.amway.co.kr/reservation/redirectUrl.do', 'kakaotalk');"
											title="새창열림"><img src="/_ui/mobile/images/common/btn_sns_ct.gif"
												alt="kakaotalk"></a>
										<a href="#none" id="snsKs"
											onclick="javascript:tempSharing('https://academy.amway.co.kr/reservation/redirectUrl.do', 'kakaostory');"
											title="새창열림"><img src="/_ui/mobile/images/common/btn_sns_cs.gif"
												alt="kakaostory"></a>
										<a href="#none" id="snsBd"
											onclick="javascript:tempSharing('https://academy.amway.co.kr/reservation/redirectUrl.do', 'band');"
											title="새창열림"><img src="/_ui/mobile/images/common/btn_sns_bd.gif"
												alt="band"></a>
										<a href="#none" id="snsFb"
											onclick="javascript:tempSharing('https://academy.amway.co.kr/reservation/simpleReservation.do', 'facebook');"
											title="새창열림"><img src="/_ui/mobile/images/common/btn_sns_fb.gif"
												alt="facebook"></a>
									</div>
									<span class="doneText">예약내역공유</span>

									<div class="btnWrap aNumb2">
										<a href="/reservation/roomForm.do?menuCode=3" class="btnBasicGL">예약계속하기</a>
										<a href="/reservation/roomInfoList.do" class="btnBasicBL">예약현황확인</a>
									</div>
								</div>
								<!-- //예약완료 -->
							</section>

							<!-- layer popoup -->

							<!-- 예약정보 확인 -->
							<div class="pbLayerPopup fixedFullsize" id="uiLayerPop_confirm" style="display: none;">
								<div class="pbLayerHeader">
									<strong>예약정보 확인</strong>
									<a href="#none" class="btnPopClose">
										<img src="/_ui/mobile/images/common/new_close.png" alt="창 닫기">
									</a>
								</div>
								<div class="pbLayerContent" style="overflow: auto;">

									<table class="tblResrConform">
										<colgroup>
											<col width="30%">
											<col width="70%">
										</colgroup>
										<thead>
											<tr>
												<th scope="col" colspan="2">
													<!-- PP정보 rendering -->
												</th>
											</tr>
										</thead>
										<tfoot>
											<tr>
												<td colspan="2">
													<!-- 예약건수 및 가격 rendering -->
												</td>
											</tr>
										</tfoot>
										<tbody>
											<!-- 예약 상세 내역 rendering -->
										</tbody>
									</table>

									<div class="grayBox">
										위의 정보가 맞으면 [예약확정] 버튼을 눌러 주세요.<br>
										<span class="point3">[예약확정] 하셔야 정상적으로 예약이 완료됩니다.</span>
									</div>

									<div class="btnWrap aNumb2">
										<span><a href="#" class="btnBasicGL"
												onclick="javascript:confirmClosePop();">예약취소</a></span>
										<span><a href="#" class="btnBasicBL">예약확정</a></span>
									</div>

								</div>
							</div>
							<!-- //예약정보 확인 -->

							<!-- 예약불가 알림 -->
							<div class="pbLayerPopup" id="uiLayerPop_cannot" style="display: none;">
								<div class="pbLayerHeader">
									<strong>예약불가 알림</strong>
									<a href="#none" class="btnPopClose">
										<img src="/_ui/mobile/images/common/new_close.png" alt="창 닫기">
									</a>
								</div>
								<div class="pbLayerContent">

									<div class="cancelWrap">
										예약 진행 중 다른 사용자가 실시간으로 <br>아래 예약건을 이미 완료 하였습니다.
										<div class="bdBox textL">
											<span class="point1"></span>
										</div>
									</div>
									<div class="radioList">
										<span><input type="radio" id="sessionSelect1" name="resConfirm"
												value="sessionSelect1" checked="checked"><label
												for="sessionSelect1">예약불가 세션 제외 후 예약 진행</label></span>
										<span><input type="radio" id="sessionSelect2" name="resConfirm"
												value="sessionSelect2"><label for="sessionSelect2">재 선택 후 예약
												진행</label></span>
									</div>
									<div class="btnWrap bNumb1">
										<a href="#" class="btnBasicBL"
											onclick="javascript:eduCultureDisabledConfirm();">확인</a>
									</div>
								</div>
							</div>
							<!-- //예약불가 알림 -->

							<!-- 시설예약 현황보기 -->
							<div class="pbLayerPopup fixedFullsize" id="uiLayerPop_calender" style="display: none;">
								<div class="pbLayerHeader">
									<strong>시설예약 현황확인</strong>
									<a href="#none" class="btnPopClose">
										<img src="/_ui/mobile/images/common/new_close.png" alt="창 닫기">
									</a>
								</div>
								<div class="pbLayerContent">

									<!-- 캘린더형 -->
									<div class="viewCalendar">
										<p class="topText"><strong>총 00 개</strong>의 시설예약 내역이 있습니다.</p>
										<div class="calendarWrapper">

											<div class="inputBox monthlyNum">
												<p class="selectBox">
													<select id="year" class="year" title="년도">
														<option>2016</option>
													</select>
													<select id="month" class="month" title="월">
														<option>06</option>
														<option>05</option>
														<option>04</option>
													</select>
													<input type="hidden" id="popDay">
												</p>
												<a href="#" class="monthPrev" onclick="javascript:setMonth('pre')"><span
														class="hide">이전달</span></a><!-- 이전목록이 있으면 .on 활성화 -->
												<a href="#" class="monthNext"
													onclick="javascript:setMonth('post')"><span
														class="hide">다음달</span></a><!-- 다음 목록이 있으면 .on 활성화 -->
											</div>

											<table class="tblBookCalendar">
												<caption>캘린더형 - 날짜별 시설예약가능 시간</caption>
												<colgroup>
													<col style="width:13.5%">
													<col style="width:14.5%" span="5">
													<col style="width:auto">
												</colgroup>
												<thead>
													<tr>
														<th scope="col" class="weekSun">일</th>
														<th scope="col" class="weekMon">월</th>
														<th scope="col" class="weekTue">화</th>
														<th scope="col" class="weekWed">수</th>
														<th scope="col" class="weekThur">목</th>
														<th scope="col" class="weekFri">금</th>
														<th scope="col" class="weekSat">토</th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<td></td>
														<td></td>
														<td class="weekTue">
															<a href="javascript:deleteSelcOnCal('1', '2023', '8');"
																id="cal20230801">
																1
																<span>(5)</span>
															</a>
														</td>
														<td class="weekWed">
															<a href="javascript:deleteSelcOnCal('2', '2023', '8');"
																id="cal20230802">
																2
																<span>(5)</span>
															</a>
														</td>
														<td class="weekThur">
															<a href="javascript:deleteSelcOnCal('3', '2023', '8');"
																id="cal20230803">
																3
																<span>(2)</span>
															</a>
														</td>
														<td class="weekFri">
															<a href="javascript:deleteSelcOnCal('4', '2023', '8');"
																id="cal20230804">
																4
																<span>(5)</span>
															</a>
														</td>
														<td class="weekSat">
															<a href="javascript:deleteSelcOnCal('5', '2023', '8');"
																id="cal20230805">
																5
																<span>(4)</span>
															</a>
														</td>
													</tr>
													<tr>
														<td class="late">
															<a href="javascript:void(0);" id="20230806">
																6
															</a>
														</td>
														<td class="weekMon">
															<a href="javascript:deleteSelcOnCal('7', '2023', '8');"
																id="cal20230807">
																7
																<span>(3)</span>
															</a>
														</td>
														<td class="weekTue">
															<a href="javascript:deleteSelcOnCal('8', '2023', '8');"
																id="cal20230808">
																8
																<span>(5)</span>
															</a>
														</td>
														<td class="weekWed">
															<a href="javascript:deleteSelcOnCal('9', '2023', '8');"
																id="cal20230809">
																9
																<span>(3)</span>
															</a>
														</td>
														<td class="weekThur">
															<a href="javascript:deleteSelcOnCal('10', '2023', '8');"
																id="cal20230810">
																10
																<span>(2)</span>
															</a>
														</td>
														<td class="weekFri">
															<a href="javascript:deleteSelcOnCal('11', '2023', '8');"
																id="cal20230811">
																11
																<span>(5)</span>
															</a>
														</td>
														<td class="weekSat">
															<a href="javascript:deleteSelcOnCal('12', '2023', '8');"
																id="cal20230812">
																12
																<span>(4)</span>
															</a>
														</td>
													</tr>
													<tr>
														<td class="late">
															<a href="javascript:void(0);" id="20230813">
																13
															</a>
														</td>
														<td class="weekMon">
															<a href="javascript:deleteSelcOnCal('14', '2023', '8');"
																id="cal20230814">
																14
																<span>(2)</span>
															</a>
														</td>
														<td class="late">
															<a href="javascript:void(0);" id="20230815">
																15
																<span>휴무</span>
															</a>
														</td>
														<td class="weekWed">
															<a href="javascript:deleteSelcOnCal('16', '2023', '8');"
																id="cal20230816">
																16
																<span>(3)</span>
															</a>
														</td>
														<td class="weekThur">
															<a href="javascript:deleteSelcOnCal('17', '2023', '8');"
																id="cal20230817">
																17
																<span>(2)</span>
															</a>
														</td>
														<td class="weekFri">
															<a href="javascript:deleteSelcOnCal('18', '2023', '8');"
																id="cal20230818">
																18
																<span>(3)</span>
															</a>
														</td>
														<td class="late">
															<a href="javascript:void(0);" id="20230819">
																19
															</a>
														</td>
													</tr>
													<tr>
														<td class="late">
															<a href="javascript:void(0);" id="20230820">
																20
															</a>
														</td>
														<td class="weekMon">
															<a href="javascript:deleteSelcOnCal('21', '2023', '8');"
																id="cal20230821">
																21
																<span>(3)</span>
															</a>
														</td>
														<td class="weekTue">
															<a href="javascript:deleteSelcOnCal('22', '2023', '8');"
																id="cal20230822">
																22
																<span>(5)</span>
															</a>
														</td>
														<td class="weekWed">
															<a href="javascript:deleteSelcOnCal('23', '2023', '8');"
																id="cal20230823">
																23
																<span>(5)</span>
															</a>
														</td>
														<td class="weekThur">
															<a href="javascript:deleteSelcOnCal('24', '2023', '8');"
																id="cal20230824">
																24
																<span>(3)</span>
															</a>
														</td>
														<td class="weekFri">
															<a href="javascript:deleteSelcOnCal('25', '2023', '8');"
																id="cal20230825">
																25
																<span>(5)</span>
															</a>
														</td>
														<td class="weekSat">
															<a href="javascript:deleteSelcOnCal('26', '2023', '8');"
																id="cal20230826">
																26
																<span>(4)</span>
															</a>
														</td>
													</tr>
													<tr>
														<td class="late">
															<a href="javascript:void(0);" id="20230827">
																27
															</a>
														</td>
														<td class="weekMon">
															<a href="javascript:deleteSelcOnCal('28', '2023', '8');"
																id="cal20230828">
																28
																<span>(5)</span>
															</a>
														</td>
														<td class="late">
															<a href="javascript:void(0);" id="20230829">
																29
															</a>
														</td>
														<td class="late">
															<a href="javascript:void(0);" id="20230830">
																30
															</a>
														</td>
														<td class="late">
															<a href="javascript:void(0);" id="20230831">
																31
															</a>
														</td>
														<td></td>
														<td></td>
													</tr>
												</tbody>
											</table>

											<div class="tblCalendarBottom">
												<div class="resrState">
													<span class="calIcon2 blue"></span>교육장
													<span class="calIcon2 green"></span>비즈룸
													<span class="calIcon2 red"></span>퀸룸/파티룸
													<span class="calIcon2 gray"></span>25센트라이드예약
													<span class="calIcon2 purple"></span>A-STATION 시설
												</div>
												<div class="btnR"> <a href="#none" class="btnTbl"
														onclick="javascript:roomMonthReservationListAjax();">월 예약
														전체보기</a></div>
											</div>
										</div>

										<dl class="tblBizroomState">
										</dl>
									</div>
									<!-- //캘린더형 -->

									<div class="btnWrap bNumb1">
										<a href="#" class="btnBasicGL"
											onclick="javascript:closePopLayer('#uiLayerPop_calender');">닫기</a>
									</div>
								</div>
							</div>
							<!-- //시설예약 현황보기 -->

							<!-- 약관 및 동의 전체보기 -->
							<div class="pbLayerPopup fixedFullsize" id="uiLayerPop_personal"
								style="display: none; top: 0px;" tabindex="0" aria-hidden="true">
								<div class="pbLayerHeader">
									<strong>약관 및 동의 전체보기</strong>
									<a href="#none" class="btnPopClose">
										<img src="/_ui/mobile/images/common/new_close.png" alt="창 닫기">
									</a>
								</div>
								<div class="pbLayerContent" style="height: 738px; overflow: auto;">

									<div class="tabWrapLogical tNum2Line">
										<section class="on">
											<h2 class="tab01"><a href="#none">시설교육 규정 동의</a></h2>
											<div>
												<div class="borderbox">
													<div class="termsWrapper pdNone" tabindex="0">
														<p><strong>제1조(목적)</strong> 이 규정은 AMWAY 비즈니스 센터 교육장(이하 “비즈룸”이라
															한다.)내 대관에 따른 시설물 사용 허가 및 기자재 관리와 운영에 관한 사항을 규정하는데 그 목적이 있다.
														</p>
														<p>&nbsp;</p>
														<p><strong>제2조 (대관의 정의)</strong> 대관이라 함은 ‘교육’, ‘행사’ 등을 위하여 시설,
															설비 및 부수장비를 소정의 절차를 거쳐 대관 사용하는 것과 관련 부수행위를 위하여 비즈룸의 시설설비를 임대
															사용하는 것을 말한다.</p>
														<p>&nbsp;</p>
														<p><strong>&nbsp;제3조(대관의 범위)</strong> 이 규정의 적용을 받는 대여시설 및 설비는
															비즈룸과 관련된 제반시설 및 설비를 말한다.</p>
														<p>&nbsp;</p>
														<p><strong>&nbsp;제4조(대관 시간과 비용)</strong> 1. 대관료는 인건비, 시설유지비,
															감가상각비 등 물가를 고려하여 “한국암웨이㈜” 에서 정하는 바에 따르며 교육 신청 시에 절차에 따라 납부해야
															한다. 2. 대관자가 납부한 대관료는 반환하지 않는다, 다만 한국암웨이㈜에서 정하는 절차에 따라 반환을
															요구할 경우 대관료를 반환할 수 있다. 3. 비즈룸의 대관 시간은 따로 정하는 바에 따른다. </p>
														<p>&nbsp;</p>
														<p><strong>&nbsp;제5조(시설 및 기자재 이용)</strong> 비즈룸 시설 및 기자재 이용은 아래 각
															호에 해당하는 자에 한하여 비즈룸내 시설물을 이용할 수 있다. 1. AMWAY 비즈니스 센터에서 실시되는
															본사 교육과 행사 우선 원칙. 2. 한국암웨이㈜에서 정한 비즈룸 신청 기준에 맞는 ABO. 3. 기타
															AMWAY 비즈니스 센터의 허가를 득한 단체 및 개인. </p>
														<p>&nbsp;</p>
														<p><strong>&nbsp;제6조(사용 조건)</strong> 본 비즈룸 사용자는 다음 각 호의 사용 조건을
															준수하여야 한다. 단, 부득이한 경우 AMWAY 비즈니스 센터와 사전 협의 조정할 수 있다 1.비즈룸
															사용자는 시설물 및 비품 관리에 만전을 기하여야 한다. 단, 부주의에 의한 시설물 및 비품 훼손 시 그에
															상응한 보상처리를 하여야 한다. 2. 비즈룸 사용 기간과 시간은 신청한 일자와 시간을 벗어나 사용할 수
															없다. 3. 비즈룸에서 진행되는 각종 교육 및 행사는 모두 무료로 진행되어야 하며, 참가자에게 일체의 비용을
															징수 할 수 없다. </p>
														<p>&nbsp;</p>
														<p><strong>제7조(사용상 주의)</strong> 비즈룸 시설 기자재 및 자료 사용자는 소중히 사용하여야
															하며 망실 혹은 훼손하는 자는 원상회복에 해당하는 금액을 변상하는 것을 원칙으로 한다. </p>
														<p>&nbsp;</p>
														<p><strong>&nbsp;제8조(사용자 제한)</strong> 비즈룸 사용자 중 다음 각 호의 행위에 한 해
															사용을 금지할 수 있다. 1. 비즈룸 운영에 지장을 초래하는 행위 2. 비즈룸 사용 계획의 본래 목적과
															상반된 행위 3. 비즈룸 내 기자재 등 비품을 소홀히 다루고 훼손하는 행위 4. 기타 명시되지 아니한 사용
															목적 중 명백히 한국암웨이의 이익 또는 ABO 윤리강령 및 행동지침에 위배되는 행위 </p>
														<p>&nbsp;</p>
														<p><strong>제9조(부칙</strong>) 본 규정은 2017년 12월 12일부터
															시행한다.&nbsp;&nbsp;</p>
													</div>
												</div>
											</div>
										</section>
										<section class="">
											<h2 class="tab02"><a href="#none">제품 교육 시 주의 사항</a></h2>
											<div>
												<div class="borderbox">
													<div class="termsWrapper pdNone" tabindex="0">
														<p>한국암웨이 뉴트리라이트 제품은 의약품이 아닌 건강기능식품으로, 제품 판매 또는 권유시 세심한 주의가
															요구됩니다. 건강기능식품의 경우 과대과장 광고 및 기타 불법 판매 행위에 대한 지속적인 감시와 규제가
															이루어지고 있으며, 다른 일반 제품과는 달리 지정기관에서의 교육 수료 후, 영업신고를 하셔야 제품 판매가
															가능합니다. </p>
														<p>&nbsp;</p>
														<p>따라서 제품 교육시에는 반드시 한국암웨이를 통해 공식적으로 인정된 내용만이 언급 되어야 하며, 다음의 내용이
															전달 되지 않도록 유의하여 주십시오.</p>
														<p>- 뉴트리라이트 제품이 질병의 치료나 예방에 효과가 있다는 내용의 전달 </p>
														<p>- 기타 의약품으로 이인할 수 있는 표현의 사용 </p>
														<p>- 제품의 소분/재가공 판매 </p>
														<p>- 권장 섭취량 이상의 제품 과량 섭취 권장 등</p>
														<p>&nbsp;</p>
														<p>또한 재료비를 포함하여 어떠한 명목이나 형태로도 참가자에게 비용을 받을 수 없으며, 각종 책자 및 컨텐츠 등의
															사업 보조 물품을 판매하거나 홍보할 수 없습니다. 상기 규정의 위반시 윤리강령상의 조치는 물론 법규 위반에
															따른 법적 처벌까지 받을 수 있는 중대한 사안임을 감안하시어, 적극적인 준수를 부탁드립니다. 주의사항을
															충분히 숙지 하였으며, ABC 교육시 상기원칙을 준수하겠습니다.</p>
													</div>
												</div>
												<p class="listDot mgtS fsS">한국암웨이 뉴트리라이트 제품은 의약품이 아닌 건강기능식품으로, 제품 판매 또는
													권유시 세심한 주의가 요구됩니다.</p>
											</div>
										</section>
									</div>

									<div class="btnWrap bNumb1">
										<a href="#" class="btnBasicGL" onclick="javascript:personalClosePop();">닫기</a>
									</div>
								</div>
							</div>
							<!-- //약관 및 동의 전체보기 -->

						</div>
					</div>
				</div>



				<a href="https://www.amway.co.kr/business-center" class="btnPopClose"><img
						src="/_ui/mobile/images/common/new_close.png" alt="창 닫기"></a>


			</div>

		</section>
	</div>




	<script type="text/javascript">
		var utag_data = {
			site_type: "mobile", //	desktop / mobile 
			site_country: "kr", //	kr ê³&nbsp;ì&nbsp;
			site_language: "ko", //	ko ê³&nbsp;ì&nbsp;
			site_subGroup: "korea", //	korea ê³&nbsp;ì&nbsp;
			site_subRegion: "korea", //	korea ê³&nbsp;ì&nbsp;
			site_region: "apac", //	apac ê³&nbsp;ì&nbsp;
			site_webProperty: "ecm", //	ecm ê³&nbsp;ì&nbsp;
			site_currencyCode: "krw", //

			page_section: "비즈니스", //	home
			page_category: "시설예약", //	
			page_subCategory: "비즈룸예약", //	
			page_detail: "",

			// ABO ì¸ ê²½ì°
			visitor_imcID: "18000007480000",
			visitor_pinNumber: "Diamond", //this can be a descriptive value (e.g., platinum, silver_producer, diamond, etc.)
			visitor_userProfile: "abo",

			// Member ì¸ ê²½ì°
			visitor_customerID: "", //if the user is a non-abo customer or client
			visitor_userProfile: "abo",
		}
		var urlaccess = "OPER";

		if (urlaccess == "OPER") {
			//send tagging information
			(function (a, b, c, d) {
				a = '//tags.tiqcdn.com/utag/amway/kr-hybris/prod/utag.js'; // ê°ë°/QA íê²½ì¸ ê²½ì°
				b = document;
				c = 'script';
				d = b.createElement(c);
				d.src = a;
				d.type = 'text/java' + c;
				d.async = true;
				a = b.getElementsByTagName(c)[0];
				a.parentNode.insertBefore(d, a);
			})();
		} else {
			//send tagging information
			(function (a, b, c, d) {
				a = '//tags.tiqcdn.com/utag/amway/kr-hybris/dev/utag.js'; // ê°ë°/QA íê²½ì¸ ê²½ì°
				b = document;
				c = 'script';
				d = b.createElement(c);
				d.src = a;
				d.type = 'text/java' + c;
				d.async = true;
				a = b.getElementsByTagName(c)[0];
				a.parentNode.insertBefore(d, a);
			})();
		}
	</script>
	<div id="ZN_3rSsdvUbtRESZoh"></div>
</body>

</html>