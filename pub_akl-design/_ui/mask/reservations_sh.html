<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<title>ABN Korea</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2, minimum-scale=1">
	<meta name="format-detection" content="telephone=no">
	<link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:300,400,500,700&subset=korean" rel="stylesheet">
	<link rel="stylesheet" href="css/mask.css">
	<script src="https://www.amway.co.kr/_ui/responsive/common/js/jquery-3.2.1.min.js"></script>
</head>
<body>
<div class="mask_contents-wrap with_floting">
	<h1 class="title_type-a">예약 조회</h1>
	<div class="reservation-area reservation-search">
		<h2 class="title_type-b">예약자 정보 입력</h2>
		<div>
			<div class="new-join-wrap">
				<div class="ipt_area">
					<label for="ko_abo" class="form_label">ABO 번호</label>
					<input type="text" class="form_ipt" id="ko_abo">
				</div>
				<div class="ipt_area">
					<label for="ko_name" class="form_label">이름</label>
					<input type="text" class="form_ipt" id="ko_name">
				</div>
				<div class="ipt_area">
					<label for="phone_number" class="form_label">휴대폰 번호(-없이 입력)</label>
					<input type="text" class="form_ipt check_hyphen" id="phone_number">
				</div>
			</div>
		</div>
	</div>
	<div class="btn-area">
		<button type="button" class="btn_type-a" onclick="location.href='reservations_result.html'">예약 조회</button>
	</div>
</div>
<script>
	function autoHyphen(str){
		str = str.replace(/[^0-9]/g, '');
		var temp = '';
		if( str.length < 4){
			return str;
		}else if(str.length < 7){
			temp += str.substr(0, 3);
			temp += '-';
			temp += str.substr(3);
			return temp;
		} else if(str.length < 11){
			temp += str.substr(0, 3);
			temp += '-';
			temp += str.substr(3, 3);
			temp += '-';
			temp += str.substr(6);
			return temp;
		} else{
			temp += str.substr(0, 3);
			temp += '-';
			temp += str.substr(3, 4);
			temp += '-';
			temp += str.substr(7);
			return temp;
		}
		return str;
	}

	var checkPhone = document.querySelector('.check_hyphen');
	checkPhone.onkeyup = function(event) {
		event = event || window.event;
		var _val = this.value.trim();
		this.value = autoHyphen( _val );
	}

	window.addEventListener('DOMContentLoaded', function () {
		$('.form_ipt').not('.ipt_area_change .form_ipt').each(function() {
			var thisInput = $(this);
			var paDiv = thisInput.parent();
			thisInput.on('focus focusout', function (e) {
				if (e.type === 'focus') {
					if (!paDiv.hasClass('on')) {
						paDiv.addClass('on');
					}
				} else if (e.type === 'focusout') {
					if (thisInput.val() == "") {
						paDiv.removeClass('on');
					}
				}
			});
		});
	});
</script>
</body>
</html>